"use strict";(self.webpackChunkparking_ticket=self.webpackChunkparking_ticket||[]).push([[179],{545:()=>{function Ze(t){return"function"==typeof t}function _h(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Om=_h(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function vc(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Mr{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ze(r))try{r()}catch(s){e=s instanceof Om?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{cV(s)}catch(o){e=e??[],o instanceof Om?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Om(e)}}add(e){var n;if(e&&e!==this)if(this.closed)cV(e);else{if(e instanceof Mr){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&vc(n,e)}remove(e){const{_finalizers:n}=this;n&&vc(n,e),e instanceof Mr&&e._removeParent(this)}}Mr.EMPTY=(()=>{const t=new Mr;return t.closed=!0,t})();const aV=Mr.EMPTY;function uV(t){return t instanceof Mr||t&&"closed"in t&&Ze(t.remove)&&Ze(t.add)&&Ze(t.unsubscribe)}function cV(t){Ze(t)?t():t.unsubscribe()}const Ba={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Fm={setTimeout(t,e,...n){const{delegate:r}=Fm;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Fm;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function lV(t){Fm.setTimeout(()=>{const{onUnhandledError:e}=Ba;if(!e)throw t;e(t)})}function dT(){}const LJ=hT("C",void 0,void 0);function hT(t,e,n){return{kind:t,value:e,error:n}}let ja=null;function Vm(t){if(Ba.useDeprecatedSynchronousErrorHandling){const e=!ja;if(e&&(ja={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ja;if(ja=null,n)throw r}}else t()}class fT extends Mr{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,uV(e)&&e.add(this)):this.destination=zJ}static create(e,n,r){return new yh(e,n,r)}next(e){this.isStopped?gT(function BJ(t){return hT("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?gT(function UJ(t){return hT("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?gT(LJ,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $J=Function.prototype.bind;function pT(t,e){return $J.call(t,e)}class GJ{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Lm(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Lm(r)}else Lm(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Lm(n)}}}class yh extends fT{constructor(e,n,r){let i;if(super(),Ze(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ba.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&pT(e.next,s),error:e.error&&pT(e.error,s),complete:e.complete&&pT(e.complete,s)}):i=e}this.destination=new GJ(i)}}function Lm(t){Ba.useDeprecatedSynchronousErrorHandling?function jJ(t){Ba.useDeprecatedSynchronousErrorHandling&&ja&&(ja.errorThrown=!0,ja.error=t)}(t):lV(t)}function gT(t,e){const{onStoppedNotification:n}=Ba;n&&Fm.setTimeout(()=>n(t,e))}const zJ={closed:!0,next:dT,error:function qJ(t){throw t},complete:dT},mT="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ao(t){return t}function dV(t){return 0===t.length?Ao:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let wt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function KJ(t){return t&&t instanceof fT||function WJ(t){return t&&Ze(t.next)&&Ze(t.error)&&Ze(t.complete)}(t)&&uV(t)}(n)?n:new yh(n,r,i);return Vm(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=hV(r))((i,s)=>{const o=new yh({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[mT](){return this}pipe(...n){return dV(n)(this)}toPromise(n){return new(n=hV(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function hV(t){var e;return null!==(e=t??Ba.Promise)&&void 0!==e?e:Promise}const QJ=_h(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Si=(()=>{class t extends wt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new fV(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new QJ}next(n){Vm(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Vm(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Vm(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?aV:(this.currentObservers=null,s.push(n),new Mr(()=>{this.currentObservers=null,vc(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new wt;return n.source=this,n}}return t.create=(e,n)=>new fV(e,n),t})();class fV extends Si{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:aV}}function pV(t){return Ze(t?.lift)}function sn(t){return e=>{if(pV(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Jt(t,e,n,r,i){return new YJ(t,e,n,r,i)}class YJ extends fT{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function $e(t,e){return sn((n,r)=>{let i=0;n.subscribe(Jt(r,s=>{r.next(t.call(e,s,i++))}))})}function vT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Do(t){return this instanceof Do?(this.v=t,this):new Do(t)}function yV(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function IT(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const vV=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function EV(t){return Ze(t?.then)}function IV(t){return Ze(t[mT])}function wV(t){return Symbol.asyncIterator&&Ze(t?.[Symbol.asyncIterator])}function TV(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const bV=function _Z(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function CV(t){return Ze(t?.[bV])}function AV(t){return function _V(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Do?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Do(n.read());if(i)return yield Do(void 0);yield yield Do(r)}}finally{n.releaseLock()}})}function DV(t){return Ze(t?.getReader)}function Wr(t){if(t instanceof wt)return t;if(null!=t){if(IV(t))return function yZ(t){return new wt(e=>{const n=t[mT]();if(Ze(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(vV(t))return function vZ(t){return new wt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(EV(t))return function EZ(t){return new wt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,lV)})}(t);if(wV(t))return SV(t);if(CV(t))return function IZ(t){return new wt(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(DV(t))return function wZ(t){return SV(AV(t))}(t)}throw TV(t)}function SV(t){return new wt(e=>{(function TZ(t,e){var n,r,i,s;return function gV(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=yV(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Ns(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Dn(t,e,n=1/0){return Ze(e)?Dn((r,i)=>$e((s,o)=>e(r,s,i,o))(Wr(t(r,i))),n):("number"==typeof e&&(n=e),sn((r,i)=>function bZ(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;Wr(n(g,l++)).subscribe(Jt(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const v=u.shift();o?Ns(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return t.subscribe(Jt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Ec(t=1/0){return Dn(Ao,t)}const Ki=new wt(t=>t.complete());function wT(t){return t[t.length-1]}function xV(t){return Ze(wT(t))?t.pop():void 0}function vh(t){return function AZ(t){return t&&Ze(t.schedule)}(wT(t))?t.pop():void 0}function Um(t,e=0){return sn((n,r)=>{n.subscribe(Jt(r,i=>Ns(r,t,()=>r.next(i),e),()=>Ns(r,t,()=>r.complete(),e),i=>Ns(r,t,()=>r.error(i),e)))})}function Bm(t,e=0){return sn((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function RV(t,e){if(!t)throw new Error("Iterable cannot be null");return new wt(n=>{Ns(n,e,()=>{const r=t[Symbol.asyncIterator]();Ns(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Dt(t,e){return e?function NZ(t,e){if(null!=t){if(IV(t))return function SZ(t,e){return Wr(t).pipe(Bm(e),Um(e))}(t,e);if(vV(t))return function RZ(t,e){return new wt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(EV(t))return function xZ(t,e){return Wr(t).pipe(Bm(e),Um(e))}(t,e);if(wV(t))return RV(t,e);if(CV(t))return function PZ(t,e){return new wt(n=>{let r;return Ns(n,e,()=>{r=t[bV](),Ns(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ze(r?.return)&&r.return()})}(t,e);if(DV(t))return function MZ(t,e){return RV(AV(t),e)}(t,e)}throw TV(t)}(t,e):Wr(t)}class Kr extends Si{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function de(...t){return Dt(t,vh(t))}function PV(t={}){const{connector:e=(()=>new Si),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return sn((g,m)=>{c++,!d&&!l&&h();const v=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=TT(p,i))}),v.subscribe(m),!o&&c>0&&(o=new yh({next:y=>v.next(y),error:y=>{d=!0,h(),a=TT(f,n,y),v.error(y)},complete:()=>{l=!0,h(),a=TT(f,r),v.complete()}}),Wr(g).subscribe(o))})(s)}}function TT(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new yh({next:()=>{r.unsubscribe(),t()}});return Wr(e(...n)).subscribe(r)}function xi(t,e){return sn((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Jt(r,u=>{i?.unsubscribe();let c=0;const l=s++;Wr(t(u,l)).subscribe(i=Jt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function FZ(t,e){return t===e}function ze(t){for(let e in t)if(t[e]===ze)return e;throw Error("Could not find renamed property on target object.")}function jm(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function on(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(on).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function bT(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const VZ=ze({__forward_ref__:ze});function tt(t){return t.__forward_ref__=tt,t.toString=function(){return on(this())},t}function ce(t){return CT(t)?t():t}function CT(t){return"function"==typeof t&&t.hasOwnProperty(VZ)&&t.__forward_ref__===tt}function AT(t){return t&&!!t.\u0275providers}const MV="https://g.co/ng/security#xss";class C extends Error{constructor(e,n){super(function $m(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function pe(t){return"string"==typeof t?t:null==t?"":String(t)}function DT(t,e){throw new C(-201,!1)}function pi(t,e){null==t&&function ae(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function re(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Gm(t){return NV(t,zm)||NV(t,kV)}function NV(t,e){return t.hasOwnProperty(e)?t[e]:null}function qm(t){return t&&(t.hasOwnProperty(ST)||t.hasOwnProperty(zZ))?t[ST]:null}const zm=ze({\u0275prov:ze}),ST=ze({\u0275inj:ze}),kV=ze({ngInjectableDef:ze}),zZ=ze({ngInjectorDef:ze});var be=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(be||{});let xT;function Nr(t){const e=xT;return xT=t,e}function FV(t,e,n){const r=Gm(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&be.Optional?null:void 0!==e?e:void DT(on(t))}const nt=globalThis,Eh={},kT="__NG_DI_FLAG__",Hm="ngTempTokenPath",KZ=/\n/gm,LV="__source";let Ic;function So(t){const e=Ic;return Ic=t,e}function XZ(t,e=be.Default){if(void 0===Ic)throw new C(-203,!1);return null===Ic?FV(t,void 0,e):Ic.get(t,e&be.Optional?null:void 0,e)}function Q(t,e=be.Default){return(function OV(){return xT}()||XZ)(ce(t),e)}function H(t,e=be.Default){return Q(t,Wm(e))}function Wm(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function OT(t){const e=[];for(let n=0;n<t.length;n++){const r=ce(t[n]);if(Array.isArray(r)){if(0===r.length)throw new C(900,!1);let i,s=be.Default;for(let o=0;o<r.length;o++){const a=r[o],u=JZ(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(Q(i,s))}else e.push(Q(r))}return e}function Ih(t,e){return t[kT]=e,t.prototype[kT]=e,t}function JZ(t){return t[kT]}function ks(t){return{toString:t}.toString()}var Km=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Km||{}),gi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(gi||{});const Qi={},Le=[],Qm=ze({\u0275cmp:ze}),FT=ze({\u0275dir:ze}),VT=ze({\u0275pipe:ze}),BV=ze({\u0275mod:ze}),Os=ze({\u0275fac:ze}),wh=ze({__NG_ELEMENT_ID__:ze}),jV=ze({__NG_ENV_ID__:ze});function $V(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function LT(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];qV(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function GV(t){return 3===t||4===t||6===t}function qV(t){return 64===t.charCodeAt(0)}function Th(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||zV(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function zV(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const HV="ng-template";function tee(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==$V(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function WV(t){return 4===t.type&&t.value!==HV}function nee(t,e,n){return e===(4!==t.type||n?t.value:HV)}function ree(t,e,n){let r=4;const i=t.attrs||[],s=function oee(t){for(let e=0;e<t.length;e++)if(GV(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!nee(t,u,n)||""===u&&1===e.length){if(Ri(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!tee(t.attrs,c,n)){if(Ri(r))return!1;o=!0}continue}const d=iee(8&r?"class":u,i,WV(t),n);if(-1===d){if(Ri(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==$V(f,c,0)||2&r&&c!==h){if(Ri(r))return!1;o=!0}}}}else{if(!o&&!Ri(r)&&!Ri(u))return!1;if(o&&Ri(u))continue;o=!1,r=u|1&r}}return Ri(r)||o}function Ri(t){return 0==(1&t)}function iee(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function aee(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function KV(t,e,n=!1){for(let r=0;r<e.length;r++)if(ree(t,e[r],n))return!0;return!1}function QV(t,e){return t?":not("+e.trim()+")":e}function cee(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ri(o)&&(e+=QV(s,i),i=""),r=o,s=s||!Ri(r);n++}return""!==i&&(e+=QV(s,i)),e}function Pi(t){return ks(()=>{const e=XV(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Km.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||gi.Emulated,styles:t.styles||Le,_:null,schemas:t.schemas||null,tView:null,id:""};JV(n);const r=t.dependencies;return n.directiveDefs=Ym(r,!1),n.pipeDefs=Ym(r,!0),n.id=function _ee(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function fee(t){return Pe(t)||Sn(t)}function pee(t){return null!==t}function mr(t){return ks(()=>({type:t.type,bootstrap:t.bootstrap||Le,declarations:t.declarations||Le,imports:t.imports||Le,exports:t.exports||Le,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function YV(t,e){if(null==t)return Qi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function le(t){return ks(()=>{const e=XV(t);return JV(e),e})}function kr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Pe(t){return t[Qm]||null}function Sn(t){return t[FT]||null}function _r(t){return t[VT]||null}function Yr(t,e){const n=t[BV]||null;if(!n&&!0===e)throw new Error(`Type ${on(t)} does not have '\u0275mod' property.`);return n}function XV(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Qi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Le,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:YV(t.inputs,e),outputs:YV(t.outputs)}}function JV(t){t.features?.forEach(e=>e(t))}function Ym(t,e){if(!t)return null;const n=e?_r:fee;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(pee)}const St=0,q=1,Ee=2,mt=3,Mi=4,bh=5,Qn=6,Tc=7,Ut=8,xo=9,bc=10,ge=11,Ch=12,ZV=13,Cc=14,Bt=15,Ah=16,Ac=17,Yi=18,Dh=19,e2=20,Ro=21,Fs=22,Sh=23,xh=24,Ae=25,UT=1,t2=2,Xi=7,Dc=9,xn=11;function Or(t){return Array.isArray(t)&&"object"==typeof t[UT]}function yr(t){return Array.isArray(t)&&!0===t[UT]}function BT(t){return 0!=(4&t.flags)}function Ga(t){return t.componentOffset>-1}function Jm(t){return 1==(1&t.flags)}function Ni(t){return!!t.template}function jT(t){return 0!=(512&t[Ee])}function qa(t,e){return t.hasOwnProperty(Os)?t[Os]:null}let Rn=null,Zm=!1;function mi(t){const e=Rn;return Rn=t,e}const e_={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function o2(t){if(!Ph(t)||t.dirty){if(!t.producerMustRecompute(t)&&!c2(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function u2(t){t.dirty=!0,function a2(t){if(void 0===t.liveConsumerNode)return;const e=Zm;Zm=!0;try{for(const n of t.liveConsumerNode)n.dirty||u2(n)}finally{Zm=e}}(t),t.consumerMarkedDirty?.(t)}function t_(t){return t&&(t.nextProducerIndex=0),mi(t)}function n_(t,e){if(mi(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ph(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)r_(t.producerNode[n],t.producerIndexOfThis[n]);for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function c2(t){Sc(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(o2(n),r!==n.version))return!0}return!1}function l2(t){if(Sc(t),Ph(t))for(let e=0;e<t.producerNode.length;e++)r_(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function r_(t,e){if(function h2(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),Sc(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)r_(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Sc(i),i.producerIndexOfThis[r]=e}}function Ph(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Sc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let f2=null;const _2=()=>{},xee={...e_,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:_2};class Ree{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function _i(){return y2}function y2(t){return t.type.prototype.ngOnChanges&&(t.setInput=Mee),Pee}function Pee(){const t=E2(this),e=t?.current;if(e){const n=t.previous;if(n===Qi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Mee(t,e,n,r){const i=this.declaredInputs[n],s=E2(t)||function Nee(t,e){return t[v2]=e}(t,{previous:Qi,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new Ree(u&&u.currentValue,e,a===Qi),t[r]=e}_i.ngInherit=!0;const v2="__ngSimpleChanges__";function E2(t){return t[v2]||null}const Ji=function(t,e,n){},I2="svg";function rt(t){for(;Array.isArray(t);)t=t[St];return t}function s_(t,e){return rt(e[t])}function Fr(t,e){return rt(e[t.index])}function T2(t,e){return t.data[e]}function xc(t,e){return t[e]}function Xr(t,e){const n=e[t];return Or(n)?n:n[St]}function Mo(t,e){return null==e?null:t[e]}function b2(t){t[Ac]=0}function Uee(t){1024&t[Ee]||(t[Ee]|=1024,A2(t,1))}function C2(t){1024&t[Ee]&&(t[Ee]&=-1025,A2(t,-1))}function A2(t,e){let n=t[mt];if(null===n)return;n[bh]+=e;let r=n;for(n=n[mt];null!==n&&(1===e&&1===r[bh]||-1===e&&0===r[bh]);)n[bh]+=e,r=n,n=n[mt]}const ue={lFrame:V2(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function x2(){return ue.bindingsEnabled}function D(){return ue.lFrame.lView}function Me(){return ue.lFrame.tView}function o_(t){return ue.lFrame.contextLView=t,t[Ut]}function a_(t){return ue.lFrame.contextLView=null,t}function Pn(){let t=R2();for(;null!==t&&64===t.type;)t=t.parent;return t}function R2(){return ue.lFrame.currentTNode}function Zi(t,e){const n=ue.lFrame;n.currentTNode=t,n.isParent=e}function QT(){return ue.lFrame.isParent}function vr(){const t=ue.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Pc(){return ue.lFrame.bindingIndex++}function Ls(t){const e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Xee(t,e){const n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,XT(e)}function XT(t){ue.lFrame.currentDirectiveIndex=t}function k2(){return ue.lFrame.currentQueryIndex}function ZT(t){ue.lFrame.currentQueryIndex=t}function Zee(t){const e=t[q];return 2===e.type?e.declTNode:1===e.type?t[Qn]:null}function O2(t,e,n){if(n&be.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&be.Host||(i=Zee(s),null===i||(s=s[Cc],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ue.lFrame=F2();return r.currentTNode=e,r.lView=t,!0}function e0(t){const e=F2(),n=t[q];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function F2(){const t=ue.lFrame,e=null===t?null:t.child;return null===e?V2(t):e}function V2(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function L2(){const t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const U2=L2;function t0(){const t=L2();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Er(){return ue.lFrame.selectedIndex}function za(t){ue.lFrame.selectedIndex=t}function Tt(){const t=ue.lFrame;return T2(t.tView,t.selectedIndex)}function n0(){ue.lFrame.currentNamespace=I2}function r0(){!function rte(){ue.lFrame.currentNamespace=null}()}let j2=!0;function u_(){return j2}function No(t){j2=t}function c_(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function l_(t,e,n){$2(t,e,3,n)}function d_(t,e,n,r){(3&t[Ee])===n&&$2(t,e,n,r)}function s0(t,e){let n=t[Ee];(3&n)===e&&(n&=8191,n+=1,t[Ee]=n)}function $2(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Ac]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Ac]+=65536),(a<s||-1==s)&&(ste(t,n,e,u),t[Ac]=(4294901760&t[Ac])+u+2),u++}function G2(t,e){Ji(4,t,e);const n=mi(null);try{e.call(t)}finally{mi(n),Ji(5,t,e)}}function ste(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[Ee]>>13<t[Ac]>>16&&(3&t[Ee])===e&&(t[Ee]+=8192,G2(a,s)):G2(a,s)}const Mc=-1;class Nh{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function a0(t){return t!==Mc}function kh(t){return 32767&t}function Oh(t,e){let n=function cte(t){return t>>16}(t),r=e;for(;n>0;)r=r[Cc],n--;return r}let u0=!0;function h_(t){const e=u0;return u0=t,e}const q2=255,z2=5;let lte=0;const es={};function f_(t,e){const n=H2(t,e);if(-1!==n)return n;const r=e[q];r.firstCreatePass&&(t.injectorIndex=e.length,c0(r.data,t),c0(e,null),c0(r.blueprint,null));const i=p_(t,e),s=t.injectorIndex;if(a0(i)){const o=kh(i),a=Oh(i,e),u=a[q].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function c0(t,e){t.push(0,0,0,0,0,0,0,0,e)}function H2(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function p_(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Z2(i),null===r)return Mc;if(n++,i=i[Cc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Mc}function l0(t,e,n){!function dte(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(wh)&&(r=n[wh]),null==r&&(r=n[wh]=lte++);const i=r&q2;e.data[t+(i>>z2)]|=1<<i}(t,e,n)}function W2(t,e,n){if(n&be.Optional||void 0!==t)return t;DT()}function K2(t,e,n,r){if(n&be.Optional&&void 0===r&&(r=null),!(n&(be.Self|be.Host))){const i=t[xo],s=Nr(void 0);try{return i?i.get(e,r,n&be.Optional):FV(e,r,n&be.Optional)}finally{Nr(s)}}return W2(r,0,n)}function Q2(t,e,n,r=be.Default,i){if(null!==t){if(2048&e[Ee]&&!(r&be.Self)){const o=function _te(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[Ee]&&!(512&o[Ee]);){const a=Y2(s,o,n,r|be.Self,es);if(a!==es)return a;let u=s.parent;if(!u){const c=o[e2];if(c){const l=c.get(n,es,r);if(l!==es)return l}u=Z2(o),o=o[Cc]}s=u}return i}(t,e,n,r,es);if(o!==es)return o}const s=Y2(t,e,n,r,es);if(s!==es)return s}return K2(e,n,r,i)}function Y2(t,e,n,r,i){const s=function pte(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(wh)?t[wh]:void 0;return"number"==typeof e?e>=0?e&q2:mte:e}(n);if("function"==typeof s){if(!O2(e,t,r))return r&be.Host?W2(i,0,r):K2(e,n,r,i);try{let o;if(o=s(r),null!=o||r&be.Optional)return o;DT()}finally{U2()}}else if("number"==typeof s){let o=null,a=H2(t,e),u=Mc,c=r&be.Host?e[Bt][Qn]:null;for((-1===a||r&be.SkipSelf)&&(u=-1===a?p_(t,e):e[a+8],u!==Mc&&J2(r,!1)?(o=e[q],a=kh(u),e=Oh(u,e)):a=-1);-1!==a;){const l=e[q];if(X2(s,a,l.data)){const d=fte(a,e,n,o,r,c);if(d!==es)return d}u=e[a+8],u!==Mc&&J2(r,e[q].data[a+8]===c)&&X2(s,a,e)?(o=l,a=kh(u),e=Oh(u,e)):a=-1}}return i}function fte(t,e,n,r,i,s){const o=e[q],a=o.data[t+8],l=g_(a,o,n,null==r?Ga(a)&&u0:r!=o&&0!=(3&a.type),i&be.Host&&s===a);return null!==l?Ha(e,o,l,a):es}function g_(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Ni(f)&&f.type===n)return u}return null}function Ha(t,e,n,r){let i=t[n];const s=e.data;if(function ote(t){return t instanceof Nh}(i)){const o=i;o.resolving&&function LZ(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ge(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():pe(t)}(s[n]));const a=h_(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Nr(o.injectImpl):null;O2(t,r,be.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function ite(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=y2(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==c&&Nr(c),h_(a),o.resolving=!1,U2()}}return i}function X2(t,e,n){return!!(n[e+(t>>z2)]&1<<t)}function J2(t,e){return!(t&be.Self||t&be.Host&&e)}class Ir{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Q2(this._tNode,this._lView,e,Wm(r),n)}}function mte(){return new Ir(Pn(),D())}function Mn(t){return ks(()=>{const e=t.prototype.constructor,n=e[Os]||d0(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Os]||d0(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function d0(t){return CT(t)?()=>{const e=d0(ce(t));return e&&e()}:qa(t)}function Z2(t){const e=t[q],n=e.type;return 2===n?e.declTNode:1===n?t[Qn]:null}const kc="__parameters__";function Fc(t,e,n){return ks(()=>{const r=function h0(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(kc)?u[kc]:Object.defineProperty(u,kc,{value:[]})[kc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Lc(t,e){t.forEach(n=>Array.isArray(n)?Lc(n,e):e(n))}function tL(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function __(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Jr(t,e,n){let r=Uc(t,e);return r>=0?t[1|r]=n:(r=~r,function bte(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function f0(t,e){const n=Uc(t,e);if(n>=0)return t[1|n]}function Uc(t,e){return function nL(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const wr=Ih(Fc("Optional"),8),v_=Ih(Fc("SkipSelf"),4);function b_(t){return 128==(128&t.flags)}var ko=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ko||{});const y0=new Map;let Kte=0;const E0="__ngContext__";function Yn(t,e){Or(e)?(t[E0]=e[Dh],function Yte(t){y0.set(t[Dh],t)}(e)):t[E0]=e}let I0;function w0(t,e){return I0(t,e)}function jh(t){const e=t[mt];return yr(e)?e[mt]:e}function wL(t){return bL(t[Ch])}function TL(t){return bL(t[Mi])}function bL(t){for(;null!==t&&!yr(t);)t=t[Mi];return t}function $c(t,e,n,r,i){if(null!=r){let s,o=!1;yr(r)?s=r:Or(r)&&(o=!0,r=r[St]);const a=rt(r);0===t&&null!==n?null==i?SL(e,n,a):Wa(e,n,a,i||null,!0):1===t&&null!==n?Wa(e,n,a,i||null,!0):2===t?function P_(t,e,n){const r=x_(t,e);r&&function gne(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function yne(t,e,n,r,i){const s=n[Xi];s!==rt(n)&&$c(e,t,r,s,i);for(let a=xn;a<n.length;a++){const u=n[a];Gh(u[q],u,t,e,r,s)}}(e,t,s,n,i)}}function D_(t,e,n){return t.createElement(e,n)}function AL(t,e){const n=t[Dc],r=n.indexOf(e);C2(e),n.splice(r,1)}function S_(t,e){if(t.length<=xn)return;const n=xn+e,r=t[n];if(r){const i=r[Ah];null!==i&&i!==t&&AL(i,r),e>0&&(t[n-1][Mi]=r[Mi]);const s=__(t,xn+e);!function ane(t,e){Gh(t,e,e[ge],2,null,null),e[St]=null,e[Qn]=null}(r[q],r);const o=s[Yi];null!==o&&o.detachView(s[q]),r[mt]=null,r[Mi]=null,r[Ee]&=-129}return r}function b0(t,e){if(!(256&e[Ee])){const n=e[ge];e[Sh]&&l2(e[Sh]),e[xh]&&l2(e[xh]),n.destroyNode&&Gh(t,e,n,3,null,null),function lne(t){let e=t[Ch];if(!e)return C0(t[q],t);for(;e;){let n=null;if(Or(e))n=e[Ch];else{const r=e[xn];r&&(n=r)}if(!n){for(;e&&!e[Mi]&&e!==t;)Or(e)&&C0(e[q],e),e=e[mt];null===e&&(e=t),Or(e)&&C0(e[q],e),n=e&&e[Mi]}e=n}}(e)}}function C0(t,e){if(!(256&e[Ee])){e[Ee]&=-129,e[Ee]|=256,function pne(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Nh)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Ji(4,a,u);try{u.call(a)}finally{Ji(5,a,u)}}else{Ji(4,i,s);try{s.call(i)}finally{Ji(5,i,s)}}}}}(t,e),function fne(t,e){const n=t.cleanup,r=e[Tc];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Tc]=null);const i=e[Ro];if(null!==i){e[Ro]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[q].type&&e[ge].destroy();const n=e[Ah];if(null!==n&&yr(e[mt])){n!==e[mt]&&AL(n,e);const r=e[Yi];null!==r&&r.detachView(t)}!function Xte(t){y0.delete(t[Dh])}(e)}}function A0(t,e,n){return function DL(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[St];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===gi.None||s===gi.Emulated)return null}return Fr(r,n)}}(t,e.parent,n)}function Wa(t,e,n,r,i){t.insertBefore(e,n,r,i)}function SL(t,e,n){t.appendChild(e,n)}function xL(t,e,n,r,i){null!==r?Wa(t,e,n,r,i):SL(t,e,n)}function x_(t,e){return t.parentNode(e)}let D0,P0,N_,ML=function PL(t,e,n){return 40&t.type?Fr(t,n):null};function R_(t,e,n,r){const i=A0(t,r,e),s=e[ge],a=function RL(t,e,n){return ML(t,e,n)}(r.parent||e[Qn],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)xL(s,i,n[u],a,!1);else xL(s,i,n,a,!1);void 0!==D0&&D0(s,r,e,n,i)}function $h(t,e){if(null!==e){const n=e.type;if(3&n)return Fr(e,t);if(4&n)return S0(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return $h(t,r);{const i=t[e.index];return yr(i)?S0(-1,i):rt(i)}}if(32&n)return w0(e,t)()||rt(t[e.index]);{const r=kL(t,e);return null!==r?Array.isArray(r)?r[0]:$h(jh(t[Bt]),r):$h(t,e.next)}}return null}function kL(t,e){return null!==e?t[Bt][Qn].projection[e.projection]:null}function S0(t,e){const n=xn+t+1;if(n<e.length){const r=e[n],i=r[q].firstChild;if(null!==i)return $h(r,i)}return e[Xi]}function x0(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Yn(rt(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)x0(t,e,n.child,r,i,s,!1),$c(e,t,i,a,s);else if(32&u){const c=w0(n,r);let l;for(;l=c();)$c(e,t,i,l,s);$c(e,t,i,a,s)}else 16&u?FL(t,e,r,n,i,s):$c(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Gh(t,e,n,r,i,s){x0(n,r,t.firstChild,e,i,s,!1)}function FL(t,e,n,r,i,s){const o=n[Bt],u=o[Qn].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)$c(e,t,i,u[c],s);else{let c=u;const l=o[mt];b_(r)&&(c.flags|=128),x0(t,e,c,l,i,s,!0)}}function VL(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function LL(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&LT(t,e,r),null!==i&&VL(t,e,i),null!==s&&function Ene(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function jL(t){return function M0(){if(void 0===N_&&(N_=null,nt.trustedTypes))try{N_=nt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return N_}()?.createScriptURL(t)||t}class $L{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${MV})`}}function Oo(t){return t instanceof $L?t.changingThisBreaksApplicationSecurity:t}function qh(t,e){const n=function Rne(t){return t instanceof $L&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${MV})`)}return n===e}const kne=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var zc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(zc||{});function QL(t){const e=Hh();return e?e.sanitize(zc.URL,t)||"":qh(t,"URL")?Oo(t):function N0(t){return(t=String(t)).match(kne)?t:"unsafe:"+t}(pe(t))}function YL(t){const e=Hh();if(e)return jL(e.sanitize(zc.RESOURCE_URL,t)||"");if(qh(t,"ResourceURL"))return jL(Oo(t));throw new C(904,!1)}function Hh(){const t=D();return t&&t[bc].sanitizer}class Y{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=re({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Wh=new Y("ENVIRONMENT_INITIALIZER"),JL=new Y("INJECTOR",-1),ZL=new Y("INJECTOR_DEF_TYPES");class V0{get(e,n=Eh){if(n===Eh){const r=new Error(`NullInjectorError: No provider for ${on(e)}!`);throw r.name="NullInjectorError",r}return n}}function Wne(...t){return{\u0275providers:tU(0,t),\u0275fromNgModule:!0}}function tU(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return Lc(e,o=>{const a=o;O_(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&nU(i,s),n}function nU(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];L0(i,s=>{e(s,r)})}}function O_(t,e,n,r){if(!(t=ce(t)))return!1;let i=null,s=qm(t);const o=!s&&Pe(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=qm(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)O_(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Lc(s.imports,l=>{O_(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&nU(c,e)}if(!a){const c=qa(i)||(()=>new i);e({provide:i,useFactory:c,deps:Le},i),e({provide:ZL,useValue:i,multi:!0},i),e({provide:Wh,useValue:()=>Q(i),multi:!0},i)}const u=s.providers;if(null!=u&&!a){const c=t;L0(u,l=>{e(l,c)})}}}return i!==t&&void 0!==t.providers}function L0(t,e){for(let n of t)AT(n)&&(n=n.\u0275providers),Array.isArray(n)?L0(n,e):e(n)}const Kne=ze({provide:String,useValue:ze});function U0(t){return null!==t&&"object"==typeof t&&Kne in t}function Ka(t){return"function"==typeof t}const B0=new Y("Set Injector scope."),F_={},Yne={};let j0;function V_(){return void 0===j0&&(j0=new V0),j0}class vi{}class L_ extends vi{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,G0(e,o=>this.processProvider(o)),this.records.set(JL,Hc(void 0,this)),i.has("environment")&&this.records.set(vi,Hc(void 0,this));const s=this.records.get(B0);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(ZL.multi,Le,be.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=So(this),r=Nr(void 0);try{return e()}finally{So(n),Nr(r)}}get(e,n=Eh,r=be.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(jV))return e[jV](this);r=Wm(r);const s=So(this),o=Nr(void 0);try{if(!(r&be.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function tre(t){return"function"==typeof t||"object"==typeof t&&t instanceof Y}(e)&&Gm(e);u=c&&this.injectableDefInScope(c)?Hc($0(e),F_):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&be.Self?V_():this.parent).get(e,n=r&be.Optional&&n===Eh?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Hm]=a[Hm]||[]).unshift(on(e)),s)throw a;return function ZZ(t,e,n,r){const i=t[Hm];throw e[LV]&&i.unshift(e[LV]),t.message=function eee(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=on(e);if(Array.isArray(e))i=e.map(on).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):on(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(KZ,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Hm]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Nr(o),So(s)}}resolveInjectorInitializers(){const e=So(this),n=Nr(void 0);try{const i=this.get(Wh.multi,Le,be.Self);for(const s of i)s()}finally{So(e),Nr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(on(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){let n=Ka(e=ce(e))?e:ce(e&&e.provide);const r=function Jne(t){return U0(t)?Hc(void 0,t.useValue):Hc(sU(t),F_)}(e);if(Ka(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Hc(void 0,F_,!0),i.factory=()=>OT(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===F_&&(n.value=Yne,n.value=n.factory()),"object"==typeof n.value&&n.value&&function ere(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=ce(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function $0(t){const e=Gm(t),n=null!==e?e.factory:qa(t);if(null!==n)return n;if(t instanceof Y)throw new C(204,!1);if(t instanceof Function)return function Xne(t){const e=t.length;if(e>0)throw function Lh(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new C(204,!1);const n=function qZ(t){return t&&(t[zm]||t[kV])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new C(204,!1)}function sU(t,e,n){let r;if(Ka(t)){const i=ce(t);return qa(i)||$0(i)}if(U0(t))r=()=>ce(t.useValue);else if(function iU(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...OT(t.deps||[]));else if(function rU(t){return!(!t||!t.useExisting)}(t))r=()=>Q(ce(t.useExisting));else{const i=ce(t&&(t.useClass||t.provide));if(!function Zne(t){return!!t.deps}(t))return qa(i)||$0(i);r=()=>new i(...OT(t.deps))}return r}function Hc(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function G0(t,e){for(const n of t)Array.isArray(n)?G0(n,e):n&&AT(n)?G0(n.\u0275providers,e):e(n)}const U_=new Y("AppId",{providedIn:"root",factory:()=>nre}),nre="ng",oU=new Y("Platform Initializer"),Fo=new Y("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),aU=new Y("AnimationModuleType"),uU=new Y("CSP nonce",{providedIn:"root",factory:()=>function qc(){if(void 0!==P0)return P0;if(typeof document<"u")return document;throw new C(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let cU=(t,e,n)=>null;function X0(t,e,n=!1){return cU(t,e,n)}class hre{}class hU{}class pre{resolveComponentFactory(e){throw function fre(t){const e=Error(`No component factory found for ${on(t)}.`);return e.ngComponent=t,e}(e)}}let z_=(()=>{class e{}return e.NULL=new pre,e})();function gre(){return Qc(Pn(),D())}function Qc(t,e){return new Zr(Fr(t,e))}let Zr=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=gre,e})();function mre(t){return t instanceof Zr?t.nativeElement:t}class Yh{}let Bs=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function _re(){const t=D(),n=Xr(Pn().index,t);return(Or(n)?n:t)[ge]}(),e})(),yre=(()=>{var t;class e{}return(t=e).\u0275prov=re({token:t,providedIn:"root",factory:()=>null}),e})();class Yc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const pU=new Yc("16.2.5"),eb={};function yU(t,e=null,n=null,r){const i=vU(t,e,n,r);return i.resolveInjectorInitializers(),i}function vU(t,e=null,n=null,r,i=new Set){const s=[n||Le,Wne(t)];return r=r||("object"==typeof t?void 0:on(t)),new L_(s,e||V_(),r||null,i)}let Xn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return yU({name:""},i,r,"");{const s=r.name??"";return yU({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=Eh,t.NULL=new V0,t.\u0275prov=re({token:t,providedIn:"any",factory:()=>Q(JL)}),t.__NG_ELEMENT_ID__=-1,e})();function nb(t){return t.ngOriginalError}class js{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&nb(e);for(;n&&nb(n);)n=nb(n);return n||null}}function ib(t){return e=>{setTimeout(t,void 0,e)}}const xt=class Cre extends Si{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=ib(s),i&&(i=ib(i)),o&&(o=ib(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Mr&&e.add(a),a}};function IU(...t){}class Ue{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xt(!1),this.onMicrotaskEmpty=new xt(!1),this.onStable=new xt(!1),this.onError=new xt(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Are(){const t="function"==typeof nt.requestAnimationFrame;let e=nt[t?"requestAnimationFrame":"setTimeout"],n=nt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function xre(t){const e=()=>{!function Sre(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(nt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ob(t),t.isCheckStableRunning=!0,sb(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ob(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function Pre(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return wU(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),TU(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return wU(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),TU(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,ob(t),sb(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ue.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(Ue.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Dre,IU,IU);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Dre={};function sb(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ob(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function wU(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function TU(t){t._nesting--,sb(t)}class Rre{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xt,this.onMicrotaskEmpty=new xt,this.onStable=new xt,this.onError=new xt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const bU=new Y("",{providedIn:"root",factory:CU});function CU(){const t=H(Ue);let e=!0;return function kZ(...t){const e=vh(t),n=function DZ(t,e){return"number"==typeof wT(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Wr(r[0]):Ec(n)(Dt(r,e)):Ki}(new wt(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new wt(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(PV()))}function $s(t){return t instanceof Function?t():t}let ab=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=re({token:t,providedIn:"root",factory:()=>new t}),e})();function Xh(t){for(;t;){t[Ee]|=64;const e=jh(t);if(jT(t)&&!e)return t;t=e}return null}const RU=new Y("",{providedIn:"root",factory:()=>!1});let W_=null;function kU(t,e){return t[e]??VU()}function OU(t,e){const n=VU();n.producerNode?.length&&(t[e]=W_,n.lView=t,W_=FU())}const jre={...e_,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Xh(t.lView)},lView:null};function FU(){return Object.create(jre)}function VU(){return W_??=FU(),W_}const ye={};function se(t){LU(Me(),D(),Er()+t,!1)}function LU(t,e,n,r){if(!r)if(3==(3&e[Ee])){const s=t.preOrderCheckHooks;null!==s&&l_(e,s,n)}else{const s=t.preOrderHooks;null!==s&&d_(e,s,0,n)}za(n)}function S(t,e=be.Default){const n=D();return null===n?Q(t,e):Q2(Pn(),n,ce(t),e)}function K_(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[St]=i,d[Ee]=140|r,(null!==c||t&&2048&t[Ee])&&(d[Ee]|=2048),b2(d),d[mt]=d[Cc]=t,d[Ut]=n,d[bc]=o||t&&t[bc],d[ge]=a||t&&t[ge],d[xo]=u||t&&t[xo]||null,d[Qn]=s,d[Dh]=function Qte(){return Kte++}(),d[Fs]=l,d[e2]=c,d[Bt]=2==e.type?t[Bt]:d,d}function Zc(t,e,n,r,i){let s=t.data[e];if(null===s)s=function ub(t,e,n,r,i){const s=R2(),o=QT(),u=t.data[e]=function Qre(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Rc(){return null!==ue.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function Yee(){return ue.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Mh(){const t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Zi(s,!0),s}function Jh(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function BU(t,e,n,r,i){const s=kU(e,Sh),o=Er(),a=2&r;try{za(-1),a&&e.length>Ae&&LU(t,e,Ae,!1),Ji(a?2:0,i);const c=a?s:null,l=t_(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{n_(c,l)}}finally{a&&null===e[Sh]&&OU(e,Sh),za(o),Ji(a?3:1,i)}}function cb(t,e,n){if(BT(e)){const r=mi(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{mi(r)}}}function lb(t,e,n){x2()&&(function nie(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ga(n)&&function cie(t,e,n){const r=Fr(e,t),i=jU(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Q_(t,K_(t,i,null,o,r,e,null,t[bc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||f_(n,e),Yn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Ha(e,t,a,n);Yn(c,e),null!==o&&lie(0,a-i,c,u,0,o),Ni(u)&&(Xr(n.index,e)[Ut]=Ha(e,t,a,n))}}(t,e,n,Fr(n,e)),64==(64&n.flags)&&HU(t,e,n))}function db(t,e,n=Fr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function jU(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=hb(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function hb(t,e,n,r,i,s,o,a,u,c,l){const d=Ae+r,h=d+i,f=function Gre(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ye);return n}(d,h),p="function"==typeof c?c():c;return f[q]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let $U=t=>null;function GU(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?qU(n,e,i,s):r.hasOwnProperty(i)&&qU(n,e,r[i],s)}return n}function qU(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function fb(t,e,n,r){if(x2()){const i=null===r?null:{"":-1},s=function iie(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(KV(e,o.selectors,!1))if(r||(r=[]),Ni(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),pb(t,e,a.length)}else r.unshift(o),pb(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&zU(t,e,n,o,i,a),i&&function sie(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new C(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Th(n.mergedAttrs,n.attrs)}function zU(t,e,n,r,i,s){for(let c=0;c<r.length;c++)l0(f_(n,e),t,r[c].type);!function aie(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Jh(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Th(n.mergedAttrs,l.hostAttrs),uie(t,n,e,u,l),oie(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function Yre(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=GU(d.inputs,l,u,h?h.inputs:null),c=GU(d.outputs,l,c,p);const g=null===u||null===o||WV(e)?null:die(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function HU(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function Jee(){return ue.lFrame.currentDirectiveIndex}();try{za(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];XT(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&rie(u,c)}}finally{za(-1),XT(o)}}function rie(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function pb(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function oie(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ni(e)&&(n[""]=t)}}function uie(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=qa(i.type)),o=new Nh(s,Ni(i),S);t.blueprint[r]=o,n[r]=o,function eie(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function tie(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Jh(t,n,i.hostVars,ye),i)}function ts(t,e,n,r,i,s){const o=Fr(t,e);!function gb(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?pe(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[ge],o,s,t.value,n,r,i)}function lie(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)WU(r,n,o[a++],o[a++],o[a++])}function WU(t,e,n,r,i){const s=mi(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{mi(s)}}function die(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function KU(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function QU(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];ZT(n[r]),o.contentQueries(2,e[s],s)}}}function Q_(t,e){return t[Ch]?t[ZV][Mi]=e:t[Ch]=e,t[ZV]=e,e}function mb(t,e,n){ZT(0);const r=mi(null);try{e(t,n)}finally{mi(r)}}function YU(t){return t[Tc]||(t[Tc]=[])}function XU(t){return t.cleanup||(t.cleanup=[])}function ZU(t,e){const n=t[xo],r=n?n.get(js,null):null;r&&r.handleError(e)}function _b(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];WU(t.data[o],e[o],r,a,i)}}function Gs(t,e,n){const r=s_(e,t);!function CL(t,e,n){t.setValue(e,n)}(t[ge],r,n)}function hie(t,e){const n=Xr(e,t),r=n[q];!function fie(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[St];null!==i&&null===n[Fs]&&(n[Fs]=X0(i,n[xo])),yb(r,n,n[Ut])}function yb(t,e,n){e0(e);try{const r=t.viewQuery;null!==r&&mb(1,r,n);const i=t.template;null!==i&&BU(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&QU(t,e),t.staticViewQueries&&mb(2,t.viewQuery,n);const s=t.components;null!==s&&function pie(t,e){for(let n=0;n<e.length;n++)hie(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Ee]&=-5,t0()}}let eB=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function See(t,e,n){const r=Object.create(xee);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>u2(r),run:()=>{if(r.dirty=!1,r.hasRun&&!c2(r))return;r.hasRun=!0;const o=t_(r);try{r.cleanupFn(),r.cleanupFn=_2,r.fn(i)}finally{n_(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,l=>{this.all.has(l)&&this.queue.set(l,o)},s);let u;this.all.add(a),a.notify();const c=()=>{a.cleanup(),u?.(),this.all.delete(a),this.queue.delete(a)};return u=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=re({token:t,providedIn:"root",factory:()=>new t}),e})();function Y_(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=bT(i,a):2==s&&(r=bT(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Zh(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(rt(s)),yr(s)&&tB(s,r);const o=n.type;if(8&o)Zh(t,e,n.child,r);else if(32&o){const a=w0(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=kL(e,n);if(Array.isArray(a))r.push(...a);else{const u=jh(e[Bt]);Zh(u[q],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function tB(t,e){for(let n=xn;n<t.length;n++){const r=t[n],i=r[q].firstChild;null!==i&&Zh(r[q],r,i,e)}t[Xi]!==t[St]&&e.push(t[Xi])}function X_(t,e,n,r=!0){const i=e[bc],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{nB(t,e,t.template,n)}catch(u){throw r&&ZU(e,u),u}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function nB(t,e,n,r){const i=e[Ee];if(256!=(256&i)){e[bc].effectManager?.flush(),e0(e);try{b2(e),function M2(t){return ue.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&BU(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&l_(e,c,null)}else{const c=t.preOrderHooks;null!==c&&d_(e,c,0,null),s0(e,0)}if(function _ie(t){for(let e=wL(t);null!==e;e=TL(e)){if(!e[t2])continue;const n=e[Dc];for(let r=0;r<n.length;r++){Uee(n[r])}}}(e),rB(e,2),null!==t.contentQueries&&QU(t,e),o){const c=t.contentCheckHooks;null!==c&&l_(e,c)}else{const c=t.contentHooks;null!==c&&d_(e,c,1),s0(e,1)}!function $re(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=kU(e,xh);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)za(~s);else{const o=s,a=n[++i],u=n[++i];Xee(a,o),r.dirty=!1;const c=t_(r);try{u(2,e[o])}finally{n_(r,c)}}}}finally{null===e[xh]&&OU(e,xh),za(-1)}}(t,e);const a=t.components;null!==a&&sB(e,a,0);const u=t.viewQuery;if(null!==u&&mb(2,u,r),o){const c=t.viewCheckHooks;null!==c&&l_(e,c)}else{const c=t.viewHooks;null!==c&&d_(e,c,2),s0(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Ee]&=-73,C2(e)}finally{t0()}}}function rB(t,e){for(let n=wL(t);null!==n;n=TL(n))for(let r=xn;r<n.length;r++)iB(n[r],e)}function yie(t,e,n){iB(Xr(e,t),n)}function iB(t,e){if(!function Vee(t){return 128==(128&t[Ee])}(t))return;const n=t[q],r=t[Ee];if(80&r&&0===e||1024&r||2===e)nB(n,t,n.template,t[Ut]);else if(t[bh]>0){rB(t,1);const i=n.components;null!==i&&sB(t,i,1)}}function sB(t,e,n){for(let r=0;r<e.length;r++)yie(t,e[r],n)}class ef{get rootNodes(){const e=this._lView,n=e[q];return Zh(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ut]}set context(e){this._lView[Ut]=e}get destroyed(){return 256==(256&this._lView[Ee])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[mt];if(yr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(S_(e,r),__(n,r))}this._attachedToViewContainer=!1}b0(this._lView[q],this._lView)}onDestroy(e){!function D2(t,e){if(256==(256&t[Ee]))throw new C(911,!1);null===t[Ro]&&(t[Ro]=[]),t[Ro].push(e)}(this._lView,e)}markForCheck(){Xh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ee]&=-129}reattach(){this._lView[Ee]|=128}detectChanges(){X_(this._lView[q],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cne(t,e){Gh(t,e,e[ge],2,null,null)}(this._lView[q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e}}class vie extends ef{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;X_(e[q],e,e[Ut],!1)}checkNoChanges(){}get context(){return null}}class oB extends z_{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Pe(e);return new tf(n,this.ngModule)}}function aB(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Iie{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Wm(r);const i=this.injector.get(e,eb,r);return i!==eb||n===eb?i:this.parentInjector.get(e,n,r)}}class tf extends hU{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=aB(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return aB(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function lee(t){return t.map(cee).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof vi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Iie(e,s):e,a=o.get(Yh,null);if(null===a)throw new C(407,!1);const d={rendererFactory:a,sanitizer:o.get(yre,null),effectManager:o.get(eB,null),afterRenderEventManager:o.get(ab,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function qre(t,e,n,r){const s=r.get(RU,!1)||n===gi.ShadowDom,o=t.selectRootElement(e,s);return function zre(t){$U(t)}(o),o}(h,r,this.componentDef.encapsulation,o):D_(h,f,function Eie(t){const e=t.toLowerCase();return"svg"===e?I2:"math"===e?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=X0(p,o,!0));const E=hb(0,null,null,1,0,null,null,null,null,null,null),A=K_(null,E,null,v,null,null,d,h,o,null,y);let N,F;e0(A);try{const X=this.componentDef;let De,Lt=null;X.findHostDirectiveDefs?(De=[],Lt=new Map,X.findHostDirectiveDefs(X,De,Lt),De.push(X)):De=[X];const pr=function Tie(t,e){const n=t[q],r=Ae;return t[r]=e,Zc(n,r,2,"#host",null)}(A,p),cT=function bie(t,e,n,r,i,s,o){const a=i[q];!function Cie(t,e,n,r){for(const i of t)e.mergedAttrs=Th(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Y_(e,e.mergedAttrs,!0),null!==n&&LL(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=X0(e,i[xo]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=K_(i,jU(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&pb(a,t,r.length-1),Q_(i,d),i[t.index]=d}(pr,p,X,De,A,d,h);F=T2(E,Ae),p&&function Die(t,e,n,r){if(r)LT(t,n,["ng-version",pU.full]);else{const{attrs:i,classes:s}=function dee(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Ri(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&LT(t,n,i),s&&s.length>0&&VL(t,n,s.join(" "))}}(h,X,p,r),void 0!==n&&function Sie(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(F,this.ngContentSelectors,n),N=function Aie(t,e,n,r,i,s){const o=Pn(),a=i[q],u=Fr(o,i);zU(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Yn(Ha(i,a,o.directiveStart+l,o),i);HU(a,i,o),u&&Yn(u,i);const c=Ha(i,a,o.directiveStart+o.componentOffset,o);if(t[Ut]=i[Ut]=c,null!==s)for(const l of s)l(c,e);return cb(a,o,t),c}(cT,X,De,Lt,A,[xie]),yb(E,A,null)}finally{t0()}return new wie(this.componentType,N,Qc(F,A),A,F)}}class wie extends hre{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new vie(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;_b(s[q],s,i,e,n),this.previousInputValues.set(e,n),Xh(Xr(this._tNode.index,s))}}get injector(){return new Ir(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function xie(){const t=Pn();c_(D()[q],t)}function He(t){let e=function uB(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Ni(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new C(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=J_(t.inputs),o.inputTransforms=J_(t.inputTransforms),o.declaredInputs=J_(t.declaredInputs),o.outputs=J_(t.outputs);const a=i.hostBindings;a&&Nie(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&Pie(t,u),c&&Mie(t,c),jm(t.inputs,i.inputs),jm(t.declaredInputs,i.declaredInputs),jm(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),jm(o.inputTransforms,i.inputTransforms)),Ni(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===He&&(n=!1)}}e=Object.getPrototypeOf(e)}!function Rie(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Th(i.hostAttrs,n=Th(n,i.hostAttrs))}}(r)}function J_(t){return t===Qi?{}:t===Le?[]:t}function Pie(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function Mie(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function Nie(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function hB(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Z_(t){return!!function vb(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function ns(t,e,n){return t[e]=n}function Jn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Qa(t,e,n,r){const i=Jn(t,e,n);return Jn(t,e+1,r)||i}function ki(t,e,n,r){const i=D();return Jn(i,Pc(),e)&&(Me(),ts(Tt(),i,t,e,n,r)),ki}function nl(t,e,n,r,i,s){const a=Qa(t,function Vs(){return ue.lFrame.bindingIndex}(),n,i);return Ls(2),a?e+pe(n)+r+pe(i)+s:ye}function qe(t,e,n,r,i,s,o,a){const u=D(),c=Me(),l=t+Ae,d=c.firstCreatePass?function ise(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Zc(e,t,4,o||null,Mo(c,a));fb(e,n,l,Mo(c,u)),c_(e,l);const d=l.tView=hb(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Zi(d,!1);const h=CB(c,u,d,t);u_()&&R_(c,u,h,d),Yn(h,u),Q_(u,u[l]=KU(h,u,h,d)),Jm(d)&&lb(c,u,d),null!=o&&db(u,d,a)}let CB=function AB(t,e,n,r){return No(!0),e[ge].createComment("")};function ve(t,e,n){const r=D();return Jn(r,Pc(),e)&&function ei(t,e,n,r,i,s,o,a){const u=Fr(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(_b(t,n,l,r,i),Ga(e)&&function Jre(t,e){const n=Xr(e,t);16&n[Ee]||(n[Ee]|=64)}(n,e.index)):3&e.type&&(r=function Xre(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(Me(),Tt(),r,t,e,r[ge],n,!1),ve}function Cb(t,e,n,r,i){const o=i?"class":"style";_b(t,n,e.inputs[o],o,r)}function O(t,e,n,r){const i=D(),s=Me(),o=Ae+t,a=i[ge],u=s.firstCreatePass?function cse(t,e,n,r,i,s){const o=e.consts,u=Zc(e,t,2,r,Mo(o,i));return fb(e,n,u,Mo(o,s)),null!==u.attrs&&Y_(u,u.attrs,!1),null!==u.mergedAttrs&&Y_(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=DB(s,i,u,a,e,t);i[o]=c;const l=Jm(u);return Zi(u,!0),LL(a,c,u),32!=(32&u.flags)&&u_()&&R_(s,i,c,u),0===function jee(){return ue.lFrame.elementDepthCount}()&&Yn(c,i),function $ee(){ue.lFrame.elementDepthCount++}(),l&&(lb(s,i,u),cb(s,u,i)),null!==r&&db(i,u),O}function k(){let t=Pn();QT()?function YT(){ue.lFrame.isParent=!1}():(t=t.parent,Zi(t,!1));const e=t;(function qee(t){return ue.skipHydrationRootTNode===t})(e)&&function Kee(){ue.skipHydrationRootTNode=null}(),function Gee(){ue.lFrame.elementDepthCount--}();const n=Me();return n.firstCreatePass&&(c_(n,t),BT(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function ate(t){return 0!=(8&t.flags)}(e)&&Cb(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function ute(t){return 0!=(16&t.flags)}(e)&&Cb(n,e,D(),e.stylesWithoutHost,!1),k}function Nn(t,e,n,r){return O(t,e,n,r),k(),Nn}let DB=(t,e,n,r,i,s)=>(No(!0),D_(r,i,function B2(){return ue.lFrame.currentNamespace}()));function iy(){return D()}function uf(t){return!!t&&"function"==typeof t.then}function RB(t){return!!t&&"function"==typeof t.subscribe}function jt(t,e,n,r){const i=D(),s=Me(),o=Pn();return function MB(t,e,n,r,i,s,o){const a=Jm(r),c=t.firstCreatePass&&XU(t),l=e[Ut],d=YU(e);let h=!0;if(3&r.type||o){const g=Fr(r,e),m=o?o(g):g,v=d.length,y=o?A=>o(rt(A[r.index])):r.index;let E=null;if(!o&&a&&(E=function gse(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Tc],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,h=!1;else{s=kB(r,e,l,s,!1);const A=n.listen(m,i,s);d.push(s,A),c&&c.push(i,y,v,v+1)}}else s=kB(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const N=e[p[m]][p[m+1]].subscribe(s),F=d.length;d.push(s,N),c&&c.push(i,r.index,F,-(F+1))}}}(s,i,i[ge],o,t,e,r),jt}function NB(t,e,n,r){try{return Ji(6,e,n),!1!==n(r)}catch(i){return ZU(t,i),!1}finally{Ji(7,e,n)}}function kB(t,e,n,r,i){return function s(o){if(o===Function)return r;Xh(t.componentOffset>-1?Xr(t.index,e):e);let u=NB(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=NB(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function ti(t=1){return function ete(t){return(ue.lFrame.contextLView=function tte(t,e){for(;t>0;)e=e[Cc],t--;return e}(t,ue.lFrame.contextLView))[Ut]}(t)}function sy(t,e){return t<<17|e<<2}function Vo(t){return t>>17&32767}function xb(t){return 2|t}function Ya(t){return(131068&t)>>2}function Rb(t,e){return-131069&t|e<<2}function Pb(t){return 1|t}function qB(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Vo(s):Ya(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];bse(t[a],e)&&(u=!0,t[a+1]=r?Pb(l):xb(l)),a=r?Vo(l):Ya(l)}u&&(t[n+1]=r?xb(s):Pb(s))}function bse(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Uc(t,e)>=0}function ll(t,e){return function Oi(t,e,n,r){const i=D(),s=Me(),o=Ls(2);s.firstUpdatePass&&function ZB(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Er()],o=function JB(t,e){return e>=t.expandoStartIndex}(t,n);(function rj(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function Nse(t,e,n,r){const i=function JT(t){const e=ue.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=cf(n=Mb(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Mb(i,t,e,n,r),null===s){let u=function kse(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ya(r))return t[Vo(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Mb(null,t,e,u[1],r),u=cf(u,e.attrs,r),function Ose(t,e,n,r){t[Vo(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function Fse(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=cf(r,t[s].hostAttrs,n);return cf(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function wse(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Vo(o),u=Ya(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Uc(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=Vo(t[a+1]);t[r+1]=sy(h,a),0!==h&&(t[h+1]=Rb(t[h+1],r)),t[a+1]=function Ese(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=sy(a,0),0!==a&&(t[a+1]=Rb(t[a+1],r)),a=r;else t[r+1]=sy(u,0),0===a?a=r:t[u+1]=Rb(t[u+1],r),u=r;c&&(t[r+1]=xb(t[r+1])),qB(t,l,r,!0),qB(t,l,r,!1),function Tse(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Uc(s,e)>=0&&(n[r+1]=Pb(n[r+1]))}(e,l,t,r,s),o=sy(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==ye&&Jn(i,o,e)&&function tj(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function Ise(t){return 1==(1&t)}(c)?nj(u,e,n,i,Ya(c),o):void 0;oy(l)||(oy(s)||function vse(t){return 2==(2&t)}(c)&&(s=nj(u,null,n,i,a,o)),function vne(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:ko.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=ko.Important),t.setStyle(n,r,i,s))}}(r,o,s_(Er(),n),i,s))}(s,s.data[Er()],i,i[ge],t,i[o+1]=function Bse(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=on(Oo(t)))),t}(e,n),r,o)}(t,e,null,!0),ll}function Mb(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=cf(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function cf(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Jr(t,o,!!n||e[++s]))}return void 0===t?null:t}function nj(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ye&&(h=d?Le:void 0);let f=d?f0(h,r):l===r?h:void 0;if(c&&!oy(f)&&(f=f0(u,r)),oy(f)&&(a=f,o))return a;const p=t[i+1];i=o?Vo(p):Ya(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=f0(u,r))}return a}function oy(t){return void 0!==t}function z(t,e=""){const n=D(),r=Me(),i=t+Ae,s=r.firstCreatePass?Zc(r,i,1,e,null):r.data[i],o=ij(r,n,s,e,t);n[i]=o,u_()&&R_(r,n,o,s),Zi(s,!1)}let ij=(t,e,n,r,i)=>(No(!0),function A_(t,e){return t.createText(e)}(e[ge],r));function ss(t,e,n){const r=D(),i=function tl(t,e,n,r){return Jn(t,Pc(),n)?e+pe(n)+r:ye}(r,t,e,n);return i!==ye&&Gs(r,Er(),i),ss}function Nb(t,e,n,r,i){const s=D(),o=nl(s,t,e,n,r,i);return o!==ye&&Gs(s,Er(),o),Nb}const Xa=void 0;var uoe=["en",[["a","p"],["AM","PM"],Xa],[["AM","PM"],Xa,Xa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xa,"{1} 'at' {0}",Xa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function aoe(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let dl={};function Tr(t){const e=function coe(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Cj(e);if(n)return n;const r=e.split("-")[0];if(n=Cj(r),n)return n;if("en"===r)return uoe;throw new C(701,!1)}function Cj(t){return t in dl||(dl[t]=nt.ng&&nt.ng.common&&nt.ng.common.locales&&nt.ng.common.locales[t]),dl[t]}var it=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(it||{});const hl="en-US";let Aj=hl;function Fb(t,e,n,r,i){if(t=ce(t),Array.isArray(t))for(let s=0;s<t.length;s++)Fb(t[s],e,n,r,i);else{const s=Me(),o=D(),a=Pn();let u=Ka(t)?t:ce(t.provide);const c=sU(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Ka(t)||!t.multi){const f=new Nh(c,i,S),p=Lb(u,e,i?l:l+h,d);-1===p?(l0(f_(a,o),s,u),Vb(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Lb(u,e,l+h,d),p=Lb(u,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){l0(f_(a,o),s,u);const v=function aae(t,e,n,r,i){const s=new Nh(t,n,S);return s.multi=[],s.index=e,s.componentProviders=0,Xj(s,i,r&&!n),s}(i?oae:sae,n.length,i,r,c);!i&&m&&(n[p].providerFactory=v),Vb(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)}else Vb(s,t,f>-1?f:p,Xj(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Vb(t,e,n,r){const i=Ka(e),s=function Qne(t){return!!t.useClass}(e);if(i||s){const u=(s?ce(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function Xj(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Lb(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function sae(t,e,n,r){return Ub(this.multi,[])}function oae(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ha(n,n[q],this.providerFactory.index,r);s=a.slice(0,o),Ub(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Ub(i,s);return s}function Ub(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function _t(t,e=[]){return n=>{n.providersResolver=(r,i)=>function iae(t,e,n){const r=Me();if(r.firstCreatePass){const i=Ni(t);Fb(n,r.data,r.blueprint,i,!0),Fb(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ja{}class Jj{}class Bb extends Ja{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oB(this);const i=Yr(e);this._bootstrapComponents=$s(i.bootstrap),this._r3Injector=vU(e,n,[{provide:Ja,useValue:this},{provide:z_,useValue:this.componentFactoryResolver},...r],on(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class jb extends Jj{constructor(e){super(),this.moduleType=e}create(e){return new Bb(this.moduleType,e,[])}}class Zj extends Ja{constructor(e){super(),this.componentFactoryResolver=new oB(this),this.instance=null;const n=new L_([...e.providers,{provide:Ja,useValue:this},{provide:z_,useValue:this.componentFactoryResolver}],e.parent||V_(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function $b(t,e,n=null){return new Zj({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let lae=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=tU(0,r.type),s=i.length>0?$b([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=re({token:t,providedIn:"environment",factory:()=>new t(Q(vi))}),e})();function e$(t){t.getStandaloneInjector=e=>e.get(lae).getOrCreateStandaloneInjector(t)}function dy(t,e,n){const r=vr()+t,i=D();return i[r]===ye?ns(i,r,n?e.call(n):e()):function nf(t,e){return t[e]}(i,r)}function gf(t,e){const n=t[e];return n===ye?void 0:n}function qb(t,e){const n=Me();let r;const i=t+Ae;n.firstCreatePass?(r=function Sae(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=qa(r.type)),a=Nr(S);try{const u=h_(!1),c=s();return h_(u),function ase(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,D(),i,c),c}finally{Nr(a)}}function h$(t,e,n){const r=t+Ae,i=D(),s=xc(i,r);return mf(i,r)?function a$(t,e,n,r,i,s){const o=e+n;return Jn(t,o,i)?ns(t,o+1,s?r.call(s,i):r(i)):gf(t,o+1)}(i,vr(),e,s.transform,n,s):s.transform(n)}function f$(t,e,n,r){const i=t+Ae,s=D(),o=xc(s,i);return mf(s,i)?function u$(t,e,n,r,i,s,o){const a=e+n;return Qa(t,a,i,s)?ns(t,a+2,o?r.call(o,i,s):r(i,s)):gf(t,a+2)}(s,vr(),e,o.transform,n,r,o):o.transform(n,r)}function mf(t,e){return t[q].data[e].pure}function Mae(){return this._results[Symbol.iterator]()}class zb{get changes(){return this._changes||(this._changes=new xt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=zb.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Mae)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function yi(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function wte(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function kae(t,e,n,r=!0){const i=e[q];if(function dne(t,e,n,r){const i=xn+r,s=n.length;r>0&&(n[i-1][Mi]=e),r<s-xn?(e[Mi]=n[i],tL(n,xn+r,e)):(n.push(e),e[Mi]=null),e[mt]=n;const o=e[Ah];null!==o&&n!==o&&function hne(t,e){const n=t[Dc];e[Bt]!==e[mt][mt][Bt]&&(t[t2]=!0),null===n?t[Dc]=[e]:n.push(e)}(o,e);const a=e[Yi];null!==a&&a.insertView(t),e[Ee]|=128}(i,e,t,n),r){const s=S0(n,t),o=e[ge],a=x_(o,t[Xi]);null!==a&&function une(t,e,n,r,i,s){r[St]=i,r[Qn]=e,Gh(t,r,n,1,i,s)}(i,t[Qn],o,e,a,s)}}let qs=(()=>{class e{}return e.__NG_ELEMENT_ID__=Vae,e})();const Oae=qs,Fae=class extends Oae{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function Nae(t,e,n,r){const i=e.tView,a=K_(t,i,n,4096&t[Ee]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Ah]=t[e.index];const c=t[Yi];return null!==c&&(a[Yi]=c.createEmbeddedView(i)),yb(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new ef(i)}};function Vae(){return hy(Pn(),D())}function hy(t,e){return 4&t.type?new Fae(e,t,Qc(t,e)):null}let Vi=(()=>{class e{}return e.__NG_ELEMENT_ID__=Gae,e})();function Gae(){return E$(Pn(),D())}const qae=Vi,y$=class extends qae{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Qc(this._hostTNode,this._hostLView)}get injector(){return new Ir(this._hostTNode,this._hostLView)}get parentInjector(){const e=p_(this._hostTNode,this._hostLView);if(a0(e)){const n=Oh(e,this._hostLView),r=kh(e);return new Ir(n[q].data[r+8],n)}return new Ir(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=v$(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-xn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Vh(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new tf(Pe(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(vi,null);m&&(s=m)}Pe(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function Lee(t){return yr(t[mt])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[mt],l=new y$(c,c[Qn],c[mt]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return kae(a,i,o,!r),e.attachToViewContainerRef(),tL(Hb(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=v$(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=S_(this._lContainer,n);r&&(__(Hb(this._lContainer),n),b0(r[q],r))}detach(e){const n=this._adjustIndex(e,-1),r=S_(this._lContainer,n);return r&&null!=__(Hb(this._lContainer),n)?new ef(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function v$(t){return t[8]}function Hb(t){return t[8]||(t[8]=[])}function E$(t,e){let n;const r=e[t.index];return yr(r)?n=r:(n=KU(r,e,null,t),e[t.index]=n,Q_(e,n)),I$(n,e,t,r),new y$(n,t,e)}let I$=function w$(t,e,n,r){if(t[Xi])return;let i;i=8&n.type?rt(r):function zae(t,e){const n=t[ge],r=n.createComment(""),i=Fr(e,t);return Wa(n,x_(n,i),r,function mne(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Xi]=i};class Wb{constructor(e){this.queryList=e,this.matches=null}clone(){return new Wb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kb{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Kb(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==R$(e,n).matches&&this.queries[n].setDirty()}}class T${constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Qb{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Qb(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Yb{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Yb(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,Kae(n,s)),this.matchTNodeWithReadOption(e,n,g_(n,e,s,!1,!1))}else r===qs?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,g_(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Zr||i===Vi||i===qs&&4&n.type)this.addMatch(n.index,-2);else{const s=g_(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function Kae(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Yae(t,e,n,r){return-1===n?function Qae(t,e){return 11&t.type?Qc(t,e):4&t.type?hy(t,e):null}(e,t):-2===n?function Xae(t,e,n){return n===Zr?Qc(e,t):n===qs?hy(e,t):n===Vi?E$(e,t):void 0}(t,e,r):Ha(t,t[q],n,e)}function b$(t,e,n,r){const i=e[Yi].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:Yae(e,s[c],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function Xb(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=b$(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=xn;d<l.length;d++){const h=l[d];h[Ah]===h[mt]&&Xb(h[q],h,c,r)}if(null!==l[Dc]){const d=l[Dc];for(let h=0;h<d.length;h++){const f=d[h];Xb(f[q],f,c,r)}}}}}return r}function C$(t){const e=D(),n=Me(),r=k2();ZT(r+1);const i=R$(n,r);if(t.dirty&&function Fee(t){return 4==(4&t[Ee])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Xb(n,e,r,[]):b$(n,e,i,r);t.reset(s,mre),t.notifyOnChanges()}return!0}return!1}function A$(t,e,n,r){const i=Me();if(i.firstCreatePass){const s=Pn();(function x$(t,e,n){null===t.queries&&(t.queries=new Qb),t.queries.track(new Yb(e,n))})(i,new T$(e,n,r),s.index),function eue(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function S$(t,e,n){const r=new zb(4==(4&n));(function Kre(t,e,n,r){const i=YU(e);i.push(n),t.firstCreatePass&&XU(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Yi]&&(e[Yi]=new Kb),e[Yi].queries.push(new Wb(r))}(i,D(),n)}function R$(t,e){return t.queries.getByIndex(e)}const rC=new Y("Application Initializer");let iC=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=H(rC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(uf(o))r.push(o);else if(RB(o)){const a=new Promise((u,c)=>{o.subscribe({complete:u,error:c})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),W$=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const zs=new Y("LocaleId",{providedIn:"root",factory:()=>H(zs,be.Optional|be.SkipSelf)||function wue(){return typeof $localize<"u"&&$localize.locale||hl}()}),Tue=new Y("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let K$=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Kr(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Cue{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Q$=(()=>{var t;class e{compileModuleSync(r){return new jb(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=$s(Yr(r).declarations).reduce((a,u)=>{const c=Pe(u);return c&&a.push(new tf(c)),a},[]);return new Cue(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Z$=new Y(""),my=new Y("");let cC,aC=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,cC||(function zue(t){cC=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(Ue),Q(uC),Q(my))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),e})(),uC=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return cC?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),Lo=null;const e4=new Y("AllowMultipleToken"),lC=new Y("PlatformDestroyListeners"),dC=new Y("appBootstrapListener");class n4{constructor(e,n){this.name=e,this.token=n}}function i4(t,e,n=[]){const r=`Platform: ${e}`,i=new Y(r);return(s=[])=>{let o=hC();if(!o||o.injector.get(e4,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function Kue(t){if(Lo&&!Lo.get(e4,!1))throw new C(400,!1);(function t4(){!function Tee(t){f2=t}(()=>{throw new C(600,!1)})})(),Lo=t;const e=t.get(o4);(function r4(t){t.get(oU,null)?.forEach(n=>n())})(t)}(function s4(t=[],e){return Xn.create({name:e,providers:[{provide:B0,useValue:"platform"},{provide:lC,useValue:new Set([()=>Lo=null])},...t]})}(a,r))}return function Yue(t){const e=hC();if(!e)throw new C(401,!1);return e}()}}function hC(){return Lo?.get(o4)??null}let o4=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function Xue(t="zone.js",e){return"noop"===t?new Rre:"zone.js"===t?new Ue(e):t}(i?.ngZone,function a4(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function cae(t,e,n){return new Bb(t,e,n)}(r.moduleType,this.injector,function h4(t){return[{provide:Ue,useFactory:t},{provide:Wh,multi:!0,useFactory:()=>{const e=H(Zue,{optional:!0});return()=>e.initialize()}},{provide:d4,useFactory:Jue},{provide:bU,useFactory:CU}]}(()=>s)),a=o.injector.get(js,null);return s.runOutsideAngular(()=>{const u=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{_y(this._modules,o),u.unsubscribe()})}),function u4(t,e,n){try{const r=n();return uf(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const u=o.injector.get(iC);return u.runInitializers(),u.donePromise.then(()=>(function Dj(t){pi(t,"Expected localeId to be defined"),"string"==typeof t&&(Aj=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(zs,hl)||hl),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=c4({},i);return function Hue(t,e,n){const r=new jb(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(Za);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new C(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(lC,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(Xn))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function c4(t,e){return Array.isArray(e)?e.reduce(c4,t):{...t,...e}}let Za=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=H(d4),this.zoneIsStable=H(bU),this.componentTypes=[],this.components=[],this.isStable=H(K$).hasPendingTasks.pipe(xi(r=>r?de(!1):this.zoneIsStable),function OZ(t,e=Ao){return t=t??FZ,sn((n,r)=>{let i,s=!0;n.subscribe(Jt(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),PV()),this._injector=H(vi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof hU;if(!this._injector.get(iC).done)throw!s&&function wc(t){const e=Pe(t)||Sn(t)||_r(t);return null!==e&&e.standalone}(r),new C(405,!1);let a;a=s?r:this._injector.get(z_).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const u=function Wue(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Ja),l=a.create(Xn.NULL,[],i||a.selector,u),d=l.location.nativeElement,h=l.injector.get(Z$,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),_y(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new C(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;_y(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(dC,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>_y(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new C(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function _y(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const d4=new Y("",{providedIn:"root",factory:()=>H(js).handleError.bind(void 0)});function Jue(){const t=H(Ue),e=H(js);return n=>t.runOutsideAngular(()=>e.handleError(n))}let Zue=(()=>{var t;class e{constructor(){this.zone=H(Ue),this.applicationRef=H(Za)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let yy=(()=>{class e{}return e.__NG_ELEMENT_ID__=tce,e})();function tce(t){return function nce(t,e,n){if(Ga(t)&&!n){const r=Xr(t.index,e);return new ef(r,r)}return 47&t.type?new ef(e[Bt],e):null}(Pn(),D(),16==(16&t))}class m4{constructor(){}supports(e){return Z_(e)}create(e){return new uce(e)}}const ace=(t,e)=>e;class uce{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ace}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<y4(r,i,s)?n:r,a=y4(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Z_(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function Bie(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new cce(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new _4),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _4),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class cce{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lce{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class _4{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new lce,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function y4(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function E4(){return new Iy([new m4])}let Iy=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||E4()),deps:[[e,new v_,new wr]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new C(901,!1)}}return(t=e).\u0275prov=re({token:t,providedIn:"root",factory:E4}),e})();const gce=i4(null,"core",[]);let mce=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(Za))},t.\u0275mod=mr({type:t}),t.\u0275inj=Kn({}),e})();function gl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let yC=null;function Uo(){return yC}class Rce{}const Br=new Y("DocumentToken");let vC=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:function(){return H(Mce)},providedIn:"platform"}),e})();const Pce=new Y("Location Initialized");let Mce=(()=>{var t;class e extends vC{constructor(){super(),this._doc=H(Br),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Uo().getBaseHref(this._doc)}onPopState(r){const i=Uo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=Uo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function EC(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function R4(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Hs(t){return t&&"?"!==t[0]?"?"+t:t}let tu=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:function(){return H(M4)},providedIn:"root"}),e})();const P4=new Y("appBaseHref");let M4=(()=>{var t;class e extends tu{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??H(Br).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return EC(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Hs(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+Hs(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+Hs(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(vC),Q(P4,8))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Nce=(()=>{var t;class e extends tu{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=EC(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Hs(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Hs(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(vC),Q(P4,8))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),e})(),IC=(()=>{var t;class e{constructor(r){this._subject=new xt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function Fce(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(R4(N4(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Hs(i))}normalize(r){return e.stripTrailingSlash(function Oce(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,N4(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Hs(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Hs(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=Hs,t.joinWithSlash=EC,t.stripTrailingSlash=R4,t.\u0275fac=function(r){return new(r||t)(Q(tu))},t.\u0275prov=re({token:t,factory:function(){return function kce(){return new IC(Q(tu))}()},providedIn:"root"}),e})();function N4(t){return t.replace(/\/index.html$/,"")}const k4={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ty=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Ty||{}),Cr=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Cr||{}),et=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(et||{}),ni=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(ni||{}),$t=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}($t||{});function by(t,e){return wi(Tr(t)[it.DateFormat],e)}function Cy(t,e){return wi(Tr(t)[it.TimeFormat],e)}function Ay(t,e){return wi(Tr(t)[it.DateTimeFormat],e)}function Ii(t,e){const n=Tr(t),r=n[it.NumberSymbols][e];if(typeof r>"u"){if(e===$t.CurrencyDecimal)return n[it.NumberSymbols][$t.Decimal];if(e===$t.CurrencyGroup)return n[it.NumberSymbols][$t.Group]}return r}function O4(t){if(!t[it.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[it.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wi(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function TC(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Yce=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ef={},Xce=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ws=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Ws||{}),Be=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Be||{}),je=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(je||{});function Jce(t,e,n,r){let i=function ale(t){if(L4(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,s=1,o=1]=t.split("-").map(a=>+a);return Dy(i,s-1,o)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(Yce))return function ule(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,u,c),e}(r)}const e=new Date(t);if(!L4(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Ks(n,e)||e;let a,o=[];for(;e;){if(a=Xce.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const l=o.pop();if(!l)break;e=l}}let u=i.getTimezoneOffset();r&&(u=V4(r,u),i=function ole(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset();return function sle(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(V4(e,i)-i))}(i,r,!0));let c="";return o.forEach(l=>{const d=function ile(t){if(CC[t])return CC[t];let e;switch(t){case"G":case"GG":case"GGG":e=st(je.Eras,et.Abbreviated);break;case"GGGG":e=st(je.Eras,et.Wide);break;case"GGGGG":e=st(je.Eras,et.Narrow);break;case"y":e=Zt(Be.FullYear,1,0,!1,!0);break;case"yy":e=Zt(Be.FullYear,2,0,!0,!0);break;case"yyy":e=Zt(Be.FullYear,3,0,!1,!0);break;case"yyyy":e=Zt(Be.FullYear,4,0,!1,!0);break;case"Y":e=Py(1);break;case"YY":e=Py(2,!0);break;case"YYY":e=Py(3);break;case"YYYY":e=Py(4);break;case"M":case"L":e=Zt(Be.Month,1,1);break;case"MM":case"LL":e=Zt(Be.Month,2,1);break;case"MMM":e=st(je.Months,et.Abbreviated);break;case"MMMM":e=st(je.Months,et.Wide);break;case"MMMMM":e=st(je.Months,et.Narrow);break;case"LLL":e=st(je.Months,et.Abbreviated,Cr.Standalone);break;case"LLLL":e=st(je.Months,et.Wide,Cr.Standalone);break;case"LLLLL":e=st(je.Months,et.Narrow,Cr.Standalone);break;case"w":e=bC(1);break;case"ww":e=bC(2);break;case"W":e=bC(1,!0);break;case"d":e=Zt(Be.Date,1);break;case"dd":e=Zt(Be.Date,2);break;case"c":case"cc":e=Zt(Be.Day,1);break;case"ccc":e=st(je.Days,et.Abbreviated,Cr.Standalone);break;case"cccc":e=st(je.Days,et.Wide,Cr.Standalone);break;case"ccccc":e=st(je.Days,et.Narrow,Cr.Standalone);break;case"cccccc":e=st(je.Days,et.Short,Cr.Standalone);break;case"E":case"EE":case"EEE":e=st(je.Days,et.Abbreviated);break;case"EEEE":e=st(je.Days,et.Wide);break;case"EEEEE":e=st(je.Days,et.Narrow);break;case"EEEEEE":e=st(je.Days,et.Short);break;case"a":case"aa":case"aaa":e=st(je.DayPeriods,et.Abbreviated);break;case"aaaa":e=st(je.DayPeriods,et.Wide);break;case"aaaaa":e=st(je.DayPeriods,et.Narrow);break;case"b":case"bb":case"bbb":e=st(je.DayPeriods,et.Abbreviated,Cr.Standalone,!0);break;case"bbbb":e=st(je.DayPeriods,et.Wide,Cr.Standalone,!0);break;case"bbbbb":e=st(je.DayPeriods,et.Narrow,Cr.Standalone,!0);break;case"B":case"BB":case"BBB":e=st(je.DayPeriods,et.Abbreviated,Cr.Format,!0);break;case"BBBB":e=st(je.DayPeriods,et.Wide,Cr.Format,!0);break;case"BBBBB":e=st(je.DayPeriods,et.Narrow,Cr.Format,!0);break;case"h":e=Zt(Be.Hours,1,-12);break;case"hh":e=Zt(Be.Hours,2,-12);break;case"H":e=Zt(Be.Hours,1);break;case"HH":e=Zt(Be.Hours,2);break;case"m":e=Zt(Be.Minutes,1);break;case"mm":e=Zt(Be.Minutes,2);break;case"s":e=Zt(Be.Seconds,1);break;case"ss":e=Zt(Be.Seconds,2);break;case"S":e=Zt(Be.FractionalSeconds,1);break;case"SS":e=Zt(Be.FractionalSeconds,2);break;case"SSS":e=Zt(Be.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=xy(Ws.Short);break;case"ZZZZZ":e=xy(Ws.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=xy(Ws.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=xy(Ws.Long);break;default:return null}return CC[t]=e,e}(l);c+=d?d(i,n,u):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Dy(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Ks(t,e){const n=function Lce(t){return Tr(t)[it.LocaleId]}(t);if(Ef[n]=Ef[n]||{},Ef[n][e])return Ef[n][e];let r="";switch(e){case"shortDate":r=by(t,ni.Short);break;case"mediumDate":r=by(t,ni.Medium);break;case"longDate":r=by(t,ni.Long);break;case"fullDate":r=by(t,ni.Full);break;case"shortTime":r=Cy(t,ni.Short);break;case"mediumTime":r=Cy(t,ni.Medium);break;case"longTime":r=Cy(t,ni.Long);break;case"fullTime":r=Cy(t,ni.Full);break;case"short":const i=Ks(t,"shortTime"),s=Ks(t,"shortDate");r=Sy(Ay(t,ni.Short),[i,s]);break;case"medium":const o=Ks(t,"mediumTime"),a=Ks(t,"mediumDate");r=Sy(Ay(t,ni.Medium),[o,a]);break;case"long":const u=Ks(t,"longTime"),c=Ks(t,"longDate");r=Sy(Ay(t,ni.Long),[u,c]);break;case"full":const l=Ks(t,"fullTime"),d=Ks(t,"fullDate");r=Sy(Ay(t,ni.Full),[l,d])}return r&&(Ef[n][e]=r),r}function Sy(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function Li(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function Zt(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function ele(t,e){switch(t){case Be.FullYear:return e.getFullYear();case Be.Month:return e.getMonth();case Be.Date:return e.getDate();case Be.Hours:return e.getHours();case Be.Minutes:return e.getMinutes();case Be.Seconds:return e.getSeconds();case Be.FractionalSeconds:return e.getMilliseconds();case Be.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===Be.Hours)0===a&&-12===n&&(a=12);else if(t===Be.FractionalSeconds)return function Zce(t,e){return Li(t,3).substring(0,e)}(a,e);const u=Ii(o,$t.MinusSign);return Li(a,e,u,r,i)}}function st(t,e,n=Cr.Format,r=!1){return function(i,s){return function tle(t,e,n,r,i,s){switch(n){case je.Months:return function jce(t,e,n){const r=Tr(t),s=wi([r[it.MonthsFormat],r[it.MonthsStandalone]],e);return wi(s,n)}(e,i,r)[t.getMonth()];case je.Days:return function Bce(t,e,n){const r=Tr(t),s=wi([r[it.DaysFormat],r[it.DaysStandalone]],e);return wi(s,n)}(e,i,r)[t.getDay()];case je.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const c=function zce(t){const e=Tr(t);return O4(e),(e[it.ExtraData][2]||[]).map(r=>"string"==typeof r?TC(r):[TC(r[0]),TC(r[1])])}(e),l=function Hce(t,e,n){const r=Tr(t);O4(r);const s=wi([r[it.ExtraData][0],r[it.ExtraData][1]],e)||[];return wi(s,n)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,g=o>=f.hours&&a>=f.minutes,m=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function Uce(t,e,n){const r=Tr(t),s=wi([r[it.DayPeriodsFormat],r[it.DayPeriodsStandalone]],e);return wi(s,n)}(e,i,r)[o<12?0:1];case je.Eras:return function $ce(t,e){return wi(Tr(t)[it.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,s,t,e,n,r)}}function xy(t){return function(e,n,r){const i=-1*r,s=Ii(n,$t.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Ws.Short:return(i>=0?"+":"")+Li(o,2,s)+Li(Math.abs(i%60),2,s);case Ws.ShortGMT:return"GMT"+(i>=0?"+":"")+Li(o,1,s);case Ws.Long:return"GMT"+(i>=0?"+":"")+Li(o,2,s)+":"+Li(Math.abs(i%60),2,s);case Ws.Extended:return 0===r?"Z":(i>=0?"+":"")+Li(o,2,s)+":"+Li(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}const nle=0,Ry=4;function F4(t){return Dy(t.getFullYear(),t.getMonth(),t.getDate()+(Ry-t.getDay()))}function bC(t,e=!1){return function(n,r){let i;if(e){const s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+s)/7)}else{const s=F4(n),o=function rle(t){const e=Dy(t,nle,1).getDay();return Dy(t,0,1+(e<=Ry?Ry:Ry+7)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return Li(i,t,Ii(r,$t.MinusSign))}}function Py(t,e=!1){return function(n,r){return Li(F4(n).getFullYear(),t,Ii(r,$t.MinusSign),e)}}const CC={};function V4(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function L4(t){return t instanceof Date&&!isNaN(t.valueOf())}const cle=/^(\d+)?\.((\d+)(-(\d+))?)?$/,U4=22,My=".",If="0",lle=";",dle=",",AC="#";function fle(t,e,n,r,i){const o=function SC(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(lle),i=r[0],s=r[1],o=-1!==i.indexOf(My)?i.split(My):[i.substring(0,i.lastIndexOf(If)+1),i.substring(i.lastIndexOf(If)+1)],a=o[0],u=o[1]||"";n.posPre=a.substring(0,a.indexOf(AC));for(let l=0;l<u.length;l++){const d=u.charAt(l);d===If?n.minFrac=n.maxFrac=l+1:d===AC?n.maxFrac=l+1:n.posSuf+=d}const c=a.split(dle);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const l=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf(AC);n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+l).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function wC(t,e){return Tr(t)[it.NumberFormats][e]}(e,Ty.Currency),Ii(e,$t.MinusSign));return o.minFrac=function Qce(t){let e;const n=k4[t];return n&&(e=n[2]),"number"==typeof e?e:2}(r),o.maxFrac=o.minFrac,function DC(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let c=function _le(t){let r,i,s,o,a,e=Math.abs(t)+"",n=0;for((i=e.indexOf(My))>-1&&(e=e.replace(My,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===If;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===If;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>U4&&(r=r.splice(0,U4-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(t);o&&(c=function mle(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const y=s.match(cle);if(null===y)throw new Error(`${s} is not a valid digit info`);const E=y[1],A=y[3],N=y[5];null!=E&&(l=xC(E)),null!=A&&(d=xC(A)),null!=N?h=xC(N):null!=A&&d>h&&(h=d)}!function yle(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+t.integerLen,l=r.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,u&&(0===p[f]&&f>=c?p.pop():u=!1),h>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,d,h);let f=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=f.every(y=>!y);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const v=[];for(f.length>=e.lgSize&&v.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)v.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&v.unshift(f.join("")),a=v.join(Ii(n,r)),m.length&&(a+=Ii(n,i)+m.join("")),g&&(a+=Ii(n,$t.Exponential)+"+"+g)}else a=Ii(n,$t.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,o,e,$t.CurrencyGroup,$t.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}function xC(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class Tle{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let q4=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new Tle(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,a),z4(u,s)}});for(let s=0,o=i.length;s<o;s++){const u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{z4(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Vi),S(qs),S(Iy))},t.\u0275dir=le({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function z4(t,e){t.context.$implicit=e.item}let _l=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new ble,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){H4("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){H4("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Vi),S(qs))},t.\u0275dir=le({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class ble{constructor(){this.$implicit=null,this.ngIf=null}}function H4(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${on(e)}'.`)}function Ui(t,e){return new C(2100,!1)}const Vle=new Y("DATE_PIPE_DEFAULT_TIMEZONE"),Lle=new Y("DATE_PIPE_DEFAULT_OPTIONS");let K4=(()=>{var t;class e{constructor(r,i,s){this.locale=r,this.defaultTimezone=i,this.defaultOptions=s}transform(r,i,s,o){if(null==r||""===r||r!=r)return null;try{return Jce(r,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,s??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(a){throw Ui()}}}return(t=e).\u0275fac=function(r){return new(r||t)(S(zs,16),S(Vle,24),S(Lle,24))},t.\u0275pipe=kr({name:"date",type:t,pure:!0,standalone:!0}),e})(),Y4=(()=>{var t;class e{constructor(r,i="USD"){this._locale=r,this._defaultCurrencyCode=i}transform(r,i=this._defaultCurrencyCode,s="symbol",o,a){if(!function kC(t){return!(null==t||""===t||t!=t)}(r))return null;a=a||this._locale,"boolean"==typeof s&&(s=s?"symbol":"code");let u=i||this._defaultCurrencyCode;"code"!==s&&(u="symbol"===s||"symbol-narrow"===s?function Wce(t,e,n="en"){const r=function Gce(t){return Tr(t)[it.Currencies]}(n)[t]||k4[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}(u,"symbol"===s?"wide":"narrow",a):s);try{return fle(function OC(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(r),a,u,i,o)}catch(c){throw Ui()}}}return(t=e).\u0275fac=function(r){return new(r||t)(S(zs,16),S(Tue,16))},t.\u0275pipe=kr({name:"currency",type:t,pure:!0,standalone:!0}),e})();let Wle=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mr({type:t}),t.\u0275inj=Kn({}),e})();function J4(t){return"server"===t}let Xle=(()=>{var t;class e{}return(t=e).\u0275prov=re({token:t,providedIn:"root",factory:()=>new Jle(Q(Br),window)}),e})();class Jle{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Zle(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Tde extends Rce{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class LC extends Tde{static makeCurrent(){!function xce(t){yC||(yC=t)}(new LC)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function bde(){return Tf=Tf||document.querySelector("base"),Tf?Tf.getAttribute("href"):null}();return null==n?null:function Cde(t){Oy=Oy||document.createElement("a"),Oy.setAttribute("href",t);const e=Oy.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Tf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ele(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Oy,Tf=null,Dde=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),e})();const UC=new Y("EventManagerPlugins");let rG=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new C(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(UC),Q(Ue))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),e})();class iG{constructor(e){this._doc=e}}const BC="ng-app-id";let sG=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=J4(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${BC}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(BC),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(BC,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(Br),Q(U_),Q(uU,8),Q(Fo))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),e})();const jC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$C=/%COMP%/g,Pde=new Y("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function aG(t,e){return e.map(n=>n.replace($C,t))}let GC=(()=>{var t;class e{constructor(r,i,s,o,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=J4(u),this.defaultRenderer=new qC(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===gi.ShadowDom&&(i={...i,encapsulation:gi.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof cG?s.applyToHost(r):s instanceof zC&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case gi.Emulated:o=new cG(c,l,i,this.appId,d,a,u,h);break;case gi.ShadowDom:return new Ode(c,l,r,i,a,u,this.nonce,h);default:o=new zC(c,l,i,d,a,u,h)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(rG),Q(sG),Q(U_),Q(Pde),Q(Br),Q(Fo),Q(Ue),Q(uU))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),e})();class qC{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(jC[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(uG(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(uG(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=jC[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=jC[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(ko.DashCase|ko.Important)?e.style.setProperty(n,r,i&ko.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&ko.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Uo().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function uG(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Ode extends qC{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=aG(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class zC extends qC{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?aG(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class cG extends zC{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function Mde(t){return"_ngcontent-%COMP%".replace($C,t)}(c),this.hostAttr=function Nde(t){return"_nghost-%COMP%".replace($C,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Fde=(()=>{var t;class e extends iG{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(Br))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),e})();const lG=["alt","control","meta","shift"],Vde={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lde={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Ude=(()=>{var t;class e extends iG{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Uo().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),lG.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=Vde[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),lG.forEach(a=>{a!==s&&(0,Lde[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(Br))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),e})();const hG=[{provide:Fo,useValue:"browser"},{provide:oU,useValue:function Bde(){LC.makeCurrent()},multi:!0},{provide:Br,useFactory:function $de(){return function bne(t){P0=t}(document),document},deps:[]}],Gde=i4(gce,"browser",hG),qde=new Y(""),fG=[{provide:my,useClass:class Ade{addToWindow(e){nt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new C(5103,!1);return s},nt.getAllAngularTestabilities=()=>e.getAllTestabilities(),nt.getAllAngularRootElements=()=>e.getAllRootElements(),nt.frameworkStabilizers||(nt.frameworkStabilizers=[]),nt.frameworkStabilizers.push(r=>{const i=nt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Uo().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:Z$,useClass:aC,deps:[Ue,uC,my]},{provide:aC,useClass:aC,deps:[Ue,uC,my]}],pG=[{provide:B0,useValue:"root"},{provide:js,useFactory:function jde(){return new js},deps:[]},{provide:UC,useClass:Fde,multi:!0,deps:[Br,Ue,Fo]},{provide:UC,useClass:Ude,multi:!0,deps:[Br]},GC,sG,rG,{provide:Yh,useExisting:GC},{provide:class ede{},useClass:Dde,deps:[]},[]];let gG=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:U_,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(qde,12))},t.\u0275mod=mr({type:t}),t.\u0275inj=Kn({providers:[...pG,...fG],imports:[Wle,mce]}),e})(),mG=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(Br))},t.\u0275prov=re({token:t,factory:function(r){let i=null;return i=r?new r:function Hde(){return new mG(Q(Br))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;class EG{}class Xde{}const Qs="*";function yl(t,e){return{type:7,name:t,definitions:e,options:{}}}function Ys(t,e=null){return{type:4,styles:e,timings:t}}function IG(t,e=null){return{type:2,steps:t,options:e}}function kn(t){return{type:6,styles:t,offset:null}}function WC(t,e,n){return{type:0,name:t,styles:e,options:n}}function Xs(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}class bf{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class wG{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}function TG(t){return new C(3e3,!1)}function jo(t){switch(t.length){case 0:return new bf;case 1:return t[0];default:return new wG(t)}}function bG(t,e,n=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(u=>{const c=u.get("offset"),l=c==o,d=l&&a||new Map;u.forEach((h,f)=>{let p=f,g=h;if("offset"!==f)switch(p=t.normalizePropertyName(p,i),g){case"!":g=n.get(f);break;case Qs:g=r.get(f);break;default:g=t.normalizeStyleValue(f,p,g,i)}d.set(p,g)}),l||s.push(d),a=d,o=c}),i.length)throw function Ehe(t){return new C(3502,!1)}();return s}function QC(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&YC(n,"start",t)));break;case"done":t.onDone(()=>r(n&&YC(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&YC(n,"destroy",t)))}}function YC(t,e,n){const s=XC(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),o=t._data;return null!=o&&(s._data=o),s}function XC(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function ri(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function CG(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const Mhe=(()=>typeof document>"u"?null:document.documentElement)();function JC(t){const e=t.parentNode||t.host||null;return e===Mhe?null:e}let nu=null,AG=!1;function DG(t,e){for(;e;){if(e===t)return!0;e=JC(e)}return!1}function SG(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let xG=(()=>{var t;class e{validateStyleProperty(r){return function khe(t){nu||(nu=function Ohe(){return typeof document<"u"?document.body:null}()||{},AG=!!nu.style&&"WebkitAppearance"in nu.style);let e=!0;return nu.style&&!function Nhe(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in nu.style,!e&&AG&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in nu.style)),e}(r)}matchesElement(r,i){return!1}containsElement(r,i){return DG(r,i)}getParentElement(r){return JC(r)}query(r,i,s){return SG(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,u=[],c){return new bf(s,o)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),e})(),ZC=(()=>{class e{}return e.NOOP=new xG,e})();const Fhe=1e3,eA="ng-enter",Fy="ng-leave",Vy="ng-trigger",Ly=".ng-trigger",PG="ng-animating",tA=".ng-animating";function Js(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:nA(parseFloat(e[1]),e[2])}function nA(t,e){return"s"===e?t*Fhe:t}function Uy(t,e,n){return t.hasOwnProperty("duration")?t:function Lhe(t,e,n){let i,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(TG()),{duration:0,delay:0,easing:""};i=nA(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=nA(parseFloat(u),a[4]));const c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,u=e.length;i<0&&(e.push(function Jde(){return new C(3100,!1)}()),a=!0),s<0&&(e.push(function Zde(){return new C(3101,!1)}()),a=!0),a&&e.splice(u,0,TG())}return{duration:i,delay:s,easing:o}}(t,e,n)}function Cf(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function MG(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function $o(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function os(t,e,n){e.forEach((r,i)=>{const s=iA(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function ru(t,e){e.forEach((n,r)=>{const i=iA(r);t.style[i]=""})}function Af(t){return Array.isArray(t)?1==t.length?t[0]:IG(t):t}const rA=new RegExp("{{\\s*(.+?)\\s*}}","g");function kG(t){let e=[];if("string"==typeof t){let n;for(;n=rA.exec(t);)e.push(n[1]);rA.lastIndex=0}return e}function Df(t,e,n){const r=t.toString(),i=r.replace(rA,(s,o)=>{let a=e[o];return null==a&&(n.push(function the(t){return new C(3003,!1)}()),a=""),a.toString()});return i==r?t:i}function By(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const jhe=/-+([a-z0-9])/g;function iA(t){return t.replace(jhe,(...e)=>e[1].toUpperCase())}function ii(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function nhe(t){return new C(3004,!1)}()}}function OG(t,e){return window.getComputedStyle(t)[e]}const jy="*";function qhe(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function zhe(t,e,n){if(":"==t[0]){const u=function Hhe(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function mhe(t){return new C(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof u)return void e.push(u);t=u}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function ghe(t){return new C(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(FG(i,o));"<"==s[0]&&!(i==jy&&o==jy)&&e.push(FG(o,i))}(r,n,e)):n.push(t),n}const $y=new Set(["true","1"]),Gy=new Set(["false","0"]);function FG(t,e){const n=$y.has(t)||Gy.has(t),r=$y.has(e)||Gy.has(e);return(i,s)=>{let o=t==jy||t==i,a=e==jy||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?$y.has(t):Gy.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?$y.has(e):Gy.has(e)),o&&a}}const Whe=new RegExp("s*:selfs*,?","g");function sA(t,e,n,r){return new Khe(t).build(e,n,r)}class Khe{constructor(e){this._driver=e}build(e,n,r){const i=new Xhe(n);return this._resetContextStyleTimingState(i),ii(this,Af(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&n.errors.push(function ihe(){return new C(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),0==a.type){const u=a,c=u.name;c.toString().split(/\s*,\s*/).forEach(l=>{u.name=l,s.push(this.visitState(u,n))}),u.name=c}else if(1==a.type){const u=this.visitTransition(a,n);r+=u.queryCount,i+=u.depCount,o.push(u)}else n.errors.push(function she(){return new C(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{kG(u).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(By(s.values()),n.errors.push(function ohe(t,e){return new C(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=ii(this,Af(e.animation),n);return{type:1,matchers:qhe(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:iu(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>ii(this,r,n)),options:iu(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const s=e.steps.map(o=>{n.currentTime=r;const a=ii(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:3,steps:s,options:iu(e.options)}}visitAnimate(e,n){const r=function Zhe(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return oA(Uy(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=oA(0,0,"");return s.dynamic=!0,s.strValue=n,s}const i=Uy(n,e);return oA(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:kn({});if(5==s.type)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=kn(c)}n.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,n);u.isEmptyStep=a,i=u}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Qs?r.push(a):n.errors.push(new C(3002,!1)):r.push(MG(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const c=n.collectedStyles.get(n.currentQuerySelector),l=c.get(u);let d=!0;l&&(s!=i&&s>=l.startTime&&i<=l.endTime&&(n.errors.push(function uhe(t,e,n,r,i){return new C(3010,!1)}()),d=!1),s=l.startTime),d&&c.set(u,{startTime:s,endTime:i}),n.options&&function Bhe(t,e,n){const r=e.params||{},i=kG(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(function ehe(t){return new C(3001,!1)}())})}(a,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function che(){return new C(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,c=0;const l=e.steps.map(v=>{const y=this._makeStyleAst(v,n);let E=null!=y.offset?y.offset:function Jhe(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(y.styles),A=0;return null!=E&&(s++,A=y.offset=E),u=u||A<0||A>1,a=a||A<c,c=A,o.push(A),y});u&&n.errors.push(function lhe(){return new C(3012,!1)}()),a&&n.errors.push(function dhe(){return new C(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?n.errors.push(function hhe(){return new C(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=n.currentTime,g=n.currentAnimateTimings,m=g.duration;return l.forEach((v,y)=>{const E=h>0?y==f?1:h*y:o[y],A=E*m;n.currentTime=p+g.delay+A,g.duration=A,this._validateStyleAst(v,n),v.offset=E,r.styles.push(v)}),r}visitReference(e,n){return{type:8,animation:ii(this,Af(e.animation),n),options:iu(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:iu(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:iu(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[s,o]=function Qhe(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(Whe,"")),t=t.replace(/@\*/g,Ly).replace(/@\w+/g,n=>Ly+"-"+n.slice(1)).replace(/:animating/g,tA),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,ri(n.collectedStyles,n.currentQuerySelector,new Map);const a=ii(this,Af(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:iu(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function fhe(){return new C(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Uy(e.timings,n.errors,!0);return{type:12,animation:ii(this,Af(e.animation),n),timings:r,options:null}}}class Xhe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function iu(t){return t?(t=Cf(t)).params&&(t.params=function Yhe(t){return t?Cf(t):null}(t.params)):t={},t}function oA(t,e,n){return{duration:t,delay:e,easing:n}}function aA(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class qy{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const nfe=new RegExp(":enter","g"),ife=new RegExp(":leave","g");function uA(t,e,n,r,i,s=new Map,o=new Map,a,u,c=[]){return(new sfe).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class sfe{buildKeyframes(e,n,r,i,s,o,a,u,c,l=[]){c=c||new qy;const d=new cA(e,n,c,i,s,l,[]);d.options=u;const h=u.delay?Js(u.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,u),ii(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===n){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,u)}return f.length?f.map(p=>p.buildKeyframes()):[aA(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Js(Df(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime;const o=null!=r.duration?Js(r.duration):null,a=null!=r.delay?Js(r.delay):null;return 0!==o&&e.forEach(u=>{const c=n.appendInstructionToTimeline(u,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),ii(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=zy);const o=Js(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ii(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?Js(e.options.delay):0;e.steps.forEach(o=>{const a=n.createSubContext(e.options);s&&a.delayNextStep(s),ii(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return Uy(n.params?Df(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?Js(i.delay):0;s&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=zy);let o=r;const a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let u=null;a.forEach((c,l)=>{n.currentQueryIndex=l;const d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(u=d.currentTimeline),ii(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),u&&(n.currentTimeline.mergeTimelineCollectedStyles(u),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1);let u=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const l=n.currentTimeline;u&&l.delayNextStep(u);const d=l.currentTime;ii(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const zy={};class cA{constructor(e,n,r,i,s,o,a,u){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Hy(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Js(r.duration)),null!=r.delay&&(i.delay=Js(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Df(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,s=new cA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=zy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new ofe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(nfe,"."+this._enterClassName)).replace(ife,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function phe(t){return new C(3014,!1)}()),a}}class Hy{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new Hy(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Qs),this._currentKeyframe.set(n,Qs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const s=i&&i.params||{},o=function afe(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)n.set(s,Qs)}else $o(i,n)}),n}(e,this._globalTimelineStyles);for(let[a,u]of o){const c=Df(u,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Qs),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const c=$o(a,new Map,this._backFill);c.forEach((l,d)=>{"!"===l?e.add(d):l===Qs&&n.add(d)}),r||c.set("offset",u/this.duration),i.push(c)});const s=e.size?By(e.values()):[],o=n.size?By(n.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return aA(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class ofe extends Hy{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],o=r+n,a=n/o,u=$o(e[0]);u.set("offset",0),s.push(u);const c=$o(e[0]);c.set("offset",UG(a)),s.push(c);const l=e.length-1;for(let d=1;d<=l;d++){let h=$o(e[d]);const f=h.get("offset");h.set("offset",UG((n+f*r)/o)),s.push(h)}r=o,n=0,i="",e=s}return aA(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function UG(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class lA{}const ufe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class cfe extends lA{normalizePropertyName(e,n){return iA(e)}normalizeStyleValue(e,n,r,i){let s="";const o=r.toString().trim();if(ufe.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function rhe(t,e){return new C(3005,!1)}())}return o+s}}function BG(t,e,n,r,i,s,o,a,u,c,l,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:d,errors:h}}const dA={};class jG{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function lfe(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,u,c,l){const d=[],h=this.ast.options&&this.ast.options.params||dA,p=this.buildStyles(r,a&&a.params||dA,d),g=u&&u.params||dA,m=this.buildStyles(i,g,d),v=new Set,y=new Map,E=new Map,A="void"===i,N={params:dfe(g,h),delay:this.ast.options?.delay},F=l?[]:uA(e,n,this.ast.animation,s,o,p,m,N,c,d);let X=0;if(F.forEach(Lt=>{X=Math.max(Lt.duration+Lt.delay,X)}),d.length)return BG(n,this._triggerName,r,i,A,p,m,[],[],y,E,X,d);F.forEach(Lt=>{const pr=Lt.element,cT=ri(y,pr,new Set);Lt.preStyleProps.forEach(_c=>cT.add(_c));const km=ri(E,pr,new Set);Lt.postStyleProps.forEach(_c=>km.add(_c)),pr!==n&&v.add(pr)});const De=By(v.values());return BG(n,this._triggerName,r,i,A,p,m,F,De,y,E,X)}}function dfe(t,e){const n=Cf(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class hfe{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=Cf(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Df(o,i,n));const u=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,u,o,n),r.set(a,o)})}),r}}class pfe{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new hfe(i.style,i.options&&i.options.params||{},r))}),$G(this.states,"true","1"),$G(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new jG(e,i,this.states))}),this.fallbackTransition=function gfe(t,e,n){return new jG(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function $G(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const mfe=new qy;class _fe{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],s=sA(this._driver,n,r,[]);if(r.length)throw function Ihe(t){return new C(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,r){const i=e.element,s=bG(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=uA(this._driver,n,s,eA,Fy,new Map,new Map,r,mfe,i),o.forEach(l=>{const d=ri(a,l.element,new Map);l.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function whe(){return new C(3300,!1)}()),o=[]),i.length)throw function The(t){return new C(3504,!1)}();a.forEach((l,d)=>{l.forEach((h,f)=>{l.set(f,this._driver.computeStyle(d,f,Qs))})});const c=jo(o.map(l=>{const d=a.get(l.element);return this._buildPlayer(l,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function bhe(t){return new C(3301,!1)}();return n}listen(e,n,r,i){const s=XC(n,"","","");return QC(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const GG="ng-animate-queued",hA="ng-animate-disabled",wfe=[],qG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Tfe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bi="__ng_removed";class fA{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function Dfe(t){return t??null}(r?e.value:e),r){const s=Cf(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const Sf="void",pA=new fA(Sf);class bfe{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ti(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function Che(t,e){return new C(3302,!1)}();if(null==r||0==r.length)throw function Ahe(t){return new C(3303,!1)}();if(!function Sfe(t){return"start"==t||"done"==t}(r))throw function Dhe(t,e){return new C(3400,!1)}();const s=ri(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);const a=ri(this._engine.statesByElement,e,new Map);return a.has(n)||(Ti(e,Vy),Ti(e,Vy+"-"+n),a.set(n,pA)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function She(t){return new C(3401,!1)}();return n}trigger(e,n,r,i=!0){const s=this._getTrigger(n),o=new gA(this.id,n,e);let a=this._engine.statesByElement.get(e);a||(Ti(e,Vy),Ti(e,Vy+"-"+n),this._engine.statesByElement.set(e,a=new Map));let u=a.get(n);const c=new fA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a.set(n,c),u||(u=pA),c.value!==Sf&&u.value===c.value){if(!function Pfe(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(u.params,c.params)){const g=[],m=s.matchStyles(u.value,u.params,g),v=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{ru(e,m),os(e,v)})}return}const h=ri(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let f=s.matchTransition(u.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:u,toState:c,player:o,isFallbackTransition:p}),p||(Ti(e,GG),o.onStart(()=>{vl(e,GG)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let v=m.indexOf(o);v>=0&&m.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,Ly,!0);r.forEach(i=>{if(i[Bi])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,c)=>{if(o.set(c,u.value),this._triggers.has(c)){const l=this.trigger(e,c,Sf,i);l&&a.push(l)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&jo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,c=r.get(o)||pA,l=new fA(Sf),d=new gA(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:c,toState:l,player:d,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const s=e[Bi];(!s||s===qG)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Ti(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=XC(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,QC(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Cfe{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new bfe(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){const u=i.get(a);if(u){const c=r.indexOf(u);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}return n}trigger(e,n,r,i){if(Wy(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!Wy(n))return;const s=n[Bi];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ti(e,hA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),vl(e,hA))}removeNode(e,n,r){if(Wy(n)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[Bi]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return Wy(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,Ly,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,tA,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return jo(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[Bi];if(n&&n.setForRemoval){if(e[Bi]=qG,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(hA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ti(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?jo(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function xhe(t){return new C(3402,!1)}()}_flushAnimations(e,n){const r=new qy,i=[],s=new Map,o=[],a=new Map,u=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(J=>{l.add(J);const ie=this.driver.query(J,".ng-animate-queued",!0);for(let oe=0;oe<ie.length;oe++)l.add(ie[oe])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=WG(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((J,ie)=>{const oe=eA+g++;p.set(ie,oe),J.forEach(Ve=>Ti(Ve,oe))});const m=[],v=new Set,y=new Set;for(let J=0;J<this.collectedLeaveElements.length;J++){const ie=this.collectedLeaveElements[J],oe=ie[Bi];oe&&oe.setForRemoval&&(m.push(ie),v.add(ie),oe.hasAnimation?this.driver.query(ie,".ng-star-inserted",!0).forEach(Ve=>v.add(Ve)):y.add(ie))}const E=new Map,A=WG(h,Array.from(v));A.forEach((J,ie)=>{const oe=Fy+g++;E.set(ie,oe),J.forEach(Ve=>Ti(Ve,oe))}),e.push(()=>{f.forEach((J,ie)=>{const oe=p.get(ie);J.forEach(Ve=>vl(Ve,oe))}),A.forEach((J,ie)=>{const oe=E.get(ie);J.forEach(Ve=>vl(Ve,oe))}),m.forEach(J=>{this.processLeaveNode(J)})});const N=[],F=[];for(let J=this._namespaceList.length-1;J>=0;J--)this._namespaceList[J].drainQueuedTransitions(n).forEach(oe=>{const Ve=oe.player,An=oe.element;if(N.push(Ve),this.collectedEnterElements.length){const gr=An[Bi];if(gr&&gr.setForMove){if(gr.previousTriggersValues&&gr.previousTriggersValues.has(oe.triggerName)){const yc=gr.previousTriggersValues.get(oe.triggerName),Di=this.statesByElement.get(oe.element);if(Di&&Di.has(oe.triggerName)){const lT=Di.get(oe.triggerName);lT.value=yc,Di.set(oe.triggerName,lT)}}return void Ve.destroy()}}const Ms=!d||!this.driver.containsElement(d,An),fi=E.get(An),Ua=p.get(An),At=this._buildInstruction(oe,r,Ua,fi,Ms);if(At.errors&&At.errors.length)return void F.push(At);if(Ms)return Ve.onStart(()=>ru(An,At.fromStyles)),Ve.onDestroy(()=>os(An,At.toStyles)),void i.push(Ve);if(oe.isFallbackTransition)return Ve.onStart(()=>ru(An,At.fromStyles)),Ve.onDestroy(()=>os(An,At.toStyles)),void i.push(Ve);const VJ=[];At.timelines.forEach(gr=>{gr.stretchStartingKeyframe=!0,this.disabledNodes.has(gr.element)||VJ.push(gr)}),At.timelines=VJ,r.append(An,At.timelines),o.push({instruction:At,player:Ve,element:An}),At.queriedElements.forEach(gr=>ri(a,gr,[]).push(Ve)),At.preStyleProps.forEach((gr,yc)=>{if(gr.size){let Di=u.get(yc);Di||u.set(yc,Di=new Set),gr.forEach((lT,oV)=>Di.add(oV))}}),At.postStyleProps.forEach((gr,yc)=>{let Di=c.get(yc);Di||c.set(yc,Di=new Set),gr.forEach((lT,oV)=>Di.add(oV))})});if(F.length){const J=[];F.forEach(ie=>{J.push(function Rhe(t,e){return new C(3505,!1)}())}),N.forEach(ie=>ie.destroy()),this.reportError(J)}const X=new Map,De=new Map;o.forEach(J=>{const ie=J.element;r.has(ie)&&(De.set(ie,ie),this._beforeAnimationBuild(J.player.namespaceId,J.instruction,X))}),i.forEach(J=>{const ie=J.element;this._getPreviousPlayers(ie,!1,J.namespaceId,J.triggerName,null).forEach(Ve=>{ri(X,ie,[]).push(Ve),Ve.destroy()})});const Lt=m.filter(J=>QG(J,u,c)),pr=new Map;HG(pr,this.driver,y,c,Qs).forEach(J=>{QG(J,u,c)&&Lt.push(J)});const km=new Map;f.forEach((J,ie)=>{HG(km,this.driver,new Set(J),u,"!")}),Lt.forEach(J=>{const ie=pr.get(J),oe=km.get(J);pr.set(J,new Map([...ie?.entries()??[],...oe?.entries()??[]]))});const _c=[],OJ=[],FJ={};o.forEach(J=>{const{element:ie,player:oe,instruction:Ve}=J;if(r.has(ie)){if(l.has(ie))return oe.onDestroy(()=>os(ie,Ve.toStyles)),oe.disabled=!0,oe.overrideTotalTime(Ve.totalTime),void i.push(oe);let An=FJ;if(De.size>1){let fi=ie;const Ua=[];for(;fi=fi.parentNode;){const At=De.get(fi);if(At){An=At;break}Ua.push(fi)}Ua.forEach(At=>De.set(At,An))}const Ms=this._buildAnimation(oe.namespaceId,Ve,X,s,km,pr);if(oe.setRealPlayer(Ms),An===FJ)_c.push(oe);else{const fi=this.playersByElement.get(An);fi&&fi.length&&(oe.parentPlayer=jo(fi)),i.push(oe)}}else ru(ie,Ve.fromStyles),oe.onDestroy(()=>os(ie,Ve.toStyles)),OJ.push(oe),l.has(ie)&&i.push(oe)}),OJ.forEach(J=>{const ie=s.get(J.element);if(ie&&ie.length){const oe=jo(ie);J.setRealPlayer(oe)}}),i.forEach(J=>{J.parentPlayer?J.syncPlayerEvents(J.parentPlayer):J.destroy()});for(let J=0;J<m.length;J++){const ie=m[J],oe=ie[Bi];if(vl(ie,Fy),oe&&oe.hasAnimation)continue;let Ve=[];if(a.size){let Ms=a.get(ie);Ms&&Ms.length&&Ve.push(...Ms);let fi=this.driver.query(ie,tA,!0);for(let Ua=0;Ua<fi.length;Ua++){let At=a.get(fi[Ua]);At&&At.length&&Ve.push(...At)}}const An=Ve.filter(Ms=>!Ms.destroyed);An.length?xfe(this,ie,An):this.processLeaveNode(ie)}return m.length=0,_c.forEach(J=>{this.players.push(J),J.onDone(()=>{J.destroy();const ie=this.players.indexOf(J);this.players.splice(ie,1)}),J.play()}),_c}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Sf;a.forEach(c=>{c.queued||!u&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){const s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:n.triggerName;for(const u of n.timelines){const c=u.element,l=c!==s,d=ri(r,c,[]);this._getPreviousPlayers(c,l,o,a,n.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}ru(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){const a=n.triggerName,u=n.element,c=[],l=new Set,d=new Set,h=n.timelines.map(p=>{const g=p.element;l.add(g);const m=g[Bi];if(m&&m.removedBeforeQueried)return new bf(p.duration,p.delay);const v=g!==u,y=function Rfe(t){const e=[];return KG(t,e),e}((r.get(g)||wfe).map(X=>X.getRealPlayer())).filter(X=>!!X.element&&X.element===g),E=s.get(g),A=o.get(g),N=bG(this._normalizer,p.keyframes,E,A),F=this._buildPlayer(p,N,y);if(p.subTimeline&&i&&d.add(g),v){const X=new gA(e,a,g);X.setRealPlayer(F),c.push(X)}return F});c.forEach(p=>{ri(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Afe(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),l.forEach(p=>Ti(p,PG));const f=jo(h);return f.onDestroy(()=>{l.forEach(p=>vl(p,PG)),os(u,n.toStyles)}),d.forEach(p=>{ri(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new bf(e.duration,e.delay)}}class gA{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new bf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>QC(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){ri(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function Wy(t){return t&&1===t.nodeType}function zG(t,e){const n=t.style.display;return t.style.display=e??"none",n}function HG(t,e,n,r,i){const s=[];n.forEach(u=>s.push(zG(u)));const o=[];r.forEach((u,c)=>{const l=new Map;u.forEach(d=>{const h=e.computeStyle(c,d,i);l.set(d,h),(!h||0==h.length)&&(c[Bi]=Tfe,o.push(c))}),t.set(c,l)});let a=0;return n.forEach(u=>zG(u,s[a++])),o}function WG(t,e){const n=new Map;if(t.forEach(a=>n.set(a,[])),0==e.length)return n;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const c=a.parentNode;return u=n.has(c)?c:i.has(c)?1:o(c),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&n.get(u).push(a)}),n}function Ti(t,e){t.classList?.add(e)}function vl(t,e){t.classList?.remove(e)}function xfe(t,e,n){jo(n).onDone(()=>t.processLeaveNode(e))}function KG(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof wG?KG(r.players,e):e.push(r)}}function QG(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}class Ky{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Cfe(e,n,r),this._timelineEngine=new _fe(e,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],l=sA(this._driver,s,u,[]);if(u.length)throw function vhe(t,e){return new C(3404,!1)}();a=function ffe(t,e,n){return new pfe(t,e,n)}(i,l,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[s,o]=CG(r);this._timelineEngine.command(s,n,o,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if("@"==r.charAt(0)){const[o,a]=CG(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Nfe=(()=>{class e{constructor(r,i,s){this._element=r,this._startStyles=i,this._endStyles=s,this._state=0;let o=e.initialStylesByElement.get(r);o||e.initialStylesByElement.set(r,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&os(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(os(this._element,this._initialStyles),this._endStyles&&(os(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(ru(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ru(this._element,this._endStyles),this._endStyles=null),os(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function mA(t){let e=null;return t.forEach((n,r)=>{(function kfe(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class YG{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:OG(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class Ofe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return DG(e,n)}getParentElement(e){return JC(e)}query(e,n,r){return SG(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const c=new Map,l=o.filter(f=>f instanceof YG);(function $he(t,e){return 0===t||0===e})(r,i)&&l.forEach(f=>{f.currentSnapshot.forEach((p,g)=>c.set(g,p))});let d=function Uhe(t){return t.length?t[0]instanceof Map?t:t.map(e=>MG(e)):[]}(n).map(f=>$o(f));d=function Ghe(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,OG(t,a)))}}return e}(e,d,c);const h=function Mfe(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=mA(e[0]),e.length>1&&(r=mA(e[e.length-1]))):e instanceof Map&&(n=mA(e)),n||r?new Nfe(t,n,r):null}(e,d);return new YG(e,d,u,h)}}let Ffe=(()=>{var t;class e extends EG{constructor(r,i){super(),this._nextAnimationId=0,this._renderer=r.createRenderer(i.body,{id:"0",encapsulation:gi.None,styles:[],data:{animation:[]}})}build(r){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(r)?IG(r):r;return XG(this._renderer,null,i,"register",[s]),new Vfe(i,this._renderer)}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(Yh),Q(Br))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),e})();class Vfe extends Xde{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new Lfe(this._id,e,n||{},this._renderer)}}class Lfe{constructor(e,n,r,i){this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return XG(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function XG(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const JG="@.disabled";let Ufe=(()=>{var t;class e{constructor(r,i,s){this.delegate=r,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,a)=>{const u=a?.parentNode(o);u&&a.removeChild(u,o)}}createRenderer(r,i){const o=this.delegate.createRenderer(r,i);if(!(r&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(o);return d||(d=new ZG("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,d)),d}const a=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,r);const c=d=>{Array.isArray(d)?d.forEach(c):this.engine.registerTrigger(a,u,r,d.name,d)};return i.data.animation.forEach(c),new Bfe(this,u,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(r,i,s){r>=0&&r<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,u]=o;a(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(Yh),Q(Ky),Q(Ue))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),e})();class ZG{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==JG?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class Bfe extends ZG{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==JG?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function jfe(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function $fe(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,n,r)}}let Gfe=(()=>{var t;class e extends Ky{constructor(r,i,s,o){super(r.body,i,s)}ngOnDestroy(){this.flush()}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(Br),Q(ZC),Q(lA),Q(Za))},t.\u0275prov=re({token:t,factory:t.\u0275fac}),e})();const e3=[{provide:EG,useClass:Ffe},{provide:lA,useFactory:function qfe(){return new cfe}},{provide:Ky,useClass:Gfe},{provide:Yh,useFactory:function zfe(t,e,n){return new Ufe(t,e,n)},deps:[GC,Ky,Ue]}],_A=[{provide:ZC,useFactory:()=>new Ofe},{provide:aU,useValue:"BrowserAnimations"},...e3],t3=[{provide:ZC,useClass:xG},{provide:aU,useValue:"NoopAnimations"},...e3];let Hfe=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:r.disableAnimations?t3:_A}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mr({type:t}),t.\u0275inj=Kn({providers:_A,imports:[gG]}),e})();const{isArray:Kfe}=Array,{getPrototypeOf:Qfe,prototype:Yfe,keys:Xfe}=Object;function n3(t){if(1===t.length){const e=t[0];if(Kfe(e))return{args:e,keys:null};if(function Jfe(t){return t&&"object"==typeof t&&Qfe(t)===Yfe}(e)){const n=Xfe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Zfe}=Array;function r3(t){return $e(e=>function epe(t,e){return Zfe(e)?t(...e):t(e)}(t,e))}function i3(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function yA(...t){const e=vh(t),n=xV(t),{args:r,keys:i}=n3(t);if(0===r.length)return Dt([],e);const s=new wt(function tpe(t,e,n=Ao){return r=>{s3(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)s3(e,()=>{const c=Dt(t[u],e);let l=!1;c.subscribe(Jt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>i3(i,o):Ao));return n?s.pipe(r3(n)):s}function s3(t,e,n){t?Ns(n,t,e):e()}const Yy=_h(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function vA(...t){return function npe(){return Ec(1)}()(Dt(t,vh(t)))}function o3(t){return new wt(e=>{Wr(t()).subscribe(e)})}function xf(t,e){const n=Ze(t)?t:()=>t,r=i=>i.error(n());return new wt(e?i=>e.schedule(r,0,i):r)}function EA(){return sn((t,e)=>{let n=null;t._refCount++;const r=Jt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class a3 extends wt{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,pV(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Mr;const n=this.getSubject();e.add(this.source.subscribe(Jt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Mr.EMPTY)}return e}refCount(){return EA()(this)}}function El(t){return t<=0?()=>Ki:sn((e,n)=>{let r=0;e.subscribe(Jt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Go(t,e){return sn((n,r)=>{let i=0;n.subscribe(Jt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Xy(t){return sn((e,n)=>{let r=!1;e.subscribe(Jt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function u3(t=ipe){return sn((e,n)=>{let r=!1;e.subscribe(Jt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function ipe(){return new Yy}function su(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Go((i,s)=>t(i,s,r)):Ao,El(1),n?Xy(e):u3(()=>new Yy))}function Rf(t,e){return Ze(e)?Dn(t,e,1):Dn(t,1)}function On(t,e,n){const r=Ze(t)||e||n?{next:t,error:e,complete:n}:t;return r?sn((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Jt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ao}function ou(t){return sn((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Jt(n,void 0,void 0,o=>{s=Wr(t(o,ou(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function IA(t){return t<=0?()=>Ki:sn((e,n)=>{let r=[];e.subscribe(Jt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function wA(t){return sn((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Ie="primary",Pf=Symbol("RouteTitle");class lpe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Il(t){return new lpe(t)}function dpe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function as(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!c3(t[i],e[i]))return!1;return!0}function c3(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function l3(t){return t.length>0?t[t.length-1]:null}function qo(t){return function Wfe(t){return!!t&&(t instanceof wt||Ze(t.lift)&&Ze(t.subscribe))}(t)?t:uf(t)?Dt(Promise.resolve(t)):de(t)}const fpe={exact:function f3(t,e,n){if(!au(t.segments,e.segments)||!Jy(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!f3(t.children[r],e.children[r],n))return!1;return!0},subset:p3},d3={exact:function ppe(t,e){return as(t,e)},subset:function gpe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>c3(t[n],e[n]))},ignored:()=>!0};function h3(t,e,n){return fpe[n.paths](t.root,e.root,n.matrixParams)&&d3[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function p3(t,e,n){return g3(t,e,e.segments,n)}function g3(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!au(i,n)||e.hasChildren()||!Jy(i,n,r))}if(t.segments.length===n.length){if(!au(t.segments,n)||!Jy(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!p3(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(au(t.segments,i)&&Jy(t.segments,i,r)&&t.children[Ie])&&g3(t.children[Ie],e,s,r)}}function Jy(t,e,n){return e.every((r,i)=>d3[n](t[i].parameters,r.parameters))}class wl{constructor(e=new We([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Il(this.queryParams)),this._queryParamMap}toString(){return ype.serialize(this)}}class We{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zy(this)}}class Mf{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Il(this.parameters)),this._parameterMap}toString(){return y3(this)}}function au(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Nf=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:function(){return new TA},providedIn:"root"}),e})();class TA{parse(e){const n=new xpe(e);return new wl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${kf(e.root,!0)}`,r=function Ipe(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${ev(n)}=${ev(i)}`).join("&"):`${ev(n)}=${ev(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function vpe(t){return encodeURI(t)}(e.fragment)}`:""}`}}const ype=new TA;function Zy(t){return t.segments.map(e=>y3(e)).join("/")}function kf(t,e){if(!t.hasChildren())return Zy(t);if(e){const n=t.children[Ie]?kf(t.children[Ie],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Ie&&r.push(`${i}:${kf(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function _pe(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Ie&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Ie&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Ie?[kf(t.children[Ie],!1)]:[`${i}:${kf(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Ie]?`${Zy(t)}/${n[0]}`:`${Zy(t)}/(${n.join("//")})`}}function m3(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ev(t){return m3(t).replace(/%3B/gi,";")}function bA(t){return m3(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tv(t){return decodeURIComponent(t)}function _3(t){return tv(t.replace(/\+/g,"%20"))}function y3(t){return`${bA(t.path)}${function Epe(t){return Object.keys(t).map(e=>`;${bA(e)}=${bA(t[e])}`).join("")}(t.parameters)}`}const wpe=/^[^\/()?;#]+/;function CA(t){const e=t.match(wpe);return e?e[0]:""}const Tpe=/^[^\/()?;=#]+/,Cpe=/^[^=?&#]+/,Dpe=/^[^&#]+/;class xpe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Ie]=new We(e,n)),r}parseSegment(){const e=CA(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new Mf(tv(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function bpe(t){const e=t.match(Tpe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=CA(this.remaining);i&&(r=i,this.capture(r))}e[tv(n)]=tv(r)}parseQueryParam(e){const n=function Ape(t){const e=t.match(Cpe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Spe(t){const e=t.match(Dpe);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=_3(n),s=_3(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=CA(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new C(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ie);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Ie]:new We([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}}function v3(t){return t.segments.length>0?new We([],{[Ie]:t}):t}function E3(t){const e={};for(const r of Object.keys(t.children)){const s=E3(t.children[r]);if(r===Ie&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Rpe(t){if(1===t.numberOfChildren&&t.children[Ie]){const e=t.children[Ie];return new We(t.segments.concat(e.segments),e.children)}return t}(new We(t.segments,e))}function uu(t){return t instanceof wl}function I3(t){let e;const i=v3(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new We(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function w3(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return AA(i,i,i,n,r);const s=function Mpe(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new b3(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new b3(n,e,r)}(e);if(s.toRoot())return AA(i,i,new We([],{}),n,r);const o=function Npe(t,e,n){if(t.isAbsolute)return new rv(e,!0,0);if(!n)return new rv(e,!1,NaN);if(null===n.parent)return new rv(n,!0,0);const r=nv(t.commands[0])?0:1;return function kpe(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new rv(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Ff(o.segmentGroup,o.index,s.commands):C3(o.segmentGroup,o.index,s.commands);return AA(i,o.segmentGroup,a,n,r)}function nv(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Of(t){return"object"==typeof t&&null!=t&&t.outlets}function AA(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:T3(t,e,n);const a=v3(E3(o));return new wl(a,s,i)}function T3(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:T3(s,e,n)}),new We(t.segments,r)}class b3{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&nv(r[0]))throw new C(4003,!1);const i=r.find(Of);if(i&&i!==l3(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rv{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function C3(t,e,n){if(t||(t=new We([],{})),0===t.segments.length&&t.hasChildren())return Ff(t,e,n);const r=function Fpe(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Of(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!D3(u,c,o))return s;r+=2}else{if(!D3(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new We(t.segments.slice(0,r.pathIndex),{});return s.children[Ie]=new We(t.segments.slice(r.pathIndex),t.children),Ff(s,0,i)}return r.match&&0===i.length?new We(t.segments,{}):r.match&&!t.hasChildren()?DA(t,e,n):r.match?Ff(t,0,i):DA(t,e,n)}function Ff(t,e,n){if(0===n.length)return new We(t.segments,{});{const r=function Ope(t){return Of(t[0])?t[0].outlets:{[Ie]:t}}(n),i={};if(Object.keys(r).some(s=>s!==Ie)&&t.children[Ie]&&1===t.numberOfChildren&&0===t.children[Ie].segments.length){const s=Ff(t.children[Ie],e,n);return new We(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=C3(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new We(t.segments,i)}}function DA(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Of(s)){const u=Vpe(s.outlets);return new We(r,u)}if(0===i&&nv(n[0])){r.push(new Mf(t.segments[e].path,A3(n[0]))),i++;continue}const o=Of(s)?s.outlets[Ie]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&nv(a)?(r.push(new Mf(o,A3(a))),i+=2):(r.push(new Mf(o,{})),i++)}return new We(r,{})}function Vpe(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=DA(new We([],{}),0,r))}),e}function A3(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function D3(t,e,n){return t==n.path&&as(e,n.parameters)}const Vf="imperative";class us{constructor(e,n){this.id=e,this.url=n}}class iv extends us{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zo extends us{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Lf extends us{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tl extends us{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class sv extends us{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class S3 extends us{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lpe extends us{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Upe extends us{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bpe extends us{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jpe extends us{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $pe{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gpe{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qpe{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zpe{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hpe{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wpe{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class x3{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class SA{}class xA{constructor(e){this.url=e}}class Kpe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Uf,this.attachRef=null}}let Uf=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Kpe,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class R3{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=RA(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=RA(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=PA(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return PA(e,this._root).map(n=>n.value)}}function RA(t,e){if(t===e.value)return e;for(const n of e.children){const r=RA(t,n);if(r)return r}return null}function PA(t,e){if(t===e.value)return[e];for(const n of e.children){const r=PA(t,n);if(r.length)return r.unshift(e),r}return[]}class Zs{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function bl(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class P3 extends R3{constructor(e,n){super(e),this.snapshot=n,MA(this,e)}toString(){return this.snapshot.toString()}}function M3(t,e){const n=function Qpe(t,e){const o=new ov([],{},{},"",{},Ie,e,null,{});return new k3("",new Zs(o,[]))}(0,e),r=new Kr([new Mf("",{})]),i=new Kr({}),s=new Kr({}),o=new Kr({}),a=new Kr(""),u=new Cl(r,i,o,a,s,Ie,e,n.root);return u.snapshot=n.root,new P3(new Zs(u,[]),n)}class Cl{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe($e(c=>c[Pf]))??de(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe($e(e=>Il(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe($e(e=>Il(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function N3(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Ype(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ov{get title(){return this.data?.[Pf]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Il(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Il(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class k3 extends R3{constructor(e,n){super(n),this.url=e,MA(this,n)}toString(){return O3(this._root)}}function MA(t,e){e.value._routerState=t,e.children.forEach(n=>MA(t,n))}function O3(t){const e=t.children.length>0?` { ${t.children.map(O3).join(", ")} } `:"";return`${t.value}${e}`}function NA(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,as(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),as(e.params,n.params)||t.paramsSubject.next(n.params),function hpe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!as(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),as(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function kA(t,e){const n=as(t.params,e.params)&&function mpe(t,e){return au(t,e)&&t.every((n,r)=>as(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||kA(t.parent,e.parent))}let OA=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ie,this.activateEvents=new xt,this.deactivateEvents=new xt,this.attachEvents=new xt,this.detachEvents=new xt,this.parentContexts=H(Uf),this.location=H(Vi),this.changeDetector=H(yy),this.environmentInjector=H(vi),this.inputBinder=H(av,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new Xpe(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=le({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_i]}),e})();class Xpe{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Cl?this.route:e===Uf?this.childContexts:this.parent.get(e,n)}}const av=new Y("");let F3=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,s=yA([i.queryParams,i.params,i.data]).pipe(xi(([o,a,u],c)=>(u={...o,...a,...u},0===c?de(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function Sce(t){const e=Pe(t);if(!e)return null;const n=new tf(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(a)for(const{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,s)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac}),e})();function Bf(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function Zpe(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Bf(t,r,i);return Bf(t,r)})}(t,e,n);return new Zs(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Bf(t,a)),o}}const r=function ege(t){return new Cl(new Kr(t.url),new Kr(t.params),new Kr(t.queryParams),new Kr(t.fragment),new Kr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Bf(t,s));return new Zs(r,i)}}const FA="ngNavigationCancelingError";function V3(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=uu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=L3(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function L3(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[FA]=!0,r.cancellationCode=e,n&&(r.url=n),r}function U3(t){return t&&t[FA]}let B3=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pi({type:t,selectors:[["ng-component"]],standalone:!0,features:[e$],decls:1,vars:0,template:function(r,i){1&r&&Nn(0,"router-outlet")},dependencies:[OA],encapsulation:2}),e})();function VA(t){const e=t.children&&t.children.map(VA),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ie&&(n.component=B3),n}function ji(t){return t.outlet||Ie}function jf(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class uge{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),NA(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=bl(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=bl(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=bl(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=bl(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Wpe(s.value.snapshot))}),e.children.length&&this.forwardEvent(new zpe(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(NA(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),NA(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=jf(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class j3{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class uv{constructor(e,n){this.component=e,this.route=n}}function cge(t,e,n){const r=t._root;return $f(r,e?e._root:null,n,[r.value])}function Al(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function GZ(t){return null!==Gm(t)}(t)?e.get(t):t:r}function $f(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=bl(e);return t.children.forEach(o=>{(function dge(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function hge(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!au(t.url,e.url);case"pathParamsOrQueryParamsChange":return!au(t.url,e.url)||!as(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kA(t,e)||!as(t.queryParams,e.queryParams);default:return!kA(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new j3(r)):(s.data=o.data,s._resolvedData=o._resolvedData),$f(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new uv(a.outlet.component,o))}else o&&Gf(e,a,i),i.canActivateChecks.push(new j3(r)),$f(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Gf(a,n.getContext(o),i)),i}function Gf(t,e,n){const r=bl(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Gf(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new uv(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function qf(t){return"function"==typeof t}function $3(t){return t instanceof Yy||"EmptyError"===t?.name}const cv=Symbol("INITIAL_VALUE");function Dl(){return xi(t=>yA(t.map(e=>e.pipe(El(1),function rpe(...t){const e=vh(t);return sn((n,r)=>{(e?vA(t,n,e):vA(t,n)).subscribe(r)})}(cv)))).pipe($e(e=>{for(const n of e)if(!0!==n){if(n===cv)return cv;if(!1===n||n instanceof wl)return n}return!0}),Go(e=>e!==cv),El(1)))}function G3(t){return function HJ(...t){return dV(t)}(On(e=>{if(uu(e))throw V3(0,e)}),$e(e=>!0===e))}class lv{constructor(e){this.segmentGroup=e||null}}class q3{constructor(e){this.urlTree=e}}function Sl(t){return xf(new lv(t))}function z3(t){return xf(new q3(t))}class Mge{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new C(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return de(r);if(i.numberOfChildren>1||!i.children[Ie])return xf(new C(4e3,!1));i=i.children[Ie]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new wl(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new We(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const LA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nge(t,e,n,r,i){const s=UA(t,e,n);return s.matched?(r=function nge(t,e){return t.providers&&!t._injector&&(t._injector=$b(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function xge(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?de(i.map(o=>{const a=Al(o,t);return qo(function yge(t){return t&&qf(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Dl(),G3()):de(!0)}(r,e,n).pipe($e(o=>!0===o?s:{...LA}))):de(s)}function UA(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...LA}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||dpe)(n,t,e);if(!i)return{...LA};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function H3(t,e,n,r){return n.length>0&&function Fge(t,e,n){return n.some(r=>dv(t,e,r)&&ji(r)!==Ie)}(t,n,r)?{segmentGroup:new We(e,Oge(r,new We(n,t.children))),slicedSegments:[]}:0===n.length&&function Vge(t,e,n){return n.some(r=>dv(t,e,r))}(t,n,r)?{segmentGroup:new We(t.segments,kge(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new We(t.segments,t.children),slicedSegments:n}}function kge(t,e,n,r,i){const s={};for(const o of r)if(dv(t,n,o)&&!i[ji(o)]){const a=new We([],{});s[ji(o)]=a}return{...i,...s}}function Oge(t,e){const n={};n[Ie]=e;for(const r of t)if(""===r.path&&ji(r)!==Ie){const i=new We([],{});n[ji(r)]=i}return n}function dv(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class jge{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Mge(this.urlSerializer,this.urlTree)}noMatchError(e){return new C(4002,!1)}recognize(){const e=H3(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ie).pipe(ou(n=>{if(n instanceof q3)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof lv?this.noMatchError(n):n}),$e(n=>{const r=new ov([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ie,this.rootComponentType,null,{}),i=new Zs(r,n),s=new k3("",i),o=function Ppe(t,e,n=null,r=null){return w3(I3(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Ie).pipe(ou(r=>{throw r instanceof lv?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=N3(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Dt(i).pipe(Rf(s=>{const o=r.children[s],a=function oge(t,e){const n=t.filter(r=>ji(r)===e);return n.push(...t.filter(r=>ji(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function ope(t,e){return sn(function spe(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(Jt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Xy(null),function ape(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Go((i,s)=>t(i,s,r)):Ao,IA(1),n?Xy(e):u3(()=>new Yy))}(),Dn(s=>{if(null===s)return Sl(r);const o=W3(s);return function $ge(t){t.sort((e,n)=>e.value.outlet===Ie?-1:n.value.outlet===Ie?1:e.value.outlet.localeCompare(n.value.outlet))}(o),de(o)}))}processSegment(e,n,r,i,s,o){return Dt(n).pipe(Rf(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(ou(u=>{if(u instanceof lv)return de(null);throw u}))),su(a=>!!a),ou(a=>{if($3(a))return function Uge(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?de([]):Sl(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function Lge(t,e,n,r){return!!(ji(t)===r||r!==Ie&&dv(e,n,t))&&("**"===t.path||UA(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Sl(i):Sl(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?z3(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Dn(o=>{const a=new We(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=UA(n,i,s);if(!a)return Sl(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?z3(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Dn(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?l3(i).parameters:{};a=de({snapshot:new ov(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,K3(r),ji(r),r.component??r._loadedComponent??null,r,Q3(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Nge(n,r,i,e).pipe($e(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new ov(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,K3(r),ji(r),r.component??r._loadedComponent??null,r,Q3(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(xi(u=>null===u?Sl(n):this.getChildConfig(e=r._injector??e,r,i).pipe(xi(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=H3(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe($e(v=>null===v?null:[new Zs(d,v)]));if(0===c.length&&0===g.length)return de([new Zs(d,[])]);const m=ji(r)===s;return this.processSegment(l,c,p,g,m?Ie:s,!0).pipe($e(v=>[new Zs(d,v)]))}))))}getChildConfig(e,n,r){return n.children?de({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?de({routes:n._loadedRoutes,injector:n._loadedInjector}):function Sge(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?de(!0):de(i.map(o=>{const a=Al(o,t);return qo(function pge(t){return t&&qf(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Dl(),G3())}(e,n,r).pipe(Dn(i=>i?this.configLoader.loadChildren(e,n).pipe(On(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Pge(t){return xf(L3(!1,3))}())):de({routes:[],injector:e})}}function Gge(t){const e=t.value.routeConfig;return e&&""===e.path}function W3(t){const e=[],n=new Set;for(const r of t){if(!Gge(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=W3(r.children);e.push(new Zs(r.value,i))}return e.filter(r=>!n.has(r))}function K3(t){return t.data||{}}function Q3(t){return t.resolve||{}}function Y3(t){return"string"==typeof t.title||null===t.title}function BA(t){return xi(e=>{const n=t(e);return n?Dt(n).pipe($e(()=>e)):de(e)})}const xl=new Y("ROUTES");let jA=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=H(Q$)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return de(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=qo(r.loadComponent()).pipe($e(X3),On(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),wA(()=>{this.componentLoaders.delete(r)})),s=new a3(i,()=>new Si).pipe(EA());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return de({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe($e(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let c,l;return Array.isArray(u)?l=u:(c=u.create(r).injector,l=c.get(xl,[],be.Self|be.Optional).flat()),{routes:l.map(VA),injector:c}}),wA(()=>{this.childrenLoaders.delete(i)})),a=new a3(o,()=>new Si).pipe(EA());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(r){return qo(r()).pipe($e(X3),Dn(i=>i instanceof Jj||Array.isArray(i)?de(i):Dt(this.compiler.compileModuleAsync(i))))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function X3(t){return function Yge(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let hv=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Si,this.transitionAbortSubject=new Si,this.configLoader=H(jA),this.environmentInjector=H(vi),this.urlSerializer=H(Nf),this.rootContexts=H(Uf),this.inputBindingEnabled=null!==H(av,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>de(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new Gpe(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new $pe(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new Kr({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vf,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Go(o=>0!==o.id),$e(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),xi(o=>{this.currentTransition=o;let a=!1,u=!1;return de(o).pipe(On(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),xi(c=>{const l=c.currentBrowserUrl.toString(),d=!r.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const f="";return this.events.next(new Tl(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),Ki}if(r.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return de(c).pipe(xi(f=>{const p=this.transitions?.getValue();return this.events.next(new iv(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?Ki:Promise.resolve(f)}),function qge(t,e,n,r,i,s){return Dn(o=>function Bge(t,e,n,r,i,s,o="emptyOnly"){return new jge(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe($e(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),On(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const p=new S3(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:f,extractedUrl:p,source:g,restoredState:m,extras:v}=c,y=new iv(f,this.urlSerializer.serialize(p),g,m);this.events.next(y);const E=M3(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:E,urlAfterRedirects:p,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},de(o)}{const f="";return this.events.next(new Tl(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),Ki}}),On(c=>{const l=new Lpe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),$e(c=>(this.currentTransition=o={...c,guards:cge(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function Ege(t,e){return Dn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?de({...n,guardsResult:!0}):function Ige(t,e,n,r){return Dt(t).pipe(Dn(i=>function Dge(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?de(s.map(a=>{const u=jf(e)??i,c=Al(a,u);return qo(function _ge(t){return t&&qf(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(su())})).pipe(Dl()):de(!0)}(i.component,i.route,n,e,r)),su(i=>!0!==i,!0))}(o,r,i,t).pipe(Dn(a=>a&&function fge(t){return"boolean"==typeof t}(a)?function wge(t,e,n,r){return Dt(e).pipe(Rf(i=>vA(function bge(t,e){return null!==t&&e&&e(new qpe(t)),de(!0)}(i.route.parent,r),function Tge(t,e){return null!==t&&e&&e(new Hpe(t)),de(!0)}(i.route,r),function Age(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function lge(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>o3(()=>de(o.guards.map(u=>{const c=jf(o.node)??n,l=Al(u,c);return qo(function mge(t){return t&&qf(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(su())})).pipe(Dl())));return de(s).pipe(Dl())}(t,i.path,n),function Cge(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return de(!0);const i=r.map(s=>o3(()=>{const o=jf(e)??n,a=Al(s,o);return qo(function gge(t){return t&&qf(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(su())}));return de(i).pipe(Dl())}(t,i.route,n))),su(i=>!0!==i,!0))}(r,s,t,e):de(a)),$e(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),On(c=>{if(o.guardsResult=c.guardsResult,uu(c.guardsResult))throw V3(0,c.guardsResult);const l=new Upe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Go(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),BA(c=>{if(c.guards.canActivateChecks.length)return de(c).pipe(On(l=>{const d=new Bpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),xi(l=>{let d=!1;return de(l).pipe(function zge(t,e){return Dn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return de(n);let s=0;return Dt(i).pipe(Rf(o=>function Hge(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!Y3(i)&&(s[Pf]=i.title),function Wge(t,e,n,r){const i=function Kge(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return de({});const s={};return Dt(i).pipe(Dn(o=>function Qge(t,e,n,r){const i=jf(e)??r,s=Al(t,i);return qo(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(su(),On(a=>{s[o]=a}))),IA(1),function upe(t){return $e(()=>t)}(s),ou(o=>$3(o)?Ki:xf(o)))}(s,t,e,r).pipe($e(o=>(t._resolvedData=o,t.data=N3(t,n).resolve,i&&Y3(i)&&(t.data[Pf]=i.title),null)))}(o.route,r,t,e)),On(()=>s++),IA(1),Dn(o=>s===i.length?de(n):Ki))})}(r.paramsInheritanceStrategy,this.environmentInjector),On({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),On(l=>{const d=new jpe(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),BA(c=>{const l=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(On(f=>{d.component=f}),$e(()=>{})));for(const f of d.children)h.push(...l(f));return h};return yA(l(c.targetSnapshot.root)).pipe(Xy(),El(1))}),BA(()=>this.afterPreactivation()),$e(c=>{const l=function Jpe(t,e,n){const r=Bf(t,e._root,n?n._root:void 0);return new P3(r,e)}(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),On(()=>{this.events.next(new SA)}),((t,e,n,r)=>$e(i=>(new uge(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),El(1),On({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),r.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),function cpe(t){return sn((e,n)=>{Wr(t).subscribe(Jt(n,()=>n.complete(),dT)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(On(c=>{throw c}))),wA(()=>{a||u||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ou(c=>{if(u=!0,U3(c))this.events.next(new Lf(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function tge(t){return U3(t)&&uu(t.url)}(c)?this.events.next(new xA(c.url)):o.resolve(!1);else{this.events.next(new sv(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(l){o.reject(l)}}return Ki}))}))}cancelNavigationTransition(r,i,s){const o=new Lf(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function J3(t){return t!==Vf}let Z3=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Ie);return i}getResolvedTitleForRoute(r){return r.data[Pf]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:function(){return H(Xge)},providedIn:"root"}),e})(),Xge=(()=>{var t;class e extends Z3{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(mG))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Jge=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:function(){return H(eme)},providedIn:"root"}),e})();class Zge{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let eme=(()=>{var t;class e extends Zge{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Mn(t)))(i||t)}}(),t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const fv=new Y("",{providedIn:"root",factory:()=>({})});let tme=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:function(){return H(nme)},providedIn:"root"}),e})(),nme=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var zf=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(zf||{});function eq(t,e){t.events.pipe(Go(n=>n instanceof zo||n instanceof Lf||n instanceof sv||n instanceof Tl),$e(n=>n instanceof zo||n instanceof Tl?zf.COMPLETE:n instanceof Lf&&(0===n.code||1===n.code)?zf.REDIRECTING:zf.FAILED),Go(n=>n!==zf.REDIRECTING),El(1)).subscribe(()=>{e()})}function rme(t){throw t}function ime(t,e,n){return e.parse("/")}const sme={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ome={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zn=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=H(W$),this.isNgZoneEnabled=!1,this._events=new Si,this.options=H(fv,{optional:!0})||{},this.pendingTasks=H(K$),this.errorHandler=this.options.errorHandler||rme,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ime,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=H(tme),this.routeReuseStrategy=H(Jge),this.titleStrategy=H(Z3),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=H(xl,{optional:!0})?.flat()??[],this.navigationTransitions=H(hv),this.urlSerializer=H(Nf),this.location=H(IC),this.componentInputBindingEnabled=!!H(av,{optional:!0}),this.eventsSubscription=new Mr,this.isNgZoneEnabled=H(Ue)instanceof Ue&&Ue.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new wl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=M3(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(tq(i)&&this._events.next(i));if(i instanceof iv)J3(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof Tl)this.rawUrlTree=s.rawUrl;else if(i instanceof S3){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof SA)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof Lf)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof xA){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||J3(s.source)};this.scheduleNavigation(o,Vf,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof sv&&this.restoreHistory(s,!0),i instanceof zo&&(this.navigated=!0),tq(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Vf,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(VA),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a;let h,d=null;switch(u){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=I3(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return w3(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=uu(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Vf,null,i)}navigate(r,i={skipLocationChange:!1}){return function ame(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new C(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...sme}:!1===i?{...ome}:i,uu(r))return h3(this.currentUrlTree,r,s);const o=this.parseUrl(r);return h3(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,c,l;a?(u=a.resolve,c=a.reject,l=a.promise):l=new Promise((h,f)=>{u=h,c=f});const d=this.pendingTasks.add();return eq(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function tq(t){return!(t instanceof SA||t instanceof xA)}let Rl=(()=>{var t;class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new Si,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof zo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||i||s||o||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:function XL(t,e,n){return function Hne(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?YL:QL}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){const s=this.renderer,o=this.el.nativeElement;null!==i?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Zn),S(Cl),function m_(t){return function hte(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(GV(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Pn(),t)}("tabindex"),S(Bs),S(Zr),S(tu))},t.\u0275dir=le({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&jt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&ki("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",gl],skipLocationChange:["skipLocationChange","skipLocationChange",gl],replaceUrl:["replaceUrl","replaceUrl",gl],routerLink:"routerLink"},standalone:!0,features:[hB,_i]}),e})(),nq=(()=>{var t;class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new xt,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof zo&&this.update()})}ngAfterContentInit(){de(this.links.changes,de(null)).pipe(Ec()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Dt(r).pipe(Ec()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){const i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){const i=function ume(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&r.isActive(s.urlTree,i)}hasActiveLinks(){const r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Zn),S(Zr),S(Bs),S(yy),S(Rl,8))},t.\u0275dir=le({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(1&r&&A$(s,Rl,5),2&r){let o;C$(o=function D$(){return function Zae(t,e){return t[Yi].queries[e].queryList}(D(),k2())}())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[_i]}),e})();class rq{}let cme=(()=>{var t;class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Go(r=>r instanceof zo),Rf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const s=[];for(const o of i){o.providers&&!o._injector&&(o._injector=$b(o.providers,r,`Route: ${o.path}`));const a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return Dt(s).pipe(Ec())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):de(null);const o=s.pipe(Dn(a=>null===a?de(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?Dt([o,this.loader.loadComponent(i)]).pipe(Ec()):o})}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(Zn),Q(Q$),Q(vi),Q(rq),Q(jA))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const $A=new Y("");let iq=(()=>{var t;class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof iv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof zo?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Tl&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof x3&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new x3(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){!function UU(){throw new Error("invalid")}()},t.\u0275prov=re({token:t,factory:t.\u0275fac}),e})();function eo(t,e){return{\u0275kind:t,\u0275providers:e}}function oq(){const t=H(Xn);return e=>{const n=t.get(Za);if(e!==n.components[0])return;const r=t.get(Zn),i=t.get(aq);1===t.get(GA)&&r.initialNavigation(),t.get(uq,null,be.Optional)?.setUpPreloading(),t.get($A,null,be.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const aq=new Y("",{factory:()=>new Si}),GA=new Y("",{providedIn:"root",factory:()=>1}),uq=new Y("");function fme(t){return eo(0,[{provide:uq,useExisting:cme},{provide:rq,useExisting:t}])}const cq=new Y("ROUTER_FORROOT_GUARD"),gme=[IC,{provide:Nf,useClass:TA},Zn,Uf,{provide:Cl,useFactory:function sq(t){return t.routerState.root},deps:[Zn]},jA,[]];function mme(){return new n4("Router",Zn)}let lq=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[gme,[],{provide:xl,multi:!0,useValue:r},{provide:cq,useFactory:Eme,deps:[[Zn,new wr,new v_]]},{provide:fv,useValue:i||{}},i?.useHash?{provide:tu,useClass:Nce}:{provide:tu,useClass:M4},{provide:$A,useFactory:()=>{const t=H(Xle),e=H(Ue),n=H(fv),r=H(hv),i=H(Nf);return n.scrollOffset&&t.setOffset(n.scrollOffset),new iq(i,r,t,e,n)}},i?.preloadingStrategy?fme(i.preloadingStrategy).\u0275providers:[],{provide:n4,multi:!0,useFactory:mme},i?.initialNavigation?Ime(i):[],i?.bindToComponentInputs?eo(8,[F3,{provide:av,useExisting:F3}]).\u0275providers:[],[{provide:dq,useFactory:oq},{provide:dC,multi:!0,useExisting:dq}]]}}static forChild(r){return{ngModule:e,providers:[{provide:xl,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(cq,8))},t.\u0275mod=mr({type:t}),t.\u0275inj=Kn({}),e})();function Eme(t){return"guarded"}function Ime(t){return["disabled"===t.initialNavigation?eo(3,[{provide:rC,multi:!0,useFactory:()=>{const e=H(Zn);return()=>{e.setUpLocationChangeListener()}}},{provide:GA,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?eo(2,[{provide:GA,useValue:0},{provide:rC,multi:!0,deps:[Xn],useFactory:e=>{const n=e.get(Pce,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Zn),s=e.get(aq);eq(i,()=>{r(!0)}),e.get(hv).afterPreactivation=()=>(r(!0),s.closed?de(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const dq=new Y("");function hq(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function _(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){hq(s,r,i,o,a,"next",u)}function a(u){hq(s,r,i,o,a,"throw",u)}o(void 0)})}}const fq=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},zA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fq(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new Ame;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ame extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pv=function(t){return function(t){const e=fq(t);return zA.encodeByteArray(e,!0)}(t).replace(/\./g,"")},gv=function(t){try{return zA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},mv=()=>{try{return function xme(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gv(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},gq=t=>{var e,n;return null===(n=null===(e=mv())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},mq=()=>{var t;return null===(t=mv())||void 0===t?void 0:t.config},_q=t=>{var e;return null===(e=mv())||void 0===e?void 0:e[`_${t}`]};class _v{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function fn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function HA(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function cu(){try{return"object"==typeof indexedDB}catch{return!1}}function Hf(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function WA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cs.prototype.create)}}class cs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Bme(t,e){return t.replace(jme,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new si(i,`${this.serviceName}: ${o} (${i}).`,r)}}const jme=/\{\$([^}]+)}/g;function vv(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(vq(s)&&vq(o)){if(!vv(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vq(t){return null!==t&&"object"==typeof t}function Ev(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Kf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class qme{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function zme(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=KA),void 0===i.error&&(i.error=KA),void 0===i.complete&&(i.complete=KA);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KA(){}const Hme=1e3,Wme=2,Kme=144e5,Qme=.5;function YA(t,e=Hme,n=Wme){const r=e*Math.pow(n,t),i=Math.round(Qme*r*(Math.random()-.5)*2);return Math.min(Kme,r+i)}function Gt(t){return t&&t._delegate?t._delegate:t}class Fn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const lu="[DEFAULT]";class Xme{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _v;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Zme(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:lu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=lu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=lu){return this.instances.has(e)}getOptions(e=lu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===lu?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=lu){return this.component?this.component.multipleInstances?e:lu:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class e_e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xme(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const XA=[];var Ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Ce||{});const Eq={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},t_e=Ce.INFO,n_e={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},r_e=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=n_e[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class du{constructor(e){this.name=e,this._logLevel=t_e,this._logHandler=r_e,this._userLogHandler=null,XA.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Eq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const i_e=(t,e)=>e.some(n=>t instanceof n);let Iq,wq;const Tq=new WeakMap,JA=new WeakMap,bq=new WeakMap,ZA=new WeakMap,eD=new WeakMap;let tD={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return JA.get(t);if("objectStoreNames"===e)return t.objectStoreNames||bq.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ho(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function d_e(t){return"function"==typeof t?function l_e(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function o_e(){return wq||(wq=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(nD(this),e),Ho(Tq.get(this))}:function(...e){return Ho(t.apply(nD(this),e))}:function(e,...n){const r=t.call(nD(this),e,...n);return bq.set(r,e.sort?e.sort():[e]),Ho(r)}}(t):(t instanceof IDBTransaction&&function u_e(t){if(JA.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});JA.set(t,e)}(t),i_e(t,function s_e(){return Iq||(Iq=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,tD):t)}function Ho(t){if(t instanceof IDBRequest)return function a_e(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ho(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Tq.set(n,t)}).catch(()=>{}),eD.set(e,t),e}(t);if(ZA.has(t))return ZA.get(t);const e=d_e(t);return e!==t&&(ZA.set(t,e),eD.set(e,t)),e}const nD=t=>eD.get(t),f_e=["get","getKey","getAll","getAllKeys","count"],p_e=["put","add","delete","clear"],rD=new Map;function Cq(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(rD.get(e))return rD.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=p_e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!f_e.includes(n))return;const s=function(){var o=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return rD.set(e,s),s}!function c_e(t){tD=t(tD)}(t=>({...t,get:(e,n,r)=>Cq(e,n)||t.get(e,n,r),has:(e,n)=>!!Cq(e,n)||t.has(e,n)}));class g_e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function m_e(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const iD="@firebase/app",hu=new du("@firebase/app"),Iv="[DEFAULT]",$_e={[iD]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},fu=new Map,wv=new Map;function G_e(t,e){try{t.container.addComponent(e)}catch(n){hu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function er(t){const e=t.name;if(wv.has(e))return hu.debug(`There were multiple attempts to register component ${e}.`),!1;wv.set(e,t);for(const n of fu.values())G_e(n,t);return!0}function Pl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const to=new cs("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class z_e{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}const Wo="9.23.0";function Dq(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Iv,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw to.create("bad-app-name",{appName:String(i)});if(n||(n=mq()),!n)throw to.create("no-options");const s=fu.get(i);if(s){if(vv(n,s.options)&&vv(r,s.config))return s;throw to.create("duplicate-app",{appName:i})}const o=new e_e(i);for(const u of wv.values())o.addComponent(u);const a=new z_e(n,r,o);return fu.set(i,a),a}function sD(t=Iv){const e=fu.get(t);if(!e&&t===Iv&&mq())return Dq();if(!e)throw to.create("no-app",{appName:t});return e}function Sq(){return Array.from(fu.values())}function yt(t,e,n){var r;let i=null!==(r=$_e[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void hu.warn(a.join(" "))}er(new Fn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const H_e="firebase-heartbeat-database",W_e=1,Qf="firebase-heartbeat-store";let aD=null;function xq(){return aD||(aD=function h_e(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ho(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ho(o.result),u.oldVersion,u.newVersion,Ho(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(H_e,W_e,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Qf)}}).catch(t=>{throw to.create("idb-open",{originalErrorMessage:t.message})})),aD}function uD(){return(uD=_(function*(t){try{return yield(yield xq()).transaction(Qf).objectStore(Qf).get(Pq(t))}catch(e){if(e instanceof si)hu.warn(e.message);else{const n=to.create("idb-get",{originalErrorMessage:e?.message});hu.warn(n.message)}}})).apply(this,arguments)}function Rq(t,e){return cD.apply(this,arguments)}function cD(){return(cD=_(function*(t,e){try{const r=(yield xq()).transaction(Qf,"readwrite");yield r.objectStore(Qf).put(e,Pq(t)),yield r.done}catch(n){if(n instanceof si)hu.warn(n.message);else{const r=to.create("idb-set",{originalErrorMessage:n?.message});hu.warn(r.message)}}})).apply(this,arguments)}function Pq(t){return`${t.name}!${t.options.appId}`}class X_e{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Z_e(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Mq();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=Mq(),{heartbeatsToSend:r,unsentEntries:i}=function J_e(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Nq(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Nq(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=pv(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function Mq(){return(new Date).toISOString().substring(0,10)}class Z_e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!cu()&&Hf().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function K_e(t){return uD.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Rq(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Rq(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function Nq(t){return pv(JSON.stringify({version:2,heartbeats:t})).length}!function eye(t){er(new Fn("platform-logger",e=>new g_e(e),"PRIVATE")),er(new Fn("heartbeat",e=>new X_e(e),"PRIVATE")),yt(iD,"0.9.13",t),yt(iD,"0.9.13","esm2017"),yt("fire-js","")}(""),yt("firebase","9.23.0","app");const rye=(t,e)=>e.some(n=>t instanceof n);let kq,Oq;const Fq=new WeakMap,lD=new WeakMap,Vq=new WeakMap,dD=new WeakMap,hD=new WeakMap;let fD={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return lD.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Vq.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ko(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function lye(t){return"function"==typeof t?function cye(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function sye(){return Oq||(Oq=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(pD(this),e),Ko(Fq.get(this))}:function(...e){return Ko(t.apply(pD(this),e))}:function(e,...n){const r=t.call(pD(this),e,...n);return Vq.set(r,e.sort?e.sort():[e]),Ko(r)}}(t):(t instanceof IDBTransaction&&function aye(t){if(lD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});lD.set(t,e)}(t),rye(t,function iye(){return kq||(kq=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,fD):t)}function Ko(t){if(t instanceof IDBRequest)return function oye(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ko(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Fq.set(n,t)}).catch(()=>{}),hD.set(e,t),e}(t);if(dD.has(t))return dD.get(t);const e=lye(t);return e!==t&&(dD.set(t,e),hD.set(e,t)),e}const pD=t=>hD.get(t),hye=["get","getKey","getAll","getAllKeys","count"],fye=["put","add","delete","clear"],gD=new Map;function Lq(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(gD.get(e))return gD.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=fye.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!hye.includes(n))return;const s=function(){var o=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return gD.set(e,s),s}!function uye(t){fD=t(fD)}(t=>({...t,get:(e,n,r)=>Lq(e,n)||t.get(e,n,r),has:(e,n)=>!!Lq(e,n)||t.has(e,n)}));const Uq="@firebase/installations",mD="0.6.4",Bq=1e4,jq=`w:${mD}`,$q="FIS_v2",pye="https://firebaseinstallations.googleapis.com/v1",gye=36e5,no=new cs("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Gq(t){return t instanceof si&&t.code.includes("request-failed")}function _D({projectId:t}){return`${pye}/projects/${t}/installations`}function qq(t){return{token:t.token,requestStatus:2,expiresIn:vye(t.expiresIn),creationTime:Date.now()}}function yD(t,e){return vD.apply(this,arguments)}function vD(){return(vD=_(function*(t,e){const r=(yield e.json()).error;return no.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function zq({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ED(t){return ID.apply(this,arguments)}function ID(){return(ID=_(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function vye(t){return Number(t.replace("s","000"))}function wD(){return(wD=_(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=_D(t),i=zq(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:$q,appId:t.appId,sdkVersion:jq})},u=yield ED(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:qq(c.authToken)}}throw yield yD("Create Installation",u)})).apply(this,arguments)}function Wq(t){return new Promise(e=>{setTimeout(e,t)})}const Tye=/^[cdef][\w-]{21}$/,TD="";function bye(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Cye(t){return function wye(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Tye.test(n)?n:TD}catch{return TD}}function Ml(t){return`${t.appName}!${t.appId}`}const Nl=new Map;function Kq(t,e){const n=Ml(t);Qq(n,e),function Sye(t,e){const n=function Yq(){return!pu&&"BroadcastChannel"in self&&(pu=new BroadcastChannel("[Firebase] FID Change"),pu.onmessage=t=>{Qq(t.data.key,t.data.fid)}),pu}();n&&n.postMessage({key:t,fid:e}),function Xq(){0===Nl.size&&pu&&(pu.close(),pu=null)}()}(n,e)}function Qq(t,e){const n=Nl.get(t);if(n)for(const r of n)r(e)}let pu=null;const xye="firebase-installations-database",Rye=1,gu="firebase-installations-store";let bD=null;function CD(){return bD||(bD=function dye(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ko(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ko(o.result),u.oldVersion,u.newVersion,Ko(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(xye,Rye,{upgrade:(t,e)=>{0===e&&t.createObjectStore(gu)}})),bD}function Tv(t,e){return AD.apply(this,arguments)}function AD(){return(AD=_(function*(t,e){const n=Ml(t),i=(yield CD()).transaction(gu,"readwrite"),s=i.objectStore(gu),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&Kq(t,e.fid),e})).apply(this,arguments)}function DD(t){return SD.apply(this,arguments)}function SD(){return(SD=_(function*(t){const e=Ml(t),r=(yield CD()).transaction(gu,"readwrite");yield r.objectStore(gu).delete(e),yield r.done})).apply(this,arguments)}function Yf(t,e){return xD.apply(this,arguments)}function xD(){return(xD=_(function*(t,e){const n=Ml(t),i=(yield CD()).transaction(gu,"readwrite"),s=i.objectStore(gu),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&Kq(t,a.fid),a})).apply(this,arguments)}function RD(t){return PD.apply(this,arguments)}function PD(){return PD=_(function*(t){let e;const n=yield Yf(t.appConfig,r=>{const i=function Pye(t){return Zq(t||{fid:bye(),registrationStatus:0})}(r),s=function Mye(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(no.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Nye(t,e){return MD.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:kye(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===TD?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),PD.apply(this,arguments)}function MD(){return MD=_(function*(t,e){try{const n=yield function Iye(t,e){return wD.apply(this,arguments)}(t,e);return Tv(t.appConfig,n)}catch(n){throw Gq(n)&&409===n.customData.serverCode?yield DD(t.appConfig):yield Tv(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),MD.apply(this,arguments)}function kye(t){return ND.apply(this,arguments)}function ND(){return(ND=_(function*(t){let e=yield Jq(t.appConfig);for(;1===e.registrationStatus;)yield Wq(100),e=yield Jq(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield RD(t);return r||n}return e})).apply(this,arguments)}function Jq(t){return Yf(t,e=>{if(!e)throw no.create("installation-not-found");return Zq(e)})}function Zq(t){return function Oye(t){return 1===t.registrationStatus&&t.registrationTime+Bq<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function kD(){return(kD=_(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Vye(t,{fid:e}){return`${_D(t)}/${e}/authTokens:generate`}(t,n),i=function Hq(t,{refreshToken:e}){const n=zq(t);return n.append("Authorization",function Eye(t){return`${$q} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:jq,appId:t.appId}})},u=yield ED(()=>fetch(r,a));if(u.ok)return qq(yield u.json());throw yield yD("Generate Auth Token",u)})).apply(this,arguments)}function OD(t){return FD.apply(this,arguments)}function FD(){return FD=_(function*(t,e=!1){let n;const r=yield Yf(t.appConfig,s=>{if(!t9(s))throw no.create("not-registered");const o=s.authToken;if(!e&&function Bye(t){return 2===t.requestStatus&&!function jye(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+gye}(t)}(o))return s;if(1===o.requestStatus)return n=function Lye(t,e){return VD.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw no.create("app-offline");const a=function $ye(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Uye(t,e){return LD.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),FD.apply(this,arguments)}function VD(){return(VD=_(function*(t,e){let n=yield e9(t.appConfig);for(;1===n.authToken.requestStatus;)yield Wq(100),n=yield e9(t.appConfig);const r=n.authToken;return 0===r.requestStatus?OD(t,e):r})).apply(this,arguments)}function e9(t){return Yf(t,e=>{if(!t9(e))throw no.create("not-registered");return function Gye(t){return 1===t.requestStatus&&t.requestTime+Bq<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function LD(){return LD=_(function*(t,e){try{const n=yield function Fye(t,e){return kD.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Tv(t.appConfig,r),n}catch(n){if(!Gq(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Tv(t.appConfig,r)}else yield DD(t.appConfig);throw n}}),LD.apply(this,arguments)}function t9(t){return void 0!==t&&2===t.registrationStatus}function UD(){return(UD=_(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield RD(e);return r?r.catch(console.error):OD(e).catch(console.error),n.fid})).apply(this,arguments)}function BD(){return BD=_(function*(t,e=!1){const n=t;return yield function Hye(t){return jD.apply(this,arguments)}(n),(yield OD(n,e)).token}),BD.apply(this,arguments)}function jD(){return(jD=_(function*(t){const{registrationPromise:e}=yield RD(t);e&&(yield e)})).apply(this,arguments)}function qD(t){return no.create("missing-app-config-values",{valueName:t})}const n9="installations",Xye=t=>{const e=t.getProvider("app").getImmediate(),n=function Qye(t){if(!t||!t.options)throw qD("App Configuration");if(!t.name)throw qD("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw qD(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Pl(e,"heartbeat"),_delete:()=>Promise.resolve()}},Jye=t=>{const n=Pl(t.getProvider("app").getImmediate(),n9).getImmediate();return{getId:()=>function qye(t){return UD.apply(this,arguments)}(n),getToken:i=>function zye(t){return BD.apply(this,arguments)}(n,i)}};(function Zye(){er(new Fn(n9,Xye,"PUBLIC")),er(new Fn("installations-internal",Jye,"PRIVATE"))})(),yt(Uq,mD),yt(Uq,mD,"esm2017");const zD="@firebase/remote-config",jr=new cs("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class lve{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function dve(t=navigator){return t.languages&&t.languages[0]||t.language}class hve{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:dve()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((v,y)=>{e.signal.addEventListener(()=>{const E=new Error("The operation was aborted.");E.name="AbortError",y(E)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let y="fetch-client-network";throw"AbortError"===v?.name&&(y="fetch-timeout"),jr.create(y,{originalErrorMessage:v?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let v;try{v=yield h.json()}catch(y){throw jr.create("fetch-client-parse",{originalErrorMessage:y?.message})}g=v.entries,m=v.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw jr.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class gve{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return _(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return _(function*(){yield function fve(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(jr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function pve(t){if(!(t instanceof si&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+YA(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class yve{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Cv(t,e){const n=t.target.error||void 0;return jr.create(e,{originalErrorMessage:n&&n?.message})}const mu="app_namespace_store";class wve{constructor(e,n,r,i=function Ive(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Cv(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(mu,{keyPath:"compositeKey"})}}catch(n){e(jr.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([mu],"readonly").objectStore(mu),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Cv(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(jr.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([mu],"readwrite").objectStore(mu),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Cv(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(jr.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([mu],"readwrite").objectStore(mu),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Cv(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(jr.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Tve{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return _(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Cve(){return YD.apply(this,arguments)}function YD(){return(YD=_(function*(){if(!cu())return!1;try{return yield Hf()}catch{return!1}})).apply(this,arguments)}!function bve(){er(new Fn("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw jr.create("registration-window");if(!cu())throw jr.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw jr.create("registration-project-id");if(!o)throw jr.create("registration-api-key");if(!a)throw jr.create("registration-app-id");const u=new wve(a,r.name,n=n||"firebase"),c=new Tve(u),l=new du(zD);l.logLevel=Ce.ERROR;const d=new hve(i,Wo,n,s,o,a),h=new gve(d,u),f=new lve(h,u,c,l),p=new yve(r,f,c,u,l);return function ave(t){const e=Gt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),yt(zD,"0.4.4"),yt(zD,"0.4.4","esm2017")}();const Ave=(t,e)=>e.some(n=>t instanceof n);let o9,a9;const u9=new WeakMap,XD=new WeakMap,c9=new WeakMap,JD=new WeakMap,ZD=new WeakMap;let eS={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return XD.get(t);if("objectStoreNames"===e)return t.objectStoreNames||c9.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ro(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Nve(t){return"function"==typeof t?function Mve(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Sve(){return a9||(a9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(tS(this),e),ro(u9.get(this))}:function(...e){return ro(t.apply(tS(this),e))}:function(e,...n){const r=t.call(tS(this),e,...n);return c9.set(r,e.sort?e.sort():[e]),ro(r)}}(t):(t instanceof IDBTransaction&&function Rve(t){if(XD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});XD.set(t,e)}(t),Ave(t,function Dve(){return o9||(o9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,eS):t)}function ro(t){if(t instanceof IDBRequest)return function xve(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ro(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&u9.set(n,t)}).catch(()=>{}),ZD.set(e,t),e}(t);if(JD.has(t))return JD.get(t);const e=Nve(t);return e!==t&&(JD.set(t,e),ZD.set(e,t)),e}const tS=t=>ZD.get(t);function l9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ro(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ro(o.result),u.oldVersion,u.newVersion,ro(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function nS(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),ro(n).then(()=>{})}const kve=["get","getKey","getAll","getAllKeys","count"],Ove=["put","add","delete","clear"],rS=new Map;function d9(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(rS.get(e))return rS.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ove.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!kve.includes(n))return;const s=function(){var o=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return rS.set(e,s),s}!function Pve(t){eS=t(eS)}(t=>({...t,get:(e,n,r)=>d9(e,n)||t.get(e,n,r),has:(e,n)=>!!d9(e,n)||t.has(e,n)}));const Fve="/firebase-messaging-sw.js",Vve="/firebase-cloud-messaging-push-scope",h9="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Lve="https://fcmregistrations.googleapis.com/v1",f9="google.c.a.c_id",Uve="google.c.a.c_l",Bve="google.c.a.ts";var Av=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Av||{});function io(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gve(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const iS="fcm_token_details_db",qve=5,p9="fcm_token_object_Store";function sS(){return sS=_(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(iS))return null;let e=null;return(yield l9(iS,qve,{upgrade:(r=_(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(p9))return;const c=a.objectStore(p9),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:io(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:io(d.auth),p256dh:io(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:io(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:io(d.auth),p256dh:io(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:io(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield nS(iS),yield nS("fcm_vapid_details_db"),yield nS("undefined"),function Hve(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),sS.apply(this,arguments)}const Wve="firebase-messaging-database",Kve=1,_u="firebase-messaging-store";let oS=null;function aS(){return oS||(oS=l9(Wve,Kve,{upgrade:(t,e)=>{0===e&&t.createObjectStore(_u)}})),oS}function g9(t){return uS.apply(this,arguments)}function uS(){return uS=_(function*(t){const e=hS(t),r=yield(yield aS()).transaction(_u).objectStore(_u).get(e);if(r)return r;{const i=yield function zve(t){return sS.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield cS(t,i),i}}),uS.apply(this,arguments)}function cS(t,e){return lS.apply(this,arguments)}function lS(){return(lS=_(function*(t,e){const n=hS(t),i=(yield aS()).transaction(_u,"readwrite");return yield i.objectStore(_u).put(e,n),yield i.done,e})).apply(this,arguments)}function dS(){return(dS=_(function*(t){const e=hS(t),r=(yield aS()).transaction(_u,"readwrite");yield r.objectStore(_u).delete(e),yield r.done})).apply(this,arguments)}function hS({appConfig:t}){return t.appId}const Vn=new cs("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xve(t,e){return fS.apply(this,arguments)}function fS(){return(fS=_(function*(t,e){const n=yield _S(t),r=_9(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(mS(t.appConfig),i)).json()}catch(o){throw Vn.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Vn.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Vn.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function pS(){return(pS=_(function*(t,e){const n=yield _S(t),r=_9(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${mS(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Vn.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Vn.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Vn.create("token-update-no-token");return s.token})).apply(this,arguments)}function m9(t,e){return gS.apply(this,arguments)}function gS(){return(gS=_(function*(t,e){const r={method:"DELETE",headers:yield _S(t)};try{const s=yield(yield fetch(`${mS(t.appConfig)}/${e}`,r)).json();if(s.error)throw Vn.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Vn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function mS({projectId:t}){return`${Lve}/projects/${t}/registrations`}function _S(t){return yS.apply(this,arguments)}function yS(){return(yS=_(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function _9({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==h9&&(i.web.applicationPubKey=r),i}const Zve=6048e5;function vS(){return vS=_(function*(t){const e=yield function nEe(t,e){return TS.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:io(e.getKey("auth")),p256dh:io(e.getKey("p256dh"))},r=yield g9(t.firebaseDependencies);if(r){if(function rEe(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Zve?function tEe(t,e){return IS.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield m9(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return v9(t.firebaseDependencies,n)}return v9(t.firebaseDependencies,n)}),vS.apply(this,arguments)}function ES(){return ES=_(function*(t){const e=yield g9(t.firebaseDependencies);e&&(yield m9(t.firebaseDependencies,e.token),yield function Qve(t){return dS.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),ES.apply(this,arguments)}function IS(){return IS=_(function*(t,e){try{const n=yield function Jve(t,e){return pS.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield cS(t.firebaseDependencies,r),n}catch(n){throw yield function y9(t){return ES.apply(this,arguments)}(t),n}}),IS.apply(this,arguments)}function v9(t,e){return wS.apply(this,arguments)}function wS(){return(wS=_(function*(t,e){const r={token:yield Xve(t,e),createTime:Date.now(),subscriptionOptions:e};return yield cS(t,r),r.token})).apply(this,arguments)}function TS(){return(TS=_(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gve(e)})})).apply(this,arguments)}function E9(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function iEe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function sEe(t,e){e.data&&(t.data=e.data)}(e,t),function oEe(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function I9(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function bS(t){return Vn.create("missing-app-config-values",{valueName:t})}I9("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),I9("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cEe{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function uEe(t){if(!t||!t.options)throw bS("App Configuration Object");if(!t.name)throw bS("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw bS(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function CS(){return(CS=_(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Fve,{scope:Vve}),t.swRegistration.update().catch(()=>{})}catch(e){throw Vn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function AS(){return(AS=_(function*(t,e){if(!e&&!t.swRegistration&&(yield function w9(t){return CS.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Vn.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function DS(){return(DS=_(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=h9)})).apply(this,arguments)}function SS(){return SS=_(function*(t,e){if(!navigator)throw Vn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Vn.create("permission-blocked");return yield function dEe(t,e){return DS.apply(this,arguments)}(t,e?.vapidKey),yield function lEe(t,e){return AS.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function eEe(t){return vS.apply(this,arguments)}(t)}),SS.apply(this,arguments)}function xS(){return(xS=_(function*(t,e,n){const r=function fEe(t){switch(t){case Av.NOTIFICATION_CLICKED:return"notification_open";case Av.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[f9],message_name:n[Uve],message_time:n[Bve],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function RS(){return RS=_(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Av.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(E9(n)):t.onMessageHandler.next(E9(n)));const r=n.data;(function aEe(t){return"object"==typeof t&&!!t&&f9 in t})(r)&&"1"===r["google.c.a.e"]&&(yield function hEe(t,e,n){return xS.apply(this,arguments)}(t,n.messageType,r))}),RS.apply(this,arguments)}const b9="@firebase/messaging",gEe=t=>{const e=new cEe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function pEe(t,e){return RS.apply(this,arguments)}(e,n)),e},mEe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function T9(t,e){return SS.apply(this,arguments)}(e,r)}};function A9(){return PS.apply(this,arguments)}function PS(){return(PS=_(function*(){try{yield Hf()}catch{return!1}return typeof window<"u"&&cu()&&WA()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _Ee(){er(new Fn("messaging",gEe,"PUBLIC")),er(new Fn("messaging-internal",mEe,"PRIVATE")),yt(b9,"0.12.4"),yt(b9,"0.12.4","esm2017")}();const Dv="analytics",EEe="firebase_id",IEe="origin",wEe=6e4,TEe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kS="https://www.googletagmanager.com/gtag/js",pn=new du("@firebase/analytics"),Ar=new cs("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function CEe(t){if(!t.startsWith(kS)){const e=Ar.create("invalid-gtag-resource",{gtagURL:t});return pn.warn(e.message),""}return t}function D9(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function OS(){return(OS=_(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield D9(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){pn.error(a)}t("config",i,s)})).apply(this,arguments)}function FS(){return(FS=_(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield D9(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){pn.error(s)}})).apply(this,arguments)}const kEe=30,S9=new class FEe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function VEe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function VS(){return(VS=_(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:VEe(r)},s=TEe.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Ar.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function LS(){return(LS=_(function*(t,e=S9,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Ar.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ar.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new $Ee;return setTimeout(_(function*(){a.abort()}),void 0!==n?n:wEe),x9({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function x9(t,e,n){return US.apply(this,arguments)}function US(){return US=_(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=S9){var s;const{appId:o,measurementId:a}=t;try{yield function BEe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ar.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function LEe(t){return VS.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function jEe(t){if(!(t instanceof si&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?YA(n,i.intervalMillis,kEe):YA(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),pn.debug(`Calling attemptFetch again in ${l} millis`),x9(t,d,r,i)}}),US.apply(this,arguments)}class $Ee{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let BS,WS;function jS(){return(jS=_(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function KS(){return(KS=_(function*(){if(!cu())return pn.warn(Ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Hf()}catch(t){return pn.warn(Ar.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function QS(){return QS=_(function*(t,e,n,r,i,s,o){var a;const u=function UEe(t){return LS.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&pn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>pn.error(f)),e.push(u);const c=function QEe(){return KS.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function NEe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(kS)&&n.src.includes(t))return n;return null})(s)||function DEe(t,e){const n=function AEe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:CEe}),r=document.createElement("script"),i=`${kS}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),WS&&(i("consent","default",WS),function R9(t){WS=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[IEe]="firebase",h.update=!0,null!=d&&(h[EEe]=d),i("config",l.measurementId,h),BS&&(i("set",BS),function P9(t){BS=t}(void 0)),l.measurementId}),QS.apply(this,arguments)}class XEe{constructor(e){this.app=e}_delete(){return delete ls[this.app.options.appId],Promise.resolve()}}let ls={},M9=[];const N9={};let O9,ds,Sv="dataLayer",YS=!1;function ZEe(t,e,n){!function JEe(){const t=[];if(HA()&&t.push("This is a browser extension environment."),WA()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ar.create("invalid-analytics-context",{errorInfo:e});pn.warn(n.message)}}();const r=t.options.appId;if(!r)throw Ar.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Ar.create("no-api-key");pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ls[r])throw Ar.create("already-exists",{id:r});if(!YS){!function SEe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Sv);const{wrappedGtag:s,gtagCore:o}=function MEe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function PEe(t,e,n,r){function s(){return s=_(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function REe(t,e,n,r,i){return FS.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function xEe(t,e,n,r,i,s){return OS.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){pn.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ls,M9,N9,Sv,"gtag");ds=s,O9=o,YS=!0}return ls[r]=function YEe(t,e,n,r,i,s,o){return QS.apply(this,arguments)}(t,M9,N9,e,O9,Sv,n),new XEe(t)}function tIe(){return XS.apply(this,arguments)}function XS(){return(XS=_(function*(){if(HA()||!WA()||!cu())return!1;try{return yield Hf()}catch{return!1}})).apply(this,arguments)}const F9="@firebase/analytics";!function rIe(){er(new Fn(Dv,(e,{options:n})=>ZEe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),er(new Fn("analytics-internal",function t(e){try{const n=e.getProvider(Dv).getImmediate();return{logEvent:(r,i,s)=>function nIe(t,e,n,r){t=Gt(t),function GEe(t,e,n,r,i){return jS.apply(this,arguments)}(ds,ls[t.app.options.appId],e,n,r).catch(i=>pn.error(i))}(n,r,i,s)}}catch(n){throw Ar.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),yt(F9,"0.10.0"),yt(F9,"0.10.0","esm2017")}();class iIe extends Mr{constructor(e,n){super()}schedule(e,n=0){return this}}const xv={setInterval(t,e,...n){const{delegate:r}=xv;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=xv;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class L9 extends iIe{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return xv.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&xv.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,vc(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const U9={now:()=>(U9.delegate||Date).now(),delegate:void 0};class Xf{constructor(e,n=Xf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Xf.now=U9.now;class B9 extends Xf{constructor(e,n=Xf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const aIe=new class oIe extends B9{}(class sIe extends L9{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),uIe=new B9(L9),Rv=new Yc("7.6.1"),ZS="__angularfire_symbol__analyticsIsSupportedValue",e1="__angularfire_symbol__analyticsIsSupported",t1="__angularfire_symbol__remoteConfigIsSupportedValue",n1="__angularfire_symbol__remoteConfigIsSupported",r1="__angularfire_symbol__messagingIsSupportedValue",i1="__angularfire_symbol__messagingIsSupported";function o1(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[e1]||(globalThis[e1]=tIe().then(t=>globalThis[ZS]=t).catch(()=>globalThis[ZS]=!1)),globalThis[i1]||(globalThis[i1]=A9().then(t=>globalThis[r1]=t).catch(()=>globalThis[r1]=!1)),globalThis[n1]||(globalThis[n1]=Cve().then(t=>globalThis[t1]=t).catch(()=>globalThis[t1]=!1));const a1=(t,e)=>{const n=e?[e]:Sq(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function kl(){}class j9{constructor(e,n=aIe){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class cIe{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",kl,{},kl,kl)),n.pipe(On({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let u1=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new j9(Zone.current)),this.insideAngular=n.run(()=>new j9(Zone.current,uIe)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(Q(Ue))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yu(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function vu(t){return yu().ngZone.run(()=>t())}function dIe(t){return yu(),function hIe(t){return function(n){return(n=n.lift(new cIe(t.ngZone))).pipe(Bm(t.outsideAngular),Um(t.insideAngular))}}(yu())(t)}const fIe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),vu(()=>t.apply(void 0,r))},Qo=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=vu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",kl,{},kl,kl)))),r[s]=fIe(r[s],n));const i=function lIe(t){return yu().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof wt){const s=yu();return i.pipe(Bm(s.outsideAngular),Um(s.insideAngular))}return vu(()=>i)}return i instanceof wt?i.pipe(dIe):i instanceof Promise?vu(()=>new Promise((s,o)=>i.then(a=>vu(()=>s(a)),a=>vu(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:vu(()=>i)};class Ol{constructor(e){return e}}class c1{constructor(){return Sq()}}const l1=new Y("angularfire2._apps"),gIe={provide:Ol,useFactory:function pIe(t){return t&&1===t.length?t[0]:new Ol(sD())},deps:[[new wr,l1]]},mIe={provide:c1,deps:[[new wr,l1]]};function _Ie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ol(r)}}let yIe=(()=>{class t{constructor(n){yt("angularfire",Rv.full,"core"),yt("angularfire",Rv.full,"app"),yt("angular",pU.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(Q(Fo))},t.\u0275mod=mr({type:t}),t.\u0275inj=Kn({providers:[gIe,mIe]}),t})();function vIe(t,...e){return{ngModule:yIe,providers:[{provide:l1,useFactory:_Ie(t),multi:!0,deps:[Ue,Xn,u1,...e]}]}}const EIe=Qo(Dq,!0),d1=new Map,$9={activated:!1,tokenObservers:[]},IIe={initialized:!1,enabled:!1};function Pt(t){return d1.get(t)||Object.assign({},$9)}function Pv(){return IIe}const h1="https://content-firebaseappcheck.googleapis.com/v1",CIe="exchangeDebugToken",G9={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class DIe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return _(function*(){n.stop();try{n.pending=new _v,yield function SIe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new _v,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Ln=new cs("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function f1(t){if(!Pt(t).activated)throw Ln.create("use-before-activation",{appName:t.name})}function kv(t,e){return g1.apply(this,arguments)}function g1(){return(g1=_(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Ln.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Ln.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Ln.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Ln.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function q9(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${h1}/projects/${n}/apps/${r}:${CIe}?key=${i}`,body:{debug_token:e}}}const MIe="firebase-app-check-database",NIe=1,Jf="firebase-app-check-store";let Ov=null;function m1(){return(m1=_(function*(t,e){const r=(yield function H9(){return Ov||(Ov=new Promise((t,e)=>{try{const n=indexedDB.open(MIe,NIe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ln.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Jf,{keyPath:"compositeKey"})}}catch(n){e(Ln.create("storage-open",{originalErrorMessage:n?.message}))}}),Ov)}()).transaction(Jf,"readwrite"),s=r.objectStore(Jf).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Ln.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Zf=new du("@firebase/app-check");function v1(t,e){return cu()?function OIe(t,e){return function W9(t,e){return m1.apply(this,arguments)}(function Q9(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Zf.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function I1(){return Pv().enabled}function w1(){return T1.apply(this,arguments)}function T1(){return(T1=_(function*(){const t=Pv();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const jIe={error:"UNKNOWN_ERROR"};function $Ie(t){return zA.encodeString(JSON.stringify(t),!1)}function Fv(t){return b1.apply(this,arguments)}function b1(){return(b1=_(function*(t,e=!1){const n=t.app;f1(n);const r=Pt(n);let s,i=r.token;if(i&&!Fl(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Fl(u)?i=u:yield v1(n,void 0))}if(!e&&i&&Fl(i))return{token:i.token};let a,o=!1;if(I1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=kv(q9(n,yield w1()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield v1(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Pt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Zf.warn(u.message):Zf.error(u),s=u}return i?s?a=Fl(i)?{token:i.token,internalError:s}:Z9(s):(a={token:i.token},r.token=i,yield v1(n,i)):a=Z9(s),o&&function J9(t,e){const n=Pt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function Y9(t){return C1.apply(this,arguments)}function C1(){return(C1=_(function*(t){const e=t.app;f1(e);const{provider:n}=Pt(e);if(I1()){const r=yield w1(),{token:i}=yield kv(q9(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function D1(t,e){const n=Pt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function X9(t){const{app:e}=t,n=Pt(e);let r=n.tokenRefresher;r||(r=function GIe(t){const{app:e}=t;return new DIe(_(function*(){let r;if(r=Pt(e).token?yield Fv(t,!0):yield Fv(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Pt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},G9.RETRIAL_MIN_WAIT,G9.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Fl(t){return t.expireTimeMillis-Date.now()>0}function Z9(t){return{token:$Ie(jIe),error:t}}class qIe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Pt(this.app);for(const n of e)D1(this.app,n.next);return Promise.resolve()}}const az="app-check-internal";!function iwe(){er(new Fn("app-check",t=>function zIe(t,e){return new qIe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(az).initialize()})),er(new Fn(az,t=>function HIe(t){return{getToken:e=>Fv(t,e),getLimitedUseToken:()=>Y9(t),addTokenListener:e=>function A1(t,e,n,r){const{app:i}=t,s=Pt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Fl(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),X9(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>X9(t))}(t,"INTERNAL",e),removeTokenListener:e=>D1(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),yt("@firebase/app-check","0.8.0")}();class P1{constructor(){return a1("app-check")}}typeof window<"u"&&window;const cwe=function cz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lz=new cs("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Lv=new du("@firebase/auth");function Uv(t,...e){Lv.logLevel<=Ce.ERROR&&Lv.error(`Auth (${Wo}): ${t}`,...e)}function $r(t,...e){throw N1(t,...e)}function hs(t,...e){return N1(t,...e)}function N1(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lz.create(t,...e)}function V(t,e,...n){if(!t)throw N1(e,...n)}function fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uv(e),new Error(e)}function Yo(t,e){t||fs(e)}function ep(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function hz(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class tp{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yo(n>e,"Short delay should be less than long delay!"),this.isMobile=function Ome(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}()||function Vme(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function dwe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function k1(){return"http:"===hz()||"https:"===hz()}()||HA()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function O1(t,e){Yo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class fz{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fwe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},pwe=new tp(3e4,6e4);function bt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Mt(t,e,n,r){return F1.apply(this,arguments)}function F1(){return(F1=_(function*(t,e,n,r,i={}){return pz(t,i,_(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Ev(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),fz.fetch()(gz(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function pz(t,e,n){return V1.apply(this,arguments)}function V1(){return(V1=_(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},fwe),e);try{const i=new gwe(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw np(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw np(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw np(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw np(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function dz(t,e,n){const r=Object.assign(Object.assign({},cwe()),{[e]:n});return new cs("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);$r(t,l)}}catch(i){if(i instanceof si)throw i;$r(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function so(t,e,n,r){return L1.apply(this,arguments)}function L1(){return(L1=_(function*(t,e,n,r,i={}){const s=yield Mt(t,e,n,r,i);return"mfaPendingCredential"in s&&$r(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function gz(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?O1(t.config,i):`${t.config.apiScheme}://${i}`}class gwe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hs(this.auth,"network-request-failed")),pwe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function np(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hs(t,e,r);return i.customData._tokenResponse=n,i}function U1(){return(U1=_(function*(t,e){return Mt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function j1(){return(j1=_(function*(t,e){return Mt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function rp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $1(){return($1=_(function*(t,e=!1){const n=Gt(t),r=yield n.getIdToken(e),i=Bv(r);V(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:rp(G1(i.auth_time)),issuedAtTime:rp(G1(i.iat)),expirationTime:rp(G1(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function G1(t){return 1e3*Number(t)}function Bv(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Uv("JWT malformed, contained fewer than 3 sections"),null;try{const i=gv(n);return i?JSON.parse(i):(Uv("Failed to decode base64 JWT payload"),null)}catch(i){return Uv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function oo(t,e){return q1.apply(this,arguments)}function q1(){return(q1=_(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof si&&function Iwe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class wwe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield n.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class mz{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rp(this.lastLoginAt),this.creationTime=rp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ip(t){return z1.apply(this,arguments)}function z1(){return z1=_(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield oo(t,function ywe(t,e){return j1.apply(this,arguments)}(n,{idToken:r}));V(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Cwe(t){return t.map(e=>{var{providerId:n}=e,r=vT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function bwe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new mz(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),z1.apply(this,arguments)}function H1(){return(H1=_(function*(t){const e=Gt(t);yield ip(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function W1(){return(W1=_(function*(t,e){const n=yield pz(t,{},_(function*(){const r=Ev({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=gz(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",fz.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class sp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Ewe(t){const e=Bv(t);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return _(function*(){return V(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Awe(t,e){return W1.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new sp;return r&&(V("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(V("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(V("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sp,this.toJSON())}_performRefresh(){return fs("not implemented")}}function Xo(t,e){V("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Eu{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=vT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wwe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new mz(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return _(function*(){const r=yield oo(n,n.stsTokenManager.getToken(n.auth,e));return V(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function vwe(t){return $1.apply(this,arguments)}(this,e)}reload(){return function Twe(t){return H1.apply(this,arguments)}(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Eu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield ip(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const n=yield e.getIdToken();return yield oo(e,function mwe(t,e){return U1.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:E,emailVerified:A,isAnonymous:N,providerData:F,stsTokenManager:X}=n;V(E&&X,e,"internal-error");const De=sp.fromJSON(this.name,X);V("string"==typeof E,e,"internal-error"),Xo(d,e.name),Xo(h,e.name),V("boolean"==typeof A,e,"internal-error"),V("boolean"==typeof N,e,"internal-error"),Xo(f,e.name),Xo(p,e.name),Xo(g,e.name),Xo(m,e.name),Xo(v,e.name),Xo(y,e.name);const Lt=new Eu({uid:E,auth:e,email:h,emailVerified:A,displayName:d,isAnonymous:N,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:De,createdAt:v,lastLoginAt:y});return F&&Array.isArray(F)&&(Lt.providerData=F.map(pr=>Object.assign({},pr))),m&&(Lt._redirectEventId=m),Lt}static _fromIdTokenResponse(e,n,r=!1){return _(function*(){const i=new sp;i.updateFromServerResponse(n);const s=new Eu({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ip(s),s})()}}const _z=new Map;function ao(t){Yo(t instanceof Function,"Expected a class definition");let e=_z.get(t);return e?(Yo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_z.set(t,e),e)}const yz=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(n,r){var i=this;return _(function*(){i.storage[n]=r})()}_get(n){var r=this;return _(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return _(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function jv(t,e,n){return`firebase:${t}:${e}:${n}`}class Ll{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=jv(this.userKey,i.apiKey,s),this.fullPersistenceKey=jv("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Eu._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return _(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(function*(){if(!n.length)return new Ll(ao(yz),e,r);const i=(yield Promise.all(n.map(function(){var c=_(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||ao(yz);const o=jv(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Eu._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=_(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Ll(s,e,r)):new Ll(s,e,r)})()}}function vz(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ez(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bz(e))return"Blackberry";if(Cz(e))return"Webos";if(K1(e))return"Safari";if((e.includes("chrome/")||Iz(e))&&!e.includes("edge/"))return"Chrome";if(Tz(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function Ez(t=fn()){return/firefox\//i.test(t)}function K1(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Iz(t=fn()){return/crios\//i.test(t)}function wz(t=fn()){return/iemobile/i.test(t)}function Tz(t=fn()){return/android/i.test(t)}function bz(t=fn()){return/blackberry/i.test(t)}function Cz(t=fn()){return/webos/i.test(t)}function $v(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Az(t=fn()){return $v(t)||Tz(t)||Cz(t)||bz(t)||/windows phone/i.test(t)||wz(t)}function Dz(t,e=[]){let n;switch(t){case"Browser":n=vz(fn());break;case"Worker":n=`${vz(fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wo}/${r}`}function Sz(t,e){return Y1.apply(this,arguments)}function Y1(){return(Y1=_(function*(t,e){return Mt(t,"GET","/v2/recaptchaConfig",bt(t,e))})).apply(this,arguments)}function Rz(t){return void 0!==t&&void 0!==t.enterprise}class Pz{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function X1(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=hs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function Pwe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function Mz(t){return`__${t}${Math.floor(1e6*Math.random())}`}class Nz{constructor(e){this.type="recaptcha-enterprise",this.auth=gn(e)}verify(e="verify",n=!1){var r=this;return _(function*(){function s(){return s=_(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=_(function*(c,l){Sz(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new Pz(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;Rz(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&Rz(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));X1("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}function Jo(t,e,n){return J1.apply(this,arguments)}function J1(){return(J1=_(function*(t,e,n,r=!1){const i=new Nz(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}class Owe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return _(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Fwe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kz(this),this.idTokenSubscription=new kz(this),this.beforeStateQueue=new Owe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ao(n)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ll.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return _(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return V(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return _(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return _(function*(){try{yield ip(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function hwe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return _(function*(){const r=e?Gt(e):null;return r&&V(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return _(function*(){if(!r._deleted)return e&&V(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(_(function*(){yield n.assertedPersistence.setPersistence(ao(e))}))}initializeRecaptchaConfig(){var e=this;return _(function*(){const n=yield Sz(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Pz(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new Nz(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return _(function*(){if(!n.redirectPersistenceManager){const r=e&&ao(e)||n._popupRedirectResolver;V(r,n,"argument-error"),n.redirectPersistenceManager=yield Ll.create(n,[ao(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return _(function*(){var r,i;return n._isInitialized&&(yield n.queue(_(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return _(function*(){if(e===n.currentUser)return n.queue(_(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return V(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return _(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return _(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function lwe(t,...e){Lv.logLevel<=Ce.WARN&&Lv.warn(`Auth (${Wo}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function gn(t){return Gt(t)}class kz{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Gme(t,e){const n=new qme(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Oz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Fz(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Vz{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,n){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}function Uz(t,e){return ex.apply(this,arguments)}function ex(){return(ex=_(function*(t,e){return Mt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function nx(t,e){return rx.apply(this,arguments)}function rx(){return(rx=_(function*(t,e){return so(t,"POST","/v1/accounts:signInWithPassword",bt(t,e))})).apply(this,arguments)}function dx(){return(dx=_(function*(t,e){return so(t,"POST","/v1/accounts:signInWithEmailLink",bt(t,e))})).apply(this,arguments)}function hx(){return(hx=_(function*(t,e){return so(t,"POST","/v1/accounts:signInWithEmailLink",bt(t,e))})).apply(this,arguments)}class op extends Vz{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new op(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new op(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return _(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield Jo(e,i,"signInWithPassword");return nx(e,s)}return nx(e,i).catch(function(){var s=_(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield Jo(e,i,"signInWithPassword");return nx(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function zwe(t,e){return dx.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:$r(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return _(function*(){switch(r.signInMethod){case"password":return Uz(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Hwe(t,e){return hx.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:$r(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function uo(t,e){return fx.apply(this,arguments)}function fx(){return(fx=_(function*(t,e){return so(t,"POST","/v1/accounts:signInWithIdp",bt(t,e))})).apply(this,arguments)}class cp{constructor(e){var n,r,i,s,o,a;const u=Wf(Kf(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function Zwe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);V(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function eTe(t){const e=Wf(Kf(t)).link,n=e?Wf(Kf(e)).deep_link_id:null,r=Wf(Kf(t)).deep_link_id;return(r?Wf(Kf(r)).link:null)||r||n||e||t}(e);try{return new cp(n)}catch{return null}}}let Bz=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return op._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=cp.parseLink(r);return V(i,"argument-error"),op._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Zo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tTe extends Zo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function zv(t,e){return vx.apply(this,arguments)}function vx(){return(vx=_(function*(t,e){return so(t,"POST","/v1/accounts:signUp",bt(t,e))})).apply(this,arguments)}class bi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(function*(){const s=yield Eu._fromIdTokenResponse(e,r,i),o=jz(r);return new bi({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return _(function*(){yield e._updateTokensIfNecessary(r,!0);const i=jz(r);return new bi({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function jz(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Hv extends si{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hv.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Hv(e,n,r,i)}}function $z(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Hv._fromErrorAndOperation(t,s,e,r):s})}function Tx(){return(Tx=_(function*(t,e,n=!1){const r=yield oo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return bi._forOperation(t,"link",r)})).apply(this,arguments)}function Cx(){return(Cx=_(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield oo(t,$z(r,i,e,t),n);V(s.idToken,r,"internal-error");const o=Bv(s.idToken);V(o,r,"internal-error");const{sub:a}=o;return V(t.uid===a,r,"user-mismatch"),bi._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&$r(r,"user-mismatch"),s}})).apply(this,arguments)}function zz(t,e){return Ax.apply(this,arguments)}function Ax(){return(Ax=_(function*(t,e,n=!1){const r="signIn",i=yield $z(t,r,e),s=yield bi._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Sx(){return(Sx=_(function*(t,e){return zz(gn(t),e)})).apply(this,arguments)}function uTe(t,e,n){return jx.apply(this,arguments)}function jx(){return jx=_(function*(t,e,n){var r;const i=gn(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const c=yield Jo(i,s,"signUpPassword");o=zv(i,c)}else o=zv(i,s).catch(function(){var c=_(function*(l){if("auth/missing-recaptcha-token"===l.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield Jo(i,s,"signUpPassword");return zv(i,d)}return Promise.reject(l)});return function(l){return c.apply(this,arguments)}}());const a=yield o.catch(c=>Promise.reject(c)),u=yield bi._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(u.user),u}),jx.apply(this,arguments)}function cTe(t,e,n){return function Dx(t,e){return Sx.apply(this,arguments)}(Gt(t),Bz.credential(e,n))}function Kx(){return(Kx=_(function*(t,e){return Mt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function hTe(t,e){return Qx.apply(this,arguments)}function Qx(){return Qx=_(function*(t,{displayName:e,photoURL:n}){if(void 0===e&&void 0===n)return;const r=Gt(t),s={idToken:yield r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=yield oo(r,function dTe(t,e){return Kx.apply(this,arguments)}(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>"password"===u);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)}),Qx.apply(this,arguments)}function ETe(t,e,n,r){return Gt(t).onAuthStateChanged(e,n,r)}const Kv="__sak";class Wz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kv,"1"),this.storage.removeItem(Kv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const STe=(()=>{class t extends Wz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function CTe(){const t=fn();return K1(t)||$v(t)}()&&function xwe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Az(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Swe(){return function Lme(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return _(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return _(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),Kz=(()=>{class t extends Wz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let RTe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return _(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=_(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function xTe(t){return Promise.all(t.map(function(){var e=_(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function nR(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class PTe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return _(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=nR("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function en(){return window}function rR(){return typeof en().WorkerGlobalScope<"u"&&"function"==typeof en().importScripts}function iR(){return(iR=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Qz="firebaseLocalStorageDb",Qv="firebaseLocalStorage",Yz="fbase_key";class dp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yv(t,e){return t.transaction([Qv],e?"readwrite":"readonly").objectStore(Qv)}function sR(){const t=indexedDB.open(Qz,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qv,{keyPath:Yz})}catch(i){n(i)}}),t.addEventListener("success",_(function*(){const r=t.result;r.objectStoreNames.contains(Qv)?e(r):(r.close(),yield function VTe(){const t=indexedDB.deleteDatabase(Qz);return new dp(t).toPromise()}(),e(yield sR()))}))})}function Xz(t,e,n){return oR.apply(this,arguments)}function oR(){return(oR=_(function*(t,e,n){const r=Yv(t,!0).put({[Yz]:e,value:n});return new dp(r).toPromise()})).apply(this,arguments)}function aR(){return(aR=_(function*(t,e){const n=Yv(t,!1).get(e),r=yield new dp(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Jz(t,e){const n=Yv(t,!0).delete(e);return new dp(n).toPromise()}const jTe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return _(function*(){return n.db||(n.db=yield sR()),n.db})()}_withRetries(n){var r=this;return _(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return _(function*(){return rR()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return _(function*(){n.receiver=RTe._getInstance(function OTe(){return rR()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=_(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=_(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return _(function*(){var r,i;if(n.activeServiceWorker=yield function NTe(){return iR.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new PTe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function kTe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const n=yield sR();return yield Xz(n,Kv,"1"),yield Jz(n,Kv),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return _(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(s=>Xz(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return _(function*(){const i=yield r._withRetries(s=>function LTe(t,e){return aR.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>Jz(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return _(function*(){const r=yield n._withRetries(o=>{const a=Yv(o,!1).getAll();return new dp(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();Mz("rcb"),new tp(3e4,6e4);class mR extends Vz{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function r0e(t){return zz(t.auth,new mR(t),t.bypassAuthState)}function i0e(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),function qz(t,e){return Cx.apply(this,arguments)}(n,new mR(t),t.bypassAuthState)}function s0e(t){return _R.apply(this,arguments)}function _R(){return(_R=_(function*(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),function wx(t,e){return Tx.apply(this,arguments)}(n,new mR(t),t.bypassAuthState)})).apply(this,arguments)}class o0e{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=_(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return r0e;case"linkViaPopup":case"linkViaRedirect":return s0e;case"reauthViaPopup":case"reauthViaRedirect":return i0e;default:$r(this.auth,"internal-error")}}resolve(e){Yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new tp(2e3,1e4);const a0e="pendingRedirect",hp=new Map;class u0e extends o0e{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return _(function*(){let r=hp.get(n.auth._key());if(!r){try{const s=(yield function c0e(t,e){return wR.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}hp.set(n.auth._key(),r)}return n.bypassAuthState||hp.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function wR(){return(wR=_(function*(t,e){const n=function t7(t){return jv(a0e,t.config.apiKey,t.name)}(e),r=function e7(t){return ao(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function l0e(t,e){hp.set(t._key(),e)}function n7(t,e){return xR.apply(this,arguments)}function xR(){return(xR=_(function*(t,e,n=!1){const r=gn(t),i=function wu(t,e){return e?ao(e):(V(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new u0e(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class g0e{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function m0e(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s7(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!s7(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(hs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(i7(e))}saveEventToCache(e){this.cachedEventUids.add(i7(e)),this.lastProcessedEventTime=Date.now()}}function i7(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function s7({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function PR(){return(PR=_(function*(t,e={}){return Mt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const y0e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v0e=/^https?/;function MR(){return MR=_(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function _0e(t){return PR.apply(this,arguments)}(t);for(const n of e)try{if(I0e(n))return}catch{}$r(t,"unauthorized-domain")}),MR.apply(this,arguments)}function I0e(t){const e=ep(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!v0e.test(n))return!1;if(y0e.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const w0e=new tp(3e4,6e4);function o7(){const t=en().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Jv=null;const C0e=new tp(5e3,15e3),A0e="__/auth/iframe",D0e="emulator/auth/iframe",S0e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x0e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R0e(t){const e=t.config;V(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?O1(e,D0e):`https://${t.config.authDomain}/${A0e}`,r={apiKey:e.apiKey,appName:t.name,v:Wo},i=x0e.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ev(r).slice(1)}`}function NR(){return NR=_(function*(t){const e=yield function b0e(t){return Jv=Jv||function T0e(t){return new Promise((e,n)=>{var r,i,s;function o(){o7(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o7(),n(hs(t,"network-request-failed"))},timeout:w0e.get()})}if(null!==(i=null===(r=en().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=en().gapi)||void 0===s||!s.load){const a=Mz("iframefcb");return en()[a]=()=>{gapi.load?o():n(hs(t,"network-request-failed"))},X1(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Jv=null,e})}(t),Jv}(t),n=en().gapi;return V(n,t,"internal-error"),e.open({where:document.body,url:R0e(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S0e,dontclear:!0},r=>new Promise(function(){var i=_(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=hs(t,"network-request-failed"),u=en().setTimeout(()=>{o(a)},C0e.get());function c(){en().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),NR.apply(this,arguments)}const M0e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class a7{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const U0e="__/auth/handler",B0e="emulator/auth/handler",j0e=encodeURIComponent("fac");function u7(t,e,n,r,i,s){return kR.apply(this,arguments)}function kR(){return(kR=_(function*(t,e,n,r,i,s){V(t.config.authDomain,t,"auth-domain-config-required"),V(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wo,eventId:i};if(e instanceof Zo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function $me(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof tTe){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${j0e}=${encodeURIComponent(u)}`:"";return`${function $0e({config:t}){return t.emulator?O1(t,B0e):`https://${t.authDomain}/${U0e}`}(t)}?${Ev(a).slice(1)}${c}`})).apply(this,arguments)}const OR="webStorageSupport",q0e=class G0e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kz,this._completeRedirectFn=n7,this._overrideRedirectResult=l0e}_openPopup(e,n,r,i){var s=this;return _(function*(){var o;Yo(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield u7(e,n,r,ep(),i);return function V0e(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},M0e),{width:r.toString(),height:i.toString(),top:s,left:o}),c=fn().toLowerCase();n&&(a=Iz(c)?"_blank":n),Ez(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Dwe(t=fn()){var e;return $v(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function L0e(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new a7(null);const d=window.open(e||"",a,l);V(d,t,"popup-blocked");try{d.focus()}catch{}return new a7(d)}(e,a,nR())})()}_openRedirect(e,n,r,i){var s=this;return _(function*(){return yield s._originValidation(e),function MTe(t){en().location.href=t}(yield u7(e,n,r,ep(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Yo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return _(function*(){const r=yield function P0e(t){return NR.apply(this,arguments)}(e),i=new g0e(e);return r.register("authEvent",s=>(V(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(OR,{type:OR},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[OR];void 0!==o&&n(!!o),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function E0e(t){return MR.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Az()||K1()||$v()}};var d7="@firebase/auth";class z0e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return _(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Q0e=_q("authIdTokenMaxAge")||300;let f7=null;const Y0e=t=>function(){var e=_(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Q0e)return;const s=r?.token;f7!==s&&(f7=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function X0e(t=sD()){const e=Pl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Vwe(t,e){const n=Pl(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(vv(n.getOptions(),e??{}))return i;$r(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:q0e,persistence:[jTe,STe,Kz]}),r=_q("authTokenSyncURL");if(r){const s=Y0e(r);(function vTe(t,e,n){Gt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function yTe(t,e,n,r){Gt(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=gq("auth");return i&&function Uwe(t,e,n){const r=gn(t);V(r._canInitEmulator,r,"emulator-config-failed"),V(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=Oz(e),{host:o,port:a}=function Bwe(t){const e=Oz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Fz(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:Fz(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function jwe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function W0e(t){er(new Fn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;V(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dz(t)},c=new Fwe(r,i,s,u);return function Lwe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ao);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),er(new Fn("auth-internal",e=>{const n=gn(e.getProvider("auth").getImmediate());return new z0e(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yt(d7,"0.23.2",function H0e(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),yt(d7,"0.23.2","esm2017")}("Browser");class eE{constructor(e){return e}}class g7{constructor(){return a1("auth")}}const VR=new Y("angularfire2.auth-instances");function Z0e(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new eE(r)}}const ebe={provide:g7,deps:[[new wr,VR]]},tbe={provide:eE,useFactory:function J0e(t,e){const n=o1("auth",t,e);return n&&new eE(n)},deps:[[new wr,VR],Ol]};let nbe=(()=>{class t{constructor(){yt("angularfire",Rv.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=mr({type:t}),t.\u0275inj=Kn({providers:[tbe,ebe]}),t})();function rbe(t,...e){return{ngModule:nbe,providers:[{provide:VR,useFactory:Z0e(t),multi:!0,deps:[Ue,Xn,u1,c1,[new wr,P1],...e]}]}}const ibe=Qo(uTe,!0),sbe=Qo(X0e,!0),obe=Qo(ETe,!0),abe=Qo(cTe,!0),ube=Qo(hTe,!0);let Bl=(()=>{var t;class e{constructor(r,i){this.auth=r,this.router=i,this.loggedUserSubject=new Kr(null),this.loggedUser$=this.loggedUserSubject.asObservable(),obe(this.auth,s=>{this.loggedUserSubject.next(s)})}login(r,i){return Dt(abe(this.auth,r,i))}register(r,i,s){return Dt(ibe(this.auth,i,s)).pipe(xi(({user:o})=>ube(o,{displayName:r})))}logout(){return this.router.navigate(["/"]),Dt(this.auth.signOut())}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(eE),Q(Zn))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function cbe(t,e){1&t&&(O(0,"h1",13),z(1," Welcome to the Parking Ticket App "),k())}function lbe(t,e){if(1&t&&(O(0,"h1",13),z(1),k()),2&t){const n=ti();se(1),ss(" Welcome ",n.userUsername," ")}}function dbe(t,e){1&t&&(O(0,"a",14),z(1,"Register Now!"),k())}function hbe(t,e){1&t&&(O(0,"a",15),z(1,"My Tickets"),k())}let fbe=(()=>{var t;class e{constructor(r){this.authService=r,this.currentUser=!1}ngOnInit(){this.authService.loggedUser$.subscribe(r=>{this.userUsername=r?.displayName,this.currentUser=!!r})}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Bl))},t.\u0275cmp=Pi({type:t,selectors:[["app-home"]],decls:31,vars:5,consts:[[1,"bg-blue-900","text-white","py-16"],[1,"container","mx-auto","text-center"],["class","text-5xl font-bold mb-4",4,"ngIf"],[1,"text-lg"],[1,"mt-8"],["class","bg-white text-blue-500 hover:bg-blue-400 py-2 px-6 rounded-full text-lg font-semibold transition duration-300","routerLink","register",4,"ngIf"],["class","bg-white text-blue-500 hover:bg-blue-400 py-2 px-6 rounded-full text-lg font-semibold transition duration-300","routerLink","my-tickets",4,"ngIf"],[1,"py-16"],[1,"text-3xl","font-semibold","mb-8"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-12"],[1,"p-4","border","rounded-lg"],[1,"text-xl","font-semibold","mb-4"],[1,"text-gray-700"],[1,"text-5xl","font-bold","mb-4"],["routerLink","register",1,"bg-white","text-blue-500","hover:bg-blue-400","py-2","px-6","rounded-full","text-lg","font-semibold","transition","duration-300"],["routerLink","my-tickets",1,"bg-white","text-blue-500","hover:bg-blue-400","py-2","px-6","rounded-full","text-lg","font-semibold","transition","duration-300"]],template:function(r,i){1&r&&(O(0,"section")(1,"section",0)(2,"div",1),qe(3,cbe,2,0,"h1",2),qe(4,lbe,2,1,"h1",2),O(5,"p",3),z(6,"Manage your parking tickets easily and efficiently."),k(),O(7,"div",4),qe(8,dbe,2,0,"a",5),k(),O(9,"div",4),qe(10,hbe,2,0,"a",6),k()()(),O(11,"section",7)(12,"div",1)(13,"h2",8),z(14,"Key Features"),k(),O(15,"div",9)(16,"div",10)(17,"h3",11),z(18,"Easy Ticket Management"),k(),O(19,"p",12),z(20," Manage all your parking tickets in one place with our user-friendly interface. "),k()(),O(21,"div",10)(22,"h3",11),z(23,"Instant Notifications"),k(),O(24,"p",12),z(25," Receive instant notifications about upcoming ticket payments and deadlines. "),k()(),O(26,"div",10)(27,"h3",11),z(28,"Secure and Reliable"),k(),O(29,"p",12),z(30," Your ticket information is safe and secure with us. We prioritize data protection. "),k()()()()()()),2&r&&(ve("@fadeInOut",void 0),se(3),ve("ngIf",!i.currentUser),se(1),ve("ngIf",i.currentUser),se(4),ve("ngIf",!i.currentUser),se(2),ve("ngIf",i.currentUser))},dependencies:[_l,Rl],data:{animation:[yl("fadeInOut",[WC("in",kn({opacity:1})),Xs("void => *",[kn({opacity:0}),Ys(300)]),Xs("* => void",[Ys(300,kn({opacity:0}))])])]}}),e})(),m7=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Bs),S(Zr))},t.\u0275dir=le({type:t}),e})(),Tu=(()=>{var t;class e extends m7{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Mn(t)))(i||t)}}(),t.\u0275dir=le({type:t,features:[He]}),e})();const ps=new Y("NgValueAccessor"),mbe={provide:ps,useExisting:tt(()=>jl),multi:!0},ybe=new Y("CompositionEventMode");let jl=(()=>{var t;class e extends m7{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _be(){const t=Uo()?Uo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Bs),S(Zr),S(ybe,8))},t.\u0275dir=le({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&jt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[_t([mbe]),He]}),e})();function ea(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function y7(t){return null!=t&&"number"==typeof t.length}const tr=new Y("NgValidators"),ta=new Y("NgAsyncValidators"),vbe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class nr{static min(e){return function v7(t){return e=>{if(ea(e.value)||ea(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function E7(t){return e=>{if(ea(e.value)||ea(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return I7(e)}static requiredTrue(e){return function w7(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function T7(t){return ea(t.value)||vbe.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function b7(t){return e=>ea(e.value)||!y7(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function C7(t){return e=>y7(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function A7(t){if(!t)return tE;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ea(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return M7(e)}static composeAsync(e){return N7(e)}}function I7(t){return ea(t.value)?{required:!0}:null}function tE(t){return null}function D7(t){return null!=t}function S7(t){return uf(t)?Dt(t):t}function x7(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function R7(t,e){return e.map(n=>n(t))}function P7(t){return t.map(e=>function Ebe(t){return!t.validate}(e)?e:n=>e.validate(n))}function M7(t){if(!t)return null;const e=t.filter(D7);return 0==e.length?null:function(n){return x7(R7(n,e))}}function LR(t){return null!=t?M7(P7(t)):null}function N7(t){if(!t)return null;const e=t.filter(D7);return 0==e.length?null:function(n){return function pbe(...t){const e=xV(t),{args:n,keys:r}=n3(t),i=new wt(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;Wr(n[l]).subscribe(Jt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?i3(r,a):a),s.complete())}))}});return e?i.pipe(r3(e)):i}(R7(n,e).map(S7)).pipe($e(x7))}}function UR(t){return null!=t?N7(P7(t)):null}function k7(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function O7(t){return t._rawValidators}function F7(t){return t._rawAsyncValidators}function BR(t){return t?Array.isArray(t)?t:[t]:[]}function nE(t,e){return Array.isArray(t)?t.includes(e):t===e}function V7(t,e){const n=BR(e);return BR(t).forEach(i=>{nE(n,i)||n.push(i)}),n}function L7(t,e){return BR(e).filter(n=>!nE(t,n))}class U7{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=LR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=UR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Dr extends U7{get formDirective(){return null}get path(){return null}}class na extends U7{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class B7{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rE=(()=>{var t;class e extends B7{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(na,2))},t.\u0275dir=le({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&ll("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[He]}),e})(),iE=(()=>{var t;class e extends B7{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Dr,10))},t.\u0275dir=le({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&ll("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[He]}),e})();const fp="VALID",oE="INVALID",$l="PENDING",pp="DISABLED";function GR(t){return(aE(t)?t.validators:t)||null}function qR(t,e){return(aE(e)?e.asyncValidators:t)||null}function aE(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function $7(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new C(1e3,"");if(!r[n])throw new C(1001,"")}function G7(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new C(1002,"")})}class uE{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fp}get invalid(){return this.status===oE}get pending(){return this.status==$l}get disabled(){return this.status===pp}get enabled(){return this.status!==pp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(V7(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(V7(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(L7(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(L7(e,this._rawAsyncValidators))}hasValidator(e){return nE(this._rawValidators,e)}hasAsyncValidator(e){return nE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=$l,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=pp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=fp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fp||this.status===$l)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pp:fp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=$l,this._hasOwnPendingAsyncValidator=!0;const n=S7(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new xt,this.statusChanges=new xt}_calculateStatus(){return this._allControlsDisabled()?pp:this.errors?oE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($l)?$l:this._anyControlsHaveStatus(oE)?oE:fp}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){aE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function bbe(t){return Array.isArray(t)?LR(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Cbe(t){return Array.isArray(t)?UR(t):t||null}(this._rawAsyncValidators)}}class gp extends uE{constructor(e,n,r){super(GR(n),qR(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){G7(this,0,e),Object.keys(e).forEach(r=>{$7(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class q7 extends gp{}const bu=new Y("CallSetDisabledState",{providedIn:"root",factory:()=>mp}),mp="always";function _p(t,e,n=mp){zR(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Dbe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&z7(t,e)})}(t,e),function xbe(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Sbe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&z7(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Abe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function lE(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),hE(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function dE(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function zR(t,e){const n=O7(t);null!==e.validator?t.setValidators(k7(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=F7(t);null!==e.asyncValidator?t.setAsyncValidators(k7(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();dE(e._rawValidators,i),dE(e._rawAsyncValidators,i)}function hE(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=O7(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=F7(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return dE(e._rawValidators,r),dE(e._rawAsyncValidators,r),n}function z7(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function K7(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Q7(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const vp=class extends uE{constructor(e=null,n,r){super(GR(n),qR(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),aE(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Q7(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){K7(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){K7(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Q7(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let fE=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=le({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const Lbe={provide:ps,useExisting:tt(()=>YR),multi:!0};let YR=(()=>{var t;class e extends Tu{writeValue(r){this.setProperty("value",r??"")}registerOnChange(r){this.onChange=i=>{r(""==i?null:parseFloat(i))}}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Mn(t)))(i||t)}}(),t.\u0275dir=le({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&jt("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[_t([Lbe]),He]}),e})(),e5=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mr({type:t}),t.\u0275inj=Kn({}),e})();const XR=new Y("NgModelWithFormControlWarning"),Gbe={provide:Dr,useExisting:tt(()=>Gl)};let Gl=(()=>{var t;class e extends Dr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new xt,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const i=this.form.get(r.path);return _p(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){lE(r.control||null,r,!1),function Nbe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,function W7(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const i=r.control,s=this.form.get(r.path);i!==s&&(lE(i||null,r),(t=>t instanceof vp)(s)&&(_p(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const i=this.form.get(r.path);(function H7(t,e){zR(t,e)})(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const i=this.form.get(r.path);i&&function Rbe(t,e){return hE(t,e)}(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zR(this.form,this),this._oldForm&&hE(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(r){return new(r||t)(S(tr,10),S(ta,10),S(bu,8))},t.\u0275dir=le({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&jt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_t([Gbe]),He,_i]}),e})();const Hbe={provide:na,useExisting:tt(()=>Ep)};let Ep=(()=>{var t;class e extends na{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new xt,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function KR(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===jl?n=s:function Mbe(t){return Object.getPrototypeOf(t.constructor)===Tu}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){this._added||this._setUpControl(),function WR(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return function cE(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(t=e)._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(S(Dr,13),S(tr,10),S(ta,10),S(ps,10),S(XR,8))},t.\u0275dir=le({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_t([Hbe]),He,_i]}),e})();const Wbe={provide:ps,useExisting:tt(()=>pE),multi:!0};function s5(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let pE=(()=>{var t;class e extends Tu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;const s=s5(this._getOptionId(r),r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){const i=function Kbe(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i):r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Mn(t)))(i||t)}}(),t.\u0275dir=le({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&jt("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[_t([Wbe]),He]}),e})(),o5=(()=>{var t;class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(s5(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Zr),S(Bs),S(pE,9))},t.\u0275dir=le({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const Qbe={provide:ps,useExisting:tt(()=>eP),multi:!0};function a5(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let eP=(()=>{var t;class e extends Tu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){let i;if(this.value=r,Array.isArray(r)){const s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{const s=[],o=i.selectedOptions;if(void 0!==o){const a=o;for(let u=0;u<a.length;u++){const l=this._getOptionValue(a[u].value);s.push(l)}}else{const a=i.options;for(let u=0;u<a.length;u++){const c=a[u];if(c.selected){const l=this._getOptionValue(c.value);s.push(l)}}}this.value=s,r(s)}}_registerOption(r){const i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){const i=function Ybe(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Mn(t)))(i||t)}}(),t.\u0275dir=le({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&jt("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[_t([Qbe]),He]}),e})(),u5=(()=>{var t;class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){null!=this._select&&(this._value=r,this._setElementValue(a5(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(a5(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Zr),S(Bs),S(eP,9))},t.\u0275dir=le({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),Cu=(()=>{var t;class e{constructor(){this._validator=tE}ngOnChanges(r){if(this.inputName in r){const i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):tE,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return null!=r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=le({type:t,features:[_i]}),e})();const Zbe={provide:tr,useExisting:tt(()=>gE),multi:!0};let gE=(()=>{var t;class e extends Cu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=gl,this.createValidator=r=>I7}enabled(r){return r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=Mn(t)))(i||t)}}(),t.\u0275dir=le({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&ki("required",i._enabled?"":null)},inputs:{required:"required"},features:[_t([Zbe]),He]}),e})(),y5=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mr({type:t}),t.\u0275inj=Kn({imports:[e5]}),e})();class v5 extends uE{constructor(e,n,r){super(GR(n),qR(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){G7(this,0,e),e.forEach((r,i)=>{$7(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function E5(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let tP=(()=>{var t;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const r=new e;return r.useNonNullable=!0,r}group(r,i=null){const s=this._reduceControls(r);let o={};return E5(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new gp(s,o)}record(r,i=null){const s=this._reduceControls(r);return new q7(s,i)}control(r,i,s){let o={};return this.useNonNullable?(E5(i)?o=i:(o.validators=i,o.asyncValidators=s),new vp(r,{...o,nonNullable:!0})):new vp(r,i,s)}array(r,i,s){const o=r.map(a=>this._createControl(a));return new v5(o,i,s)}_reduceControls(r){const i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){return r instanceof vp||r instanceof uE?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),sCe=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:bu,useValue:r.callSetDisabledState??mp}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mr({type:t}),t.\u0275inj=Kn({imports:[y5]}),e})(),I5=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:XR,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:bu,useValue:r.callSetDisabledState??mp}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mr({type:t}),t.\u0275inj=Kn({imports:[y5]}),e})();function oCe(t,e){1&t&&(O(0,"div",18),z(1," Username is required. "),k())}function aCe(t,e){if(1&t&&(O(0,"div"),qe(1,oCe,2,0,"div",17),k()),2&t){const n=ti();let r;se(1),ve("ngIf",null==(r=n.registerForm.get("username"))?null:r.hasError("required"))}}function uCe(t,e){1&t&&(O(0,"div",18),z(1," Email is required. "),k())}function cCe(t,e){1&t&&(O(0,"div",18),z(1," Invalid email format. "),k())}function lCe(t,e){if(1&t&&(O(0,"div"),qe(1,uCe,2,0,"div",17),qe(2,cCe,2,0,"div",17),k()),2&t){const n=ti();let r,i;se(1),ve("ngIf",null==(r=n.registerForm.get("email"))?null:r.hasError("required")),se(1),ve("ngIf",null==(i=n.registerForm.get("email"))?null:i.hasError("email"))}}function dCe(t,e){1&t&&(O(0,"div",18),z(1," Password is required. "),k())}function hCe(t,e){1&t&&(O(0,"div",18),z(1," Password must be at least 6 characters long. "),k())}function fCe(t,e){if(1&t&&(O(0,"div"),qe(1,dCe,2,0,"div",17),qe(2,hCe,2,0,"div",17),k()),2&t){const n=ti();let r,i;se(1),ve("ngIf",null==(r=n.registerForm.get("password"))?null:r.hasError("required")),se(1),ve("ngIf",null==(i=n.registerForm.get("password"))?null:i.hasError("minlength"))}}function pCe(t,e){1&t&&(O(0,"div",18),z(1," Confirmation password is required. "),k())}function gCe(t,e){1&t&&(O(0,"div")(1,"div",18),z(2,"Passwords do not match."),k()())}function mCe(t,e){if(1&t&&(O(0,"div"),qe(1,pCe,2,0,"div",17),qe(2,gCe,3,0,"div",8),k()),2&t){const n=ti();let r,i;se(1),ve("ngIf",null==(r=n.registerForm.get("confirmPassword"))?null:r.hasError("required")),se(1),ve("ngIf",n.registerForm.hasError("passwordsMatch")&&((null==(i=n.registerForm.get("confirmPassword"))?null:i.dirty)||(null==(i=n.registerForm.get("confirmPassword"))?null:i.touched)))}}let yCe=(()=>{var t;class e{constructor(r,i,s){this.fb=r,this.authService=i,this.router=s}ngOnInit(){this.registerForm=this.fb.group({username:["",[nr.required]],email:["",[nr.required,nr.email]],password:["",[nr.required,nr.minLength(6)]],confirmPassword:["",[nr.required]]},{validator:t=>{const e=t.get("password"),n=t.get("confirmPassword");return e&&n&&e.value!==n.value?{passwordsMatch:!0}:null}})}onClickRegister(){if(!this.registerForm.valid)return;const{username:r,email:i,password:s}=this.registerForm.value;this.authService.register(r,i,s).subscribe(()=>{this.router.navigate(["/my-tickets"])},o=>{console.error("Registration error:",o)})}}return(t=e).\u0275fac=function(r){return new(r||t)(S(tP),S(Bl),S(Zn))},t.\u0275cmp=Pi({type:t,selectors:[["app-register"]],decls:29,vars:6,consts:[[1,"container","mx-auto","mt-20"],[1,"max-w-md","mx-auto","bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"py-4","px-6"],[1,"text-2xl","font-semibold","text-gray-800","mb-6"],[3,"formGroup","ngSubmit"],[1,"mb-4"],["for","username",1,"block","text-gray-700","text-sm","font-medium","mb-2"],["type","text","id","username","name","username","placeholder","Enter your username","formControlName","username",1,"w-full","px-4","py-2","border","rounded-lg","focus:outline-none","focus:ring","focus:border-blue-500"],[4,"ngIf"],["for","email",1,"block","text-gray-700","text-sm","font-medium","mb-2"],["type","email","id","email","name","email","placeholder","Enter your email","formControlName","email",1,"w-full","px-4","py-2","border","rounded-lg","focus:outline-none","focus:ring","focus:border-blue-500"],[1,"mb-6"],["for","password",1,"block","text-gray-700","text-sm","font-medium","mb-2"],["type","password","id","password","name","password","placeholder","Enter your password","formControlName","password",1,"w-full","px-4","py-2","border","rounded-lg","focus:outline-none","focus:ring","focus:border-blue-500"],["type","password","id","confirmPassword","name","confirmPassword","placeholder","Confirm your password","formControlName","confirmPassword",1,"w-full","px-4","py-2","border","rounded-lg","focus:outline-none","focus:ring","focus:border-blue-500"],[1,"text-center"],["type","submit",1,"w-full","bg-blue-500","text-white","py-2","px-4","rounded-lg","hover:bg-blue-600","focus:outline-none","focus:ring","focus:bg-blue-600"],["class","text-red-500 text-xs",4,"ngIf"],[1,"text-red-500","text-xs"]],template:function(r,i){if(1&r&&(O(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),z(4,"Register"),k(),O(5,"form",4),jt("ngSubmit",function(){return i.onClickRegister()}),O(6,"div",5)(7,"label",6),z(8,"Username"),k(),Nn(9,"input",7),qe(10,aCe,2,1,"div",8),k(),O(11,"div",5)(12,"label",9),z(13,"Email"),k(),Nn(14,"input",10),qe(15,lCe,3,2,"div",8),k(),O(16,"div",11)(17,"label",12),z(18,"Password"),k(),Nn(19,"input",13),qe(20,fCe,3,2,"div",8),k(),O(21,"div",11)(22,"label",12),z(23,"Confirm Password"),k(),Nn(24,"input",14),qe(25,mCe,3,2,"div",8),k(),O(26,"div",15)(27,"button",16),z(28," Register "),k()()()()()()),2&r){let s,o,a,u;se(1),ve("@slideUp",void 0),se(4),ve("formGroup",i.registerForm),se(5),ve("ngIf",(null==(s=i.registerForm.get("username"))?null:s.invalid)&&((null==(s=i.registerForm.get("username"))?null:s.dirty)||(null==(s=i.registerForm.get("username"))?null:s.touched))),se(5),ve("ngIf",(null==(o=i.registerForm.get("email"))?null:o.invalid)&&((null==(o=i.registerForm.get("email"))?null:o.dirty)||(null==(o=i.registerForm.get("email"))?null:o.touched))),se(5),ve("ngIf",(null==(a=i.registerForm.get("password"))?null:a.invalid)&&((null==(a=i.registerForm.get("password"))?null:a.dirty)||(null==(a=i.registerForm.get("password"))?null:a.touched))),se(5),ve("ngIf",(null==(u=i.registerForm.get("confirmPassword"))?null:u.invalid)&&((null==(u=i.registerForm.get("confirmPassword"))?null:u.dirty)||(null==(u=i.registerForm.get("confirmPassword"))?null:u.touched)))}},dependencies:[_l,fE,jl,rE,iE,Gl,Ep],data:{animation:[yl("slideUp",[Xs(":enter",[kn({opacity:0,transform:"translateY(100%)"}),Ys("300ms ease-in",kn({opacity:1,transform:"translateY(0)"}))])])]}}),e})();function vCe(t,e){if(1&t&&(O(0,"div",15),z(1),k()),2&t){const n=ti();se(1),ss(" ",n.errorMessage," ")}}function ECe(t,e){1&t&&(O(0,"div",16),z(1," Please enter your email. "),k())}let ICe=(()=>{var t;class e{constructor(r,i,s){this.fb=r,this.authService=i,this.router=s,this.errorMessage=void 0}ngOnInit(){this.loginForm=this.fb.group({email:["",[nr.required,nr.email]],password:["",[nr.required,nr.minLength(6)]]})}onSubmit(){if(!this.loginForm.valid)return;const{email:r,password:i}=this.loginForm.value;try{this.authService.login(r,i).subscribe(()=>{this.errorMessage=void 0,this.router.navigate(["my-tickets"])},s=>{this.errorMessage="Wrong email or password!",console.error("Login failed:",s)})}catch(s){this.errorMessage="Wrong email or password!",console.error("An error occurred during login:",s)}}}return(t=e).\u0275fac=function(r){return new(r||t)(S(tP),S(Bl),S(Zn))},t.\u0275cmp=Pi({type:t,selectors:[["app-login"]],decls:19,vars:4,consts:[[1,"container","mx-auto","mt-20"],[1,"max-w-md","mx-auto","bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"py-4","px-6"],["class","text-red-500 text-sm mt-2 text-center",4,"ngIf"],[1,"text-2xl","font-semibold","text-gray-800","mb-6"],[3,"formGroup"],[1,"mb-4"],["for","email",1,"block","text-gray-700","text-sm","font-medium","mb-2"],["class","text-red-500",4,"ngIf"],["type","email","id","email","name","email","placeholder","Enter your email","formControlName","email",1,"w-full","px-4","py-2","border","rounded-lg","focus:outline-none","focus:ring","focus:border-blue-500"],[1,"mb-6"],["for","password",1,"block","text-gray-700","text-sm","font-medium","mb-2"],["type","password","id","password","name","password","placeholder","Enter your password","formControlName","password",1,"w-full","px-4","py-2","border","rounded-lg","focus:outline-none","focus:ring","focus:border-blue-500"],[1,"text-center"],["type","submit",1,"w-full","bg-blue-500","text-white","py-2","px-4","rounded-lg","hover:bg-blue-600","focus:outline-none","focus:ring","focus:bg-blue-600",3,"click"],[1,"text-red-500","text-sm","mt-2","text-center"],[1,"text-red-500"]],template:function(r,i){if(1&r&&(O(0,"div",0)(1,"div",1)(2,"div",2),qe(3,vCe,2,1,"div",3),O(4,"h2",4),z(5,"Login"),k(),O(6,"form",5)(7,"div",6)(8,"label",7),z(9,"Email"),k(),qe(10,ECe,2,0,"div",8),Nn(11,"input",9),k(),O(12,"div",10)(13,"label",11),z(14,"Password"),k(),Nn(15,"input",12),k(),O(16,"div",13)(17,"button",14),jt("click",function(){return i.onSubmit()}),z(18," Login "),k()()()()()()),2&r){let s;se(1),ve("@slideUp",void 0),se(2),ve("ngIf",i.errorMessage),se(3),ve("formGroup",i.loginForm),se(4),ve("ngIf",(null==(s=i.loginForm.get("email"))?null:s.hasError("required"))&&(null==(s=i.loginForm.get("email"))?null:s.touched))}},dependencies:[_l,fE,jl,rE,iE,Gl,Ep],data:{animation:[yl("slideUp",[Xs(":enter",[kn({opacity:0,transform:"translateY(100%)"}),Ys("300ms ease-in",kn({opacity:1,transform:"translateY(0)"}))])])]}}),e})(),wCe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pi({type:t,selectors:[["app-about"]],decls:8,vars:1,consts:[[1,"container","mx-auto","py-8","text-center"],["src","/assets/images/logo.png","alt","Parking Tickets App Logo","width","200",1,"mx-auto","mb-6"],[1,"text-3xl","font-semibold","mb-4"],[1,"text-gray-600"],[1,"text-gray-600","mt-4"]],template:function(r,i){1&r&&(O(0,"div",0),Nn(1,"img",1),O(2,"h1",2),z(3,"About Parking Tickets App"),k(),O(4,"p",3),z(5," The Parking Tickets App is a user-friendly platform designed to help you manage and track your parking tickets efficiently. Our mission is to simplify the process of handling parking fines and deadlines, providing you with instant notifications and secure data protection. "),k(),O(6,"p",4),z(7," This application is developed using Angular, powered by Firebase, and designed with Tailwind CSS. "),k()()),2&r&&ve("@fadeInOut",void 0)},data:{animation:[yl("fadeInOut",[WC("in",kn({opacity:1})),Xs("void => *",[kn({opacity:0}),Ys(300)]),Xs("* => void",[Ys(300,kn({opacity:0}))])])]}}),e})();var $,Au=function(t){return t.ParkingLocation1="Parking Lot A",t.ParkingLocation2="Parking Garage B",t.ParkingLocation3="Street Parking C",t.ParkingLocation4="Parking Deck D",t.ParkingLocation5="Parking Structure E",t}(Au||{}),TCe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$i={},nP=nP||{},me=TCe||self;function mE(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ip(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var rP="closure_uid_"+(1e9*Math.random()>>>0),CCe=0;function ACe(t,e,n){return t.call.apply(t.bind,arguments)}function DCe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function rr(t,e,n){return(rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ACe:DCe).apply(null,arguments)}function _E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function mn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ra(){this.s=this.s,this.o=this.o}ra.prototype.s=!1,ra.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function bCe(t){Object.prototype.hasOwnProperty.call(t,rP)&&t[rP]||(t[rP]=++CCe)}(this)},ra.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const w5=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function iP(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function T5(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(mE(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ir(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ir.prototype.h=function(){this.defaultPrevented=!0};var xCe=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{me.addEventListener("test",()=>{},e),me.removeEventListener("test",()=>{},e)}catch{}return t}();function wp(t){return/^[\s\xa0]*$/.test(t)}function yE(){var t=me.navigator;return t&&(t=t.userAgent)?t:""}function gs(t){return-1!=yE().indexOf(t)}function sP(t){return sP[" "](t),t}sP[" "]=function(){};var aP,t,PCe=gs("Opera"),ql=gs("Trident")||gs("MSIE"),b5=gs("Edge"),oP=b5||ql,C5=gs("Gecko")&&!(-1!=yE().toLowerCase().indexOf("webkit")&&!gs("Edge"))&&!(gs("Trident")||gs("MSIE"))&&!gs("Edge"),MCe=-1!=yE().toLowerCase().indexOf("webkit")&&!gs("Edge");function A5(){var t=me.document;return t?t.documentMode:void 0}e:{var uP="",cP=(t=yE(),C5?/rv:([^\);]+)(\)|;)/.exec(t):b5?/Edge\/([\d\.]+)/.exec(t):ql?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):MCe?/WebKit\/(\S+)/.exec(t):PCe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(cP&&(uP=cP?cP[1]:""),ql){var lP=A5();if(null!=lP&&lP>parseFloat(uP)){aP=String(lP);break e}}aP=uP}var NCe=me.document&&ql&&(A5()||parseInt(aP,10))||void 0;function Tp(t,e){if(ir.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(C5){e:{try{sP(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:kCe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Tp.$.h.call(this)}}mn(Tp,ir);var kCe={2:"touch",3:"pen",4:"mouse"};Tp.prototype.h=function(){Tp.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var bp="closure_listenable_"+(1e6*Math.random()|0),OCe=0;function FCe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++OCe,this.fa=this.ia=!1}function vE(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function hP(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function S5(t){const e={};for(const n in t)e[n]=t[n];return e}const x5="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R5(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<x5.length;s++)n=x5[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function EE(t){this.src=t,this.g={},this.h=0}function fP(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=w5(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(vE(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function pP(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}EE.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=pP(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new FCe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var gP="closure_lm_"+(1e6*Math.random()|0),mP={};function P5(t,e,n,r,i){if(r&&r.once)return N5(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)P5(t,e[s],n,r,i);return null}return n=EP(n),t&&t[bp]?t.O(e,n,Ip(r)?!!r.capture:!!r,i):M5(t,e,n,!1,r,i)}function M5(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ip(i)?!!i.capture:!!i,a=yP(t);if(a||(t[gP]=a=new EE(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function LCe(){const e=UCe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)xCe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(O5(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function N5(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)N5(t,e[s],n,r,i);return null}return n=EP(n),t&&t[bp]?t.P(e,n,Ip(r)?!!r.capture:!!r,i):M5(t,e,n,!0,r,i)}function k5(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)k5(t,e[s],n,r,i);else r=Ip(r)?!!r.capture:!!r,n=EP(n),t&&t[bp]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=pP(s=t.g[e],n,r,i))&&(vE(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=yP(t))&&(e=t.g[e.toString()],t=-1,e&&(t=pP(e,n,r,i)),(n=-1<t?e[t]:null)&&_P(n))}function _P(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[bp])fP(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(O5(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yP(e))?(fP(n,t),0==n.h&&(n.src=null,e[gP]=null)):vE(t)}}}function O5(t){return t in mP?mP[t]:mP[t]="on"+t}function UCe(t,e){if(t.fa)t=!0;else{e=new Tp(e,this);var n=t.listener,r=t.la||t.src;t.ia&&_P(t),t=n.call(r,e)}return t}function yP(t){return(t=t[gP])instanceof EE?t:null}var vP="__closure_events_fn_"+(1e9*Math.random()>>>0);function EP(t){return"function"==typeof t?t:(t[vP]||(t[vP]=function(e){return t.handleEvent(e)}),t[vP])}function _n(){ra.call(this),this.i=new EE(this),this.S=this,this.J=null}function Un(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new ir(e,t);else if(e instanceof ir)e.target=e.target||t;else{var i=e;R5(e=new ir(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=IE(o,r,!0,e)&&i}if(i=IE(o=e.g=t,r,!0,e)&&i,i=IE(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=IE(o=e.g=n[s],r,!1,e)&&i}function IE(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&fP(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}mn(_n,ra),_n.prototype[bp]=!0,_n.prototype.removeEventListener=function(t,e,n,r){k5(this,t,e,n,r)},_n.prototype.N=function(){if(_n.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vE(n[r]);delete t.g[e],t.h--}}this.J=null},_n.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},_n.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var IP=me.JSON.stringify;function jCe(){var t=wP;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var F5=new class BCe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new GCe,t=>t.reset());class GCe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function qCe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function zCe(t){me.setTimeout(()=>{throw t},0)}let Cp,Ap=!1,wP=new class $Ce{constructor(){this.h=this.g=null}add(e,n){const r=F5.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},V5=()=>{const t=me.Promise.resolve(void 0);Cp=()=>{t.then(HCe)}};var HCe=()=>{for(var t;t=jCe();){try{t.h.call(t.g)}catch(n){zCe(n)}var e=F5;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ap=!1};function wE(t,e){_n.call(this),this.h=t||1,this.g=e||me,this.j=rr(this.qb,this),this.l=Date.now()}function TP(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function bP(t,e,n){if("function"==typeof t)n&&(t=rr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=rr(t.handleEvent,t)}return 2147483647<Number(e)?-1:me.setTimeout(t,e||0)}function L5(t){t.g=bP(()=>{t.g=null,t.i&&(t.i=!1,L5(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}mn(wE,_n),($=wE.prototype).ga=!1,$.T=null,$.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Un(this,"tick"),this.ga&&(TP(this),this.start()))}},$.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$.N=function(){wE.$.N.call(this),TP(this),delete this.g};class WCe extends ra{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:L5(this)}N(){super.N(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dp(t){ra.call(this),this.h=t,this.g={}}mn(Dp,ra);var U5=[];function B5(t,e,n,r){Array.isArray(n)||(n&&(U5[0]=n.toString()),n=U5);for(var i=0;i<n.length;i++){var s=P5(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function j5(t){hP(t.g,function(e,n){this.g.hasOwnProperty(n)&&_P(e)},t),t.g={}}function TE(){this.g=!0}function zl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function XCe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return IP(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Dp.prototype.N=function(){Dp.$.N.call(this),j5(this)},Dp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},TE.prototype.Ea=function(){this.g=!1},TE.prototype.info=function(){};var Du={},$5=null;function bE(){return $5=$5||new _n}function G5(t){ir.call(this,Du.Ta,t)}function Sp(t){const e=bE();Un(e,new G5(e))}function q5(t,e){ir.call(this,Du.STAT_EVENT,t),this.stat=e}function Sr(t){const e=bE();Un(e,new q5(e,t))}function z5(t,e){ir.call(this,Du.Ua,t),this.size=e}function xp(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){t()},e)}Du.Ta="serverreachability",mn(G5,ir),Du.STAT_EVENT="statevent",mn(q5,ir),Du.Ua="timingevent",mn(z5,ir);var CE={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},H5={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function CP(){}function K5(){}CP.prototype.h=null;var SP,Rp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function AP(){ir.call(this,"d")}function DP(){ir.call(this,"c")}function AE(){}function Pp(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Dp(this),this.P=JCe,this.V=new wE(t=oP?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Q5}function Q5(){this.i=null,this.g="",this.h=!1}mn(AP,ir),mn(DP,ir),mn(AE,CP),AE.prototype.g=function(){return new XMLHttpRequest},AE.prototype.i=function(){return{}},SP=new AE;var JCe=45e3,xP={},DE={};function RP(t,e,n){t.L=1,t.v=PE(co(e)),t.s=n,t.S=!0,Y5(t,null)}function Y5(t,e){t.G=Date.now(),Mp(t),t.A=co(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),o6(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Q5,t.g=R6(t.l,n?e:null,!t.s),0<t.O&&(t.M=new WCe(rr(t.Pa,t,t.g),t.O)),B5(t.U,t.g,"readystatechange",t.nb),e=t.I?S5(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Sp(),function KCe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function X5(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function J5(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=ZCe(t,n),i==DE){4==e&&(t.o=4,Sr(14),r=!1),zl(t.j,t.m,null,"[Incomplete Response]");break}if(i==xP){t.o=4,Sr(15),zl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}zl(t.j,t.m,i,null),PP(t,i)}X5(t)&&i!=DE&&i!=xP&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Sr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),LP(e),e.M=!0,Sr(11))):(zl(t.j,t.m,n,"[Invalid Chunked Response]"),Su(t),Np(t))}function ZCe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?DE:(n=Number(e.substring(n,r)),isNaN(n)?xP:(r+=1)+n>e.length?DE:(e=e.slice(r,r+n),t.C=r+n,e))}function Mp(t){t.Y=Date.now()+t.P,Z5(t,t.P)}function Z5(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=xp(rr(t.lb,t),e)}function SE(t){t.B&&(me.clearTimeout(t.B),t.B=null)}function Np(t){0==t.l.H||t.J||A6(t.l,t)}function Su(t){SE(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,TP(t.V),j5(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function PP(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||MP(n.i,t)))if(!t.K&&MP(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;VE(n),OE(n)}VP(n),Sr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=xp(rr(n.ib,n),6e3));if(1>=c6(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ru(n,11)}else if((t.K||n.g==t)&&VE(n),!wp(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(NP(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,lt(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=x6(r,r.J?r.pa:null,r.Y),o.K){l6(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(SE(a),Mp(a)),r.g=o}else b6(r);0<n.j.length&&FE(n)}else"stop"!=c[0]&&"close"!=c[0]||Ru(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ru(n,7):FP(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Sp()}catch{}}function e6(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(mE(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function tAe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(mE(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function eAe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(mE(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}($=Pp.prototype).setTimeout=function(t){this.P=t},$.nb=function(t){t=t.target;const e=this.M;e&&3==ms(t)?e.l():this.Pa(t)},$.Pa=function(t){try{if(t==this.g)e:{const l=ms(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||oP||this.g&&(this.h.h||this.g.ja()||y6(this.g)))){this.J||4!=l||7==e||Sp(),SE(this);var n=this.g.da();this.ca=n;t:if(X5(this)){var r=y6(this.g);t="";var i=r.length,s=4==ms(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Su(this),Np(this);var o="";break t}this.h.i=new me.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function QCe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wp(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Sr(12),Su(this),Np(this);break e}zl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,PP(this,n)}this.S?(J5(this,l,o),oP&&this.i&&3==l&&(B5(this.U,this.V,"tick",this.mb),this.V.start())):(zl(this.j,this.m,o,null),PP(this,o)),4==l&&Su(this),this.i&&!this.J&&(4==l?A6(this.l,this):(this.i=!1,Mp(this)))}else(function vAe(t){const e={};t=(t.g&&2<=ms(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(wp(t[r]))continue;var n=qCe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function VCe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Sr(12)):(this.o=0,Sr(13)),Su(this),Np(this)}}}catch{}},$.mb=function(){if(this.g){var t=ms(this.g),e=this.g.ja();this.C<e.length&&(SE(this),J5(this,t,e),this.i&&4!=t&&Mp(this))}},$.cancel=function(){this.J=!0,Su(this)},$.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function YCe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Sp(),Sr(17)),Su(this),this.o=2,Np(this)):Z5(this,this.Y-t)};var t6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xu(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof xu){this.h=t.h,xE(this,t.j),this.s=t.s,this.g=t.g,RE(this,t.m),this.l=t.l;var e=t.i,n=new Fp;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),n6(this,n),this.o=t.o}else t&&(e=String(t).match(t6))?(this.h=!1,xE(this,e[1]||"",!0),this.s=kp(e[2]||""),this.g=kp(e[3]||"",!0),RE(this,e[4]),this.l=kp(e[5]||"",!0),n6(this,e[6]||"",!0),this.o=kp(e[7]||"")):(this.h=!1,this.i=new Fp(null,this.h))}function co(t){return new xu(t)}function xE(t,e,n){t.j=n?kp(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function RE(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function n6(t,e,n){e instanceof Fp?(t.i=e,function uAe(t,e){e&&!t.j&&(ia(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(i6(this,r),o6(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Op(e,oAe)),t.i=new Fp(e,t.h))}function lt(t,e,n){t.i.set(e,n)}function PE(t){return lt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function kp(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Op(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,rAe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rAe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}xu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Op(e,r6,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Op(e,r6,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Op(n,"/"==n.charAt(0)?sAe:iAe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Op(n,aAe)),t.join("")};var r6=/[#\/\?@]/g,iAe=/[#\?:]/g,sAe=/[#\?]/g,oAe=/[#\?@]/g,aAe=/#/g;function Fp(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ia(t){t.g||(t.g=new Map,t.h=0,t.i&&function nAe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function i6(t,e){ia(t),e=Hl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function s6(t,e){return ia(t),e=Hl(t,e),t.g.has(e)}function o6(t,e,n){i6(t,e),0<n.length&&(t.i=null,t.g.set(Hl(t,e),iP(n)),t.h+=n.length)}function Hl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function a6(t){this.l=t||lAe,t=me.PerformanceNavigationTiming?0<(t=me.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(me.g&&me.g.Ka&&me.g.Ka()&&me.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($=Fp.prototype).add=function(t,e){ia(this),this.i=null,t=Hl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},$.forEach=function(t,e){ia(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},$.ta=function(){ia(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},$.Z=function(t){ia(this);let e=[];if("string"==typeof t)s6(this,t)&&(e=e.concat(this.g.get(Hl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},$.set=function(t,e){return ia(this),this.i=null,s6(this,t=Hl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},$.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},$.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var lAe=10;function u6(t){return!!t.h||!!t.g&&t.g.size>=t.j}function c6(t){return t.h?1:t.g?t.g.size:0}function MP(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function NP(t,e){t.g?t.g.add(e):t.h=e}function l6(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function d6(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return iP(t.i)}a6.prototype.cancel=function(){if(this.i=d6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var dAe=class{stringify(t){return me.JSON.stringify(t,void 0)}parse(t){return me.JSON.parse(t,void 0)}};function hAe(){this.g=new dAe}function fAe(t,e,n){const r=n||"";try{e6(t,function(i,s){let o=i;Ip(i)&&(o=IP(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ME(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Vp(t){this.l=t.ec||null,this.j=t.ob||!1}function NE(t,e){_n.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=kP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mn(Vp,CP),Vp.prototype.g=function(){return new NE(this.l,this.j)},Vp.prototype.i=function(t){return function(){return t}}({}),mn(NE,_n);var kP=0;function h6(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Lp(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Up(t)}function Up(t){t.onreadystatechange&&t.onreadystatechange.call(t)}($=NE.prototype).open=function(t,e){if(this.readyState!=kP)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Up(this)},$.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},$.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lp(this)),this.readyState=kP},$.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Up(this)),this.g&&(this.readyState=3,Up(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;h6(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},$.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Lp(this):Up(this),3==this.readyState&&h6(this)}},$.Za=function(t){this.g&&(this.response=this.responseText=t,Lp(this))},$.Ya=function(t){this.g&&(this.response=t,Lp(this))},$.ka=function(){this.g&&Lp(this)},$.setRequestHeader=function(t,e){this.v.append(t,e)},$.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},$.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(NE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var gAe=me.JSON.parse;function Nt(t){_n.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=f6,this.L=this.M=!1}mn(Nt,_n);var f6="",mAe=/^https?$/i,_Ae=["POST","PUT"];function p6(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,g6(t),kE(t)}function g6(t){t.F||(t.F=!0,Un(t,"complete"),Un(t,"error"))}function m6(t){if(t.h&&typeof nP<"u"&&(!t.C[1]||4!=ms(t)||2!=t.da()))if(t.v&&4==ms(t))bP(t.La,0,t);else if(Un(t,"readystatechange"),4==ms(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(t6)[1]||null;!i&&me.self&&me.self.location&&(i=me.self.location.protocol.slice(0,-1)),r=!mAe.test(i?i.toLowerCase():"")}n=r}if(n)Un(t,"complete"),Un(t,"success");else{t.m=6;try{var s=2<ms(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",g6(t)}}finally{kE(t)}}}function kE(t,e){if(t.g){_6(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Un(t,"ready");try{n.onreadystatechange=r}catch{}}}function _6(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(me.clearTimeout(t.A),t.A=null)}function ms(t){return t.g?t.g.readyState:0}function y6(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case f6:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function v6(t){let e="";return hP(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function OP(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=v6(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):lt(t,e,n))}function Bp(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function E6(t){this.Ga=0,this.j=[],this.l=new TE,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Bp("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Bp("baseRetryDelayMs",5e3,t),this.hb=Bp("retryDelaySeedMs",1e4,t),this.eb=Bp("forwardChannelMaxRetries",2,t),this.xa=Bp("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new a6(t&&t.concurrentRequestLimit),this.Ja=new hAe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function FP(t){if(I6(t),3==t.H){var e=t.W++,n=co(t.I);if(lt(n,"SID",t.K),lt(n,"RID",e),lt(n,"TYPE","terminate"),jp(t,n),(e=new Pp(t,t.l,e)).L=2,e.v=PE(co(n)),n=!1,me.navigator&&me.navigator.sendBeacon)try{n=me.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&me.Image&&((new Image).src=e.v,n=!0),n||(e.g=R6(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Mp(e)}S6(t)}function OE(t){t.g&&(LP(t),t.g.cancel(),t.g=null)}function I6(t){OE(t),t.u&&(me.clearTimeout(t.u),t.u=null),VE(t),t.i.cancel(),t.m&&("number"==typeof t.m&&me.clearTimeout(t.m),t.m=null)}function FE(t){if(!u6(t.i)&&!t.m){t.m=!0;var e=t.Na;Cp||V5(),Ap||(Cp(),Ap=!0),wP.add(e,t),t.C=0}}function w6(t,e){var n;n=e?e.m:t.W++;const r=co(t.I);lt(r,"SID",t.K),lt(r,"RID",n),lt(r,"AID",t.V),jp(t,r),t.o&&t.s&&OP(r,t.o,t.s),n=new Pp(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=T6(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),NP(t.i,n),RP(n,r,e)}function jp(t,e){t.na&&hP(t.na,function(n,r){lt(e,r,n)}),t.h&&e6({},function(n,r){lt(e,r,n)})}function T6(t,e,n){n=Math.min(t.j.length,n);var r=t.h?rr(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{fAe(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function b6(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Cp||V5(),Ap||(Cp(),Ap=!0),wP.add(e,t),t.A=0}}function VP(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=xp(rr(t.Ma,t),D6(t,t.A)),t.A++,0))}function LP(t){null!=t.B&&(me.clearTimeout(t.B),t.B=null)}function C6(t){t.g=new Pp(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=co(t.wa);lt(e,"RID","rpc"),lt(e,"SID",t.K),lt(e,"AID",t.V),lt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&lt(e,"TO",t.qa),lt(e,"TYPE","xmlhttp"),jp(t,e),t.o&&t.s&&OP(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=PE(co(e)),n.s=null,n.S=!0,Y5(n,t)}function VE(t){null!=t.v&&(me.clearTimeout(t.v),t.v=null)}function A6(t,e){var n=null;if(t.g==e){VE(t),LP(t),t.g=null;var r=2}else{if(!MP(t.i,e))return;n=e.F,l6(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Un(r=bE(),new z5(r,n)),FE(t)}else b6(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function EAe(t,e){return!(c6(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=xp(rr(t.Na,t,e),D6(t,t.C)),t.C++,0)))}(t,e)||2==r&&VP(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ru(t,5);break;case 4:Ru(t,10);break;case 3:Ru(t,6);break;default:Ru(t,2)}}function D6(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ru(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=rr(t.pb,t);n||(n=new xu("//www.google.com/images/cleardot.gif"),me.location&&"http"==me.location.protocol||xE(n,"https"),PE(n)),function pAe(t,e){const n=new TE;if(me.Image){const r=new Image;r.onload=_E(ME,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_E(ME,n,r,"TestLoadImage: error",!1,e),r.onabort=_E(ME,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_E(ME,n,r,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Sr(2);t.H=0,t.h&&t.h.za(e),S6(t),I6(t)}function S6(t){if(t.H=0,t.ma=[],t.h){const e=d6(t.i);(0!=e.length||0!=t.j.length)&&(T5(t.ma,e),T5(t.ma,t.j),t.i.i.length=0,iP(t.j),t.j.length=0),t.h.ya()}}function x6(t,e,n){var r=n instanceof xu?co(n):new xu(n);if(""!=r.g)e&&(r.g=e+"."+r.g),RE(r,r.m);else{var i=me.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new xu(null);r&&xE(s,r),e&&(s.g=e),i&&RE(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&lt(r,n,e),lt(r,"VER",t.ra),jp(t,r),r}function R6(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nt(n&&t.Ha&&!t.va?new Vp({ob:!0}):t.va)).Oa(t.J),e}function P6(){}function LE(){if(ql&&!(10<=Number(NCe)))throw Error("Environmental error: no available transport.")}function oi(t,e){_n.call(this),this.g=new E6(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!wp(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wp(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Wl(this)}function M6(t){AP.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function N6(){DP.call(this),this.status=1}function Wl(t){this.g=t}function Gi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function UP(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ke(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}($=Nt.prototype).Oa=function(t){this.M=t},$.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():SP.g(),this.C=function W5(t){return t.h||(t.h=t.i())}(this.u?this.u:SP),this.g.onreadystatechange=rr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void p6(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=me.FormData&&t instanceof me.FormData,!(0<=w5(_Ae,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_6(this),0<this.B&&((this.L=function yAe(t){return ql&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rr(this.ua,this)):this.A=bP(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){p6(this,s)}},$.ua=function(){typeof nP<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Un(this,"timeout"),this.abort(8))},$.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Un(this,"complete"),Un(this,"abort"),kE(this))},$.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kE(this,!0)),Nt.$.N.call(this)},$.La=function(){this.s||(this.G||this.v||this.l?m6(this):this.kb())},$.kb=function(){m6(this)},$.isActive=function(){return!!this.g},$.da=function(){try{return 2<ms(this)?this.g.status:-1}catch{return-1}},$.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},$.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),gAe(e)}},$.Ia=function(){return this.m},$.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},($=E6.prototype).ra=8,$.H=1,$.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Pp(this,this.l,t);let s=this.s;if(this.U&&(s?(s=S5(s),R5(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=T6(this,i,e),lt(n=co(this.I),"RID",t),lt(n,"CVER",22),this.F&&lt(n,"X-HTTP-Session-Id",this.F),jp(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(v6(s)))+"&"+e:this.o&&OP(n,this.o,s)),NP(this.i,i),this.bb&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",e),lt(n,"SID","null"),i.aa=!0,RP(i,n,null)):RP(i,n,e),this.H=2}}else 3==this.H&&(t?w6(this,t):0==this.j.length||u6(this.i)||w6(this))},$.Ma=function(){if(this.u=null,C6(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=xp(rr(this.jb,this),t)}},$.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Sr(10),OE(this),C6(this))},$.ib=function(){null!=this.v&&(this.v=null,OE(this),VP(this),Sr(19))},$.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Sr(2)):(this.l.info("Failed to ping google.com"),Sr(1))},$.isActive=function(){return!!this.h&&this.h.isActive(this)},($=P6.prototype).Ba=function(){},$.Aa=function(){},$.za=function(){},$.ya=function(){},$.isActive=function(){return!0},$.Va=function(){},LE.prototype.g=function(t,e){return new oi(t,e)},mn(oi,_n),oi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Sr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=x6(t,null,t.Y),FE(t)},oi.prototype.close=function(){FP(this.g)},oi.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=IP(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&FE(e)},oi.prototype.N=function(){this.g.h=null,delete this.j,FP(this.g),delete this.g,oi.$.N.call(this)},mn(M6,AP),mn(N6,DP),mn(Wl,P6),Wl.prototype.Ba=function(){Un(this.g,"a")},Wl.prototype.Aa=function(t){Un(this.g,new M6(t))},Wl.prototype.za=function(t){Un(this.g,new N6)},Wl.prototype.ya=function(){Un(this.g,"b")},mn(Gi,function IAe(){this.blockSize=-1}),Gi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Gi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)UP(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){UP(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){UP(this,r),i=0;break}}this.h=i,this.i+=e},Gi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var wAe={};function BP(t){return-128<=t&&128>t?function RCe(t,e){var n=wAe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ke([0|e],0>e?-1:0)}):new Ke([0|t],0>t?-1:0)}function _s(t){if(isNaN(t)||!isFinite(t))return Kl;if(0>t)return Bn(_s(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=jP;return new Ke(e,0)}var jP=4294967296,Kl=BP(0),$P=BP(1),O6=BP(16777216);function lo(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Ci(t){return-1==t.h}function Bn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ke(n,~t.h).add($P)}function UE(t,e){return t.add(Bn(e))}function BE(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function $p(t,e){this.g=t,this.h=e}function jE(t,e){if(lo(e))throw Error("division by zero");if(lo(t))return new $p(Kl,Kl);if(Ci(t))return e=jE(Bn(t),e),new $p(Bn(e.g),Bn(e.h));if(Ci(e))return e=jE(t,Bn(e)),new $p(Bn(e.g),e.h);if(30<t.g.length){if(Ci(t)||Ci(e))throw Error("slowDivide_ only works with positive integers.");for(var n=$P,r=e;0>=r.X(t);)n=F6(n),r=F6(r);var i=Ql(n,1),s=Ql(r,1);for(r=Ql(r,2),n=Ql(n,2);!lo(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ql(r,1),n=Ql(n,1)}return e=UE(t,i.R(e)),new $p(i,e)}for(i=Kl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=_s(n)).R(e);Ci(o)||0<o.X(t);)o=(s=_s(n-=r)).R(e);lo(s)&&(s=$P),i=i.add(s),t=UE(t,o)}return new $p(i,t)}function F6(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ke(n,t.h)}function Ql(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ke(i,t.h)}($=Ke.prototype).ea=function(){if(Ci(this))return-Bn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:jP+r)*e,e*=jP}return t},$.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(lo(this))return"0";if(Ci(this))return"-"+Bn(this).toString(t);for(var e=_s(Math.pow(t,6)),n=this,r="";;){var i=jE(n,e).g,s=((0<(n=UE(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(lo(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},$.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},$.X=function(t){return Ci(t=UE(this,t))?-1:lo(t)?0:1},$.abs=function(){return Ci(this)?Bn(this):this},$.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ke(n,-2147483648&n[n.length-1]?-1:0)},$.R=function(t){if(lo(this)||lo(t))return Kl;if(Ci(this))return Ci(t)?Bn(this).R(Bn(t)):Bn(Bn(this).R(t));if(Ci(t))return Bn(this.R(Bn(t)));if(0>this.X(O6)&&0>t.X(O6))return _s(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,BE(n,2*r+2*i),n[2*r+2*i+1]+=s*u,BE(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,BE(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,BE(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ke(n,0)},$.gb=function(t){return jE(this,t).h},$.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ke(n,this.h&t.h)},$.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ke(n,this.h|t.h)},$.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ke(n,this.h^t.h)},LE.prototype.createWebChannel=LE.prototype.g,oi.prototype.send=oi.prototype.u,oi.prototype.open=oi.prototype.m,oi.prototype.close=oi.prototype.close,CE.NO_ERROR=0,CE.TIMEOUT=8,CE.HTTP_ERROR=6,H5.COMPLETE="complete",K5.EventType=Rp,Rp.OPEN="a",Rp.CLOSE="b",Rp.ERROR="c",Rp.MESSAGE="d",_n.prototype.listen=_n.prototype.O,Nt.prototype.listenOnce=Nt.prototype.P,Nt.prototype.getLastError=Nt.prototype.Sa,Nt.prototype.getLastErrorCode=Nt.prototype.Ia,Nt.prototype.getStatus=Nt.prototype.da,Nt.prototype.getResponseJson=Nt.prototype.Wa,Nt.prototype.getResponseText=Nt.prototype.ja,Nt.prototype.send=Nt.prototype.ha,Nt.prototype.setWithCredentials=Nt.prototype.Oa,Gi.prototype.digest=Gi.prototype.l,Gi.prototype.reset=Gi.prototype.reset,Gi.prototype.update=Gi.prototype.j,Ke.prototype.add=Ke.prototype.add,Ke.prototype.multiply=Ke.prototype.R,Ke.prototype.modulo=Ke.prototype.gb,Ke.prototype.compare=Ke.prototype.X,Ke.prototype.toNumber=Ke.prototype.ea,Ke.prototype.toString=Ke.prototype.toString,Ke.prototype.getBits=Ke.prototype.D,Ke.fromNumber=_s,Ke.fromString=function k6(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Bn(k6(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=_s(Math.pow(e,8)),r=Kl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=_s(Math.pow(e,s)),r=r.R(s).add(_s(o))):r=(r=r.R(n)).add(_s(o))}return r};var TAe=$i.createWebChannelTransport=function(){return new LE},bAe=$i.getStatEventTarget=function(){return bE()},GP=$i.ErrorCode=CE,CAe=$i.EventType=H5,AAe=$i.Event=Du,V6=$i.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$E=($i.FetchXmlHttpFactory=Vp,$i.WebChannel=K5),DAe=$i.XhrIo=Nt,SAe=$i.Md5=Gi,Yl=$i.Integer=Ke;const L6="@firebase/firestore";class yn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let Xl="10.4.0";const sa=new du("@firebase/firestore");function Jl(){return sa.logLevel}function P(t,...e){if(sa.logLevel<=Ce.DEBUG){const n=e.map(qP);sa.debug(`Firestore (${Xl}): ${t}`,...n)}}function qt(t,...e){if(sa.logLevel<=Ce.ERROR){const n=e.map(qP);sa.error(`Firestore (${Xl}): ${t}`,...n)}}function ai(t,...e){if(sa.logLevel<=Ce.WARN){const n=e.map(qP);sa.warn(`Firestore (${Xl}): ${t}`,...n)}}function qP(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function W(t="Unexpected state"){const e=`FIRESTORE (${Xl}) INTERNAL ASSERTION FAILED: `+t;throw qt(e),new Error(e)}function Z(t,e){t||W()}function L(t,e){return t}const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class x extends si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class U6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xAe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yn.UNAUTHENTICATED))}shutdown(){}}class PAe{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new cn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new cn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(_(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new cn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Z("string"==typeof r.accessToken),new U6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Z(null===e||"string"==typeof e),new yn(e)}}class MAe{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class NAe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new MAe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kAe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{null!=s.error&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,P("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Z("string"==typeof n.token),this.R=n.token,new B6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function OAe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class j6{static V(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=OAe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Zl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new x(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new x(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new x(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new vt(0,0))}static max(){return new te(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Gp{constructor(e,n,r){void 0===n?n=0:n>e.length&&W(),void 0===r?r=e.length-n:r>e.length-n&&W(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Gp.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ne extends Gp{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new x(T.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const FAe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends Gp{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return FAe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new x(T.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new x(T.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new x(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new x(T.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}class U{constructor(e){this.path=e}static fromPath(e){return new U(Ne.fromString(e))}static fromName(e){return new U(Ne.fromString(e).popFirst(5))}static empty(){return new U(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ne.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new U(new Ne(e.slice()))}}function q6(t){return new ui(t.readTime,t.key,-1)}class ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ui(te.min(),U.empty(),-1)}static max(){return new ui(te.max(),U.empty(),-1)}}function HP(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=U.comparator(t.documentKey,e.documentKey),0!==n?n:he(t.largestBatchId,e.largestBatchId))}const z6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UAe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function oa(t){return WP.apply(this,arguments)}function WP(){return WP=_(function*(t){if(t.code!==T.FAILED_PRECONDITION||t.message!==z6)throw t;P("LocalStore","Unexpectedly lost primary lease")}),WP.apply(this,arguments)}class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new I((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof I?n:I.resolve(n)}catch(n){return I.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):I.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):I.reject(n)}static resolve(e){return new I((n,r)=>{n(e)})}static reject(e){return new I((n,r)=>{r(e)})}static waitFor(e){return new I((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=I.resolve(!1);for(const r of e)n=n.next(i=>i?I.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new I((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new I((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function aa(t){return"IndexedDbTransactionError"===t.name}let ci=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this._e&&this._e(n),n}}return t.ae=-1,t})();function zp(t){return null==t}function Hp(t){return 0===t&&1/t==-1/0}function eH(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ua(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ot{constructor(e,n){this.comparator=e,this.root=n||jn.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zE(this.root,e,this.comparator,!1)}getReverseIterator(){return new zE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zE(this.root,e,this.comparator,!0)}}class zE{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jn.RED,this.left=i??jn.EMPTY,this.right=s??jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return jn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();const e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1,jn.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,n,r,i,s){return this}insert(e,n,r){return new jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class at{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nH(this.data.getIterator())}getIteratorFrom(e){return new nH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new at(this.comparator);return n.data=e,n}}class nH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gr{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new Gr([])}unionWith(e){let n=new at(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class rH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new rH("Invalid base64 string: "+s):s}}(e);return new ln(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const uDe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(t){if(Z(!!t),"string"==typeof t){let e=0;const n=uDe.exec(t);if(Z(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(t.seconds),nanos:Ot(t.nanos)}}function Ot(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ho(t){return"string"==typeof t?ln.fromBase64String(t):ln.fromUint8Array(t)}function HE(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function WE(t){const e=t.mapValue.fields.__previous_value__;return HE(e)?WE(e):e}function Wp(t){const e=ca(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}class cDe{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ku{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ku("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ku&&e.projectId===this.projectId&&e.database===this.database}}const la={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function da(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?HE(t)?4:aH(t)?9007199254740991:10:W()}function vs(t,e){if(t===e)return!0;const n=da(t);if(n!==da(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wp(t).isEqual(Wp(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ca(i.timestampValue),a=ca(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return s=e,ho(t.bytesValue).isEqual(ho(s.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ot(i.geoPointValue.latitude)===Ot(s.geoPointValue.latitude)&&Ot(i.geoPointValue.longitude)===Ot(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ot(i.integerValue)===Ot(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ot(i.doubleValue),a=Ot(s.doubleValue);return o===a?Hp(o)===Hp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Zl(t.arrayValue.values||[],e.arrayValue.values||[],vs);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(eH(o)!==eH(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!vs(o[u],a[u])))return!1;return!0}(t,e);default:return W()}var s}function Kp(t,e){return void 0!==(t.values||[]).find(n=>vs(n,e))}function ha(t,e){if(t===e)return 0;const n=da(t),r=da(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ot(s.integerValue||s.doubleValue),u=Ot(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return iH(t.timestampValue,e.timestampValue);case 4:return iH(Wp(t),Wp(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ho(s),u=ho(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const l=he(a[c],u[c]);if(0!==l)return l}return he(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=he(Ot(s.latitude),Ot(o.latitude));return 0!==a?a:he(Ot(s.longitude),Ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){const l=ha(a[c],u[c]);if(l)return l}return he(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===la.mapValue&&o===la.mapValue)return 0;if(s===la.mapValue)return 1;if(o===la.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){const h=he(u[d],l[d]);if(0!==h)return h;const f=ha(a[u[d]],c[l[d]]);if(0!==f)return f}return he(u.length,l.length)}(t.mapValue,e.mapValue);default:throw W()}}function iH(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return he(t,e);const n=ca(t),r=ca(e),i=he(n.seconds,r.seconds);return 0!==i?i:he(n.nanos,r.nanos)}function rd(t){return YP(t)}function YP(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ca(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ho(t.bytesValue).toBase64():"referenceValue"in t?U.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=YP(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${YP(n.fields[o])}`;return i+"}"}(t.mapValue):W()}function Ou(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function XP(t){return!!t&&"integerValue"in t}function Qp(t){return!!t&&"arrayValue"in t}function sH(t){return!!t&&"nullValue"in t}function oH(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function YE(t){return!!t&&"mapValue"in t}function Yp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ua(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Yp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function aH(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!YE(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yp(n)}setAll(e){let n=kt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Yp(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());YE(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];YE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ua(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new $n(Yp(this.value))}}function lH(t){const e=[];return ua(t.fields,(n,r)=>{const i=new kt([n]);if(YE(r)){const s=lH(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Gr(e)}class dt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new dt(e,0,te.min(),te.min(),te.min(),$n.empty(),0)}static newFoundDocument(e,n,r,i){return new dt(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new dt(e,2,n,te.min(),te.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new dt(e,3,n,te.min(),te.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fa{constructor(e,n){this.position=e,this.inclusive=n}}function dH(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?U.comparator(U.fromName(o.referenceValue),n.key):ha(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function hH(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vs(t.position[n],e.position[n]))return!1;return!0}class id{constructor(e,n="asc"){this.field=e,this.dir=n}}function hDe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class fH{}class Se extends fH{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new fDe(e,n,r):"array-contains"===n?new mDe(e,r):"in"===n?new vH(e,r):"not-in"===n?new _De(e,r):"array-contains-any"===n?new yDe(e,r):new Se(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new pDe(e,r):new gDe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ha(n,this.value)):null!==n&&da(this.value)===da(n)&&this.matchesComparison(ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Qe extends fH{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Qe(e,n)}matches(e){return sd(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return null!==e?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function sd(t){return"and"===t.op}function ZP(t){return function pH(t){for(const e of t.filters)if(e instanceof Qe)return!1;return!0}(t)&&sd(t)}function eM(t){if(t instanceof Se)return t.field.canonicalString()+t.op.toString()+rd(t.value);if(ZP(t))return t.filters.map(e=>eM(e)).join(",");{const e=t.filters.map(n=>eM(n)).join(",");return`${t.op}(${e})`}}function gH(t,e){return t instanceof Se?(r=t,(i=e)instanceof Se&&r.op===i.op&&r.field.isEqual(i.field)&&vs(r.value,i.value)):t instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&gH(o,i.filters[a]),!0)}(t,e):void W();var r,i}function _H(t){return t instanceof Se?`${(n=t).field.canonicalString()} ${n.op} ${rd(n.value)}`:t instanceof Qe?function(n){return n.op.toString()+" {"+n.getFilters().map(_H).join(" ,")+"}"}(t):"Filter";var n}class fDe extends Se{constructor(e,n,r){super(e,n,r),this.key=U.fromName(r.referenceValue)}matches(e){const n=U.comparator(e.key,this.key);return this.matchesComparison(n)}}class pDe extends Se{constructor(e,n){super(e,"in",n),this.keys=yH(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gDe extends Se{constructor(e,n){super(e,"not-in",n),this.keys=yH(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yH(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>U.fromName(r.referenceValue))}class mDe extends Se{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qp(n)&&Kp(n.arrayValue,this.value)}}class vH extends Se{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Kp(this.value.arrayValue,n)}}class _De extends Se{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Kp(this.value.arrayValue,n)}}class yDe extends Se{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Kp(this.value.arrayValue,r))}}class vDe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function tM(t,e=null,n=[],r=[],i=null,s=null,o=null){return new vDe(t,e,n,r,i,s,o)}function Fu(t){const e=L(t);if(null===e.he){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>eM(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),zp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rd(r)).join(",")),e.he=n}return e.he}function Xp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hDe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gH(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hH(t.startAt,e.startAt)&&hH(t.endAt,e.endAt)}function XE(t){return U.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class fo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Pe=null,this.Ie=null,this.de=null}}function od(t){return new fo(t)}function TH(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function nM(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ZE(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function rM(t){return null!==t.collectionGroup}function ad(t){const e=L(t);if(null===e.Pe){e.Pe=[];const n=ZE(e),r=nM(e);if(null!==n&&null===r)n.isKeyField()||e.Pe.push(new id(n)),e.Pe.push(new id(kt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new id(kt.keyField(),s))}}}return e.Pe}function xr(t){const e=L(t);return e.Ie||(e.Ie=function bH(t,e){if("F"===t.limitType)return tM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>new id(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new fa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fa(t.startAt.position,t.startAt.inclusive):null;return tM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,ad(t))),e.Ie}function iM(t,e){e.getFirstInequalityField(),ZE(t);const n=t.filters.concat([e]);return new fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function eI(t,e,n){return new fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jp(t,e){return Xp(xr(t),xr(e))&&t.limitType===e.limitType}function CH(t){return`${Fu(xr(t))}|lt:${t.limitType}`}function ud(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_H(i)).join(", ")}]`),zp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rd(i)).join(",")),`Target(${r})`}(xr(t))}; limitType=${t.limitType})`}function Zp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):U.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ad(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&(i=e,!((r=t).startAt&&!function(o,a,u){const c=dH(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,ad(r),i)||r.endAt&&!function(o,a,u){const c=dH(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,ad(r),i)));var r,i}function DH(t){return(e,n)=>{let r=!1;for(const i of ad(t)){const s=EDe(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function EDe(t,e,n){const r=t.field.isKeyField()?U.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return null!==u&&null!==c?ha(u,c):W()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return W()}}class po{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return tH(this.inner)}size(){return this.innerSize}}const IDe=new ot(U.comparator);function qr(){return IDe}const SH=new ot(U.comparator);function eg(...t){let e=SH;for(const n of t)e=e.insert(n.key,n);return e}function xH(t){let e=SH;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Es(){return tg()}function RH(){return tg()}function tg(){return new po(t=>t.toString(),(t,e)=>t.isEqual(e))}const wDe=new ot(U.comparator),TDe=new at(U.comparator);function we(...t){let e=TDe;for(const n of t)e=e.add(n);return e}const bDe=new at(he);function PH(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hp(e)?"-0":e}}function MH(t){return{integerValue:""+t}}function NH(t,e){return function W6(t){return"number"==typeof t&&Number.isInteger(t)&&!Hp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?MH(e):PH(t,e)}class tI{constructor(){this._=void 0}}function CDe(t,e,n){return t instanceof cd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&HE(s)&&(s=WE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Vu?OH(t,e):t instanceof Lu?FH(t,e):function(i,s){const o=kH(i,s),a=VH(o)+VH(i.Te);return XP(o)&&XP(i.Te)?MH(a):PH(i.serializer,a)}(t,e)}function ADe(t,e,n){return t instanceof Vu?OH(t,e):t instanceof Lu?FH(t,e):n}function kH(t,e){return t instanceof ld?XP(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class cd extends tI{}class Vu extends tI{constructor(e){super(),this.elements=e}}function OH(t,e){const n=LH(e);for(const r of t.elements)n.some(i=>vs(i,r))||n.push(r);return{arrayValue:{values:n}}}class Lu extends tI{constructor(e){super(),this.elements=e}}function FH(t,e){let n=LH(e);for(const r of t.elements)n=n.filter(i=>!vs(i,r));return{arrayValue:{values:n}}}class ld extends tI{constructor(e,n){super(),this.serializer=e,this.Te=n}}function VH(t){return Ot(t.integerValue||t.doubleValue)}function LH(t){return Qp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class SDe{constructor(e,n){this.version=e,this.transformResults=n}}class Et{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Et}static exists(e){return new Et(void 0,e)}static updateTime(e){return new Et(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nI(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class rI{}function UH(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new hd(t.key,Et.none()):new dd(t.key,t.data,Et.none());{const n=t.data,r=$n.empty();let i=new at(kt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new go(t.key,r,new Gr(i.toArray()),Et.none())}}function xDe(t,e,n){t instanceof dd?function(i,s,o){const a=i.value.clone(),u=$H(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof go?function(i,s,o){if(!nI(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=$H(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(jH(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function rg(t,e,n,r){return t instanceof dd?function(s,o,a,u){if(!nI(s.precondition,o))return a;const c=s.value.clone(),l=GH(s.fieldTransforms,u,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof go?function(s,o,a,u){if(!nI(s.precondition,o))return a;const c=GH(s.fieldTransforms,u,o),l=o.data;return l.setAll(jH(s)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,nI(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function RDe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=kH(r.transform,i||null);null!=s&&(null===n&&(n=$n.empty()),n.set(r.field,s))}return n||null}function BH(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===i||r&&i&&Zl(r,i,(s,o)=>function DDe(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(r=t.transform)instanceof Vu&&i instanceof Vu||r instanceof Lu&&i instanceof Lu?Zl(r.elements,i.elements,vs):r instanceof ld&&i instanceof ld?vs(r.Te,i.Te):r instanceof cd&&i instanceof cd);var r,i}(s,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,i}class dd extends rI{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class go extends rI{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function jH(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $H(t,e,n){const r=new Map;Z(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ADe(o,a,n[i]))}return r}function GH(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,CDe(s,o,e))}return r}class hd extends rI{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oM extends rI{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class aM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&xDe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RH();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=UH(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&Zl(this.mutations,e.mutations,(n,r)=>BH(n,r))&&Zl(this.baseMutations,e.baseMutations,(n,r)=>BH(n,r))}}class uM{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Z(e.mutations.length===r.length);let i=wDe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new uM(e,n,r,i)}}class cM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class MDe{constructor(e,n){this.count=e,this.unchangedNames=n}}var tn,ke;function zH(t){if(void 0===t)return qt("GRPC error has no .code"),T.UNKNOWN;switch(t){case tn.OK:return T.OK;case tn.CANCELLED:return T.CANCELLED;case tn.UNKNOWN:return T.UNKNOWN;case tn.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case tn.INTERNAL:return T.INTERNAL;case tn.UNAVAILABLE:return T.UNAVAILABLE;case tn.UNAUTHENTICATED:return T.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case tn.NOT_FOUND:return T.NOT_FOUND;case tn.ALREADY_EXISTS:return T.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return T.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case tn.ABORTED:return T.ABORTED;case tn.OUT_OF_RANGE:return T.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return T.UNIMPLEMENTED;case tn.DATA_LOSS:return T.DATA_LOSS;default:return W()}}(ke=tn||(tn={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";const NDe=new Yl([4294967295,4294967295],0);function WH(t){const e=function HH(){return new TextEncoder}().encode(t),n=new SAe;return n.update(e),new Uint8Array(n.digest())}function KH(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Yl([n,r],0),new Yl([i,s],0)]}class lM{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ig(`Invalid padding: ${n}`);if(r<0)throw new ig(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new ig(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new ig(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=Yl.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(Yl.fromNumber(r)));return 1===i.compare(NDe)&&(i=new Yl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ae)return!1;const n=WH(e),[r,i]=KH(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new lM(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Ae)return;const n=WH(e),[r,i]=KH(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class ig extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,og.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sg(te.min(),i,new ot(he),qr(),we())}}class og{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new og(r,n,we(),we(),we())}}class sI{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class QH{constructor(e,n){this.targetId=e,this.ye=n}}class YH{constructor(e,n,r=ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class XH{constructor(){this.we=0,this.Se=ZH(),this.be=ln.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return 0!==this.we}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=we(),n=we(),r=we();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:W()}}),new og(this.be,this.De,e,n,r)}Oe(){this.Ce=!1,this.Se=ZH()}Ne(e,n){this.Ce=!0,this.Se=this.Se.insert(e,n)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class kDe{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=qr(),this.Ue=JH(),this.We=new ot(he)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(XE(s))if(0===r){const o=new U(s.path);this.je(n,o,dt.newNoDocument(o,te.min()))}else Z(1===r);else{const o=this.tt(n);if(o!==r){const a=this.nt(e),u=a?this.rt(a,e,o):1;0!==u&&(this.Ze(n),this.We=this.We.insert(n,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ho(r).toUint8Array()}catch(u){if(u instanceof rH)return ai("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new lM(o,i,s)}catch(u){return ai(u instanceof ig?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Ae?null:a}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&XE(a.target)){const u=new U(a.target.path);null!==this.$e.get(u)||this.ut(o,u)||this.je(o,u,dt.newNoDocument(u,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=we();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.et(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new sg(e,n,this.We,this.$e,r);return this.$e=qr(),this.Ue=JH(),this.We=new ot(he),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new XH,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new at(he),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=null!==this.et(e);return n||P("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new XH),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function JH(){return new ot(U.comparator)}function ZH(){return new ot(U.comparator)}const ODe={asc:"ASCENDING",desc:"DESCENDING"},FDe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VDe={and:"AND",or:"OR"};class LDe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dM(t,e){return t.useProto3Json||zp(e)?e:{value:e}}function fd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e8(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function UDe(t,e){return fd(t,e.toTimestamp())}function zt(t){return Z(!!t),te.fromTimestamp(function(n){const r=ca(n);return new vt(r.seconds,r.nanos)}(t))}function hM(t,e){return(r=t,new Ne(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function t8(t){const e=Ne.fromString(t);return Z(l8(e)),e}function ag(t,e){return hM(t.databaseId,e.path)}function Is(t,e){const n=t8(e);if(n.get(1)!==t.databaseId.projectId)throw new x(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new x(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(r8(n))}function fM(t,e){return hM(t.databaseId,e)}function ug(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function r8(t){return Z(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function i8(t,e,n){return{name:ag(t,e),fields:n.value.mapValue.fields}}function o8(t,e){return{documents:[fM(t,e.path)]}}function gM(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=fM(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fM(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return c8(Qe.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:pa((d=c).field),direction:qDe(d.dir)};var d})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=dM(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n;var u}function a8(t){let e=function n8(t){const e=t8(t);return 4===e.length?Ne.emptyPath():r8(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Z(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){const h=u8(d);return h instanceof Qe&&ZP(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(h=>{return new id(pd((p=h).field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;n.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,zp(h)?null:h}(n.limit));let u=null;var d;n.startAt&&(u=new fa((d=n.startAt).values||[],!!d.before));let c=null;return n.endAt&&(c=function(d){return new fa(d.values||[],!d.before)}(n.endAt)),function wH(t,e,n,r,i,s,o,a){return new fo(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function u8(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pd(n.unaryFilter.field);return Se.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=pd(n.unaryFilter.field);return Se.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=pd(n.unaryFilter.field);return Se.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=pd(n.unaryFilter.field);return Se.create(o,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):void 0!==t.fieldFilter?Se.create(pd((n=t).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return Qe.create(n.compositeFilter.filters.map(r=>u8(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W()}}(n.compositeFilter.op))}(t):W();var n}function qDe(t){return ODe[t]}function zDe(t){return FDe[t]}function HDe(t){return VDe[t]}function pa(t){return{fieldPath:t.canonicalString()}}function pd(t){return kt.fromServerFormat(t.fieldPath)}function c8(t){return t instanceof Se?function(n){if("=="===n.op){if(oH(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NAN"}};if(sH(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(oH(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NOT_NAN"}};if(sH(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pa(n.field),op:zDe(n.op),value:n.value}}}(t):t instanceof Qe?function(n){const r=n.getFilters().map(i=>c8(i));return 1===r.length?r[0]:{compositeFilter:{op:HDe(n.op),filters:r}}}(t):W()}function WDe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function l8(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class mo{constructor(e,n,r,i,s=te.min(),o=te.min(),a=ln.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new mo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class d8{constructor(e){this.ht=e}}function mM(t){const e=a8({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?eI(e,e.limit,"L"):e}class $u{constructor(){}dt(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.At(n,5);else if("booleanValue"in e)this.At(n,10),n.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(n,15),n.Rt(Ot(e.integerValue));else if("doubleValue"in e){const r=Ot(e.doubleValue);isNaN(r)?this.At(n,13):(this.At(n,15),Hp(r)?n.Rt(0):n.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(n,20),"string"==typeof r?n.Vt(r):(n.Vt(`${r.seconds||""}`),n.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,n),this.gt(n);else if("bytesValue"in e)this.At(n,30),n.yt(ho(e.bytesValue)),this.gt(n);else if("referenceValue"in e)this.wt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(n,45),n.Rt(r.latitude||0),n.Rt(r.longitude||0)}else"mapValue"in e?aH(e)?this.At(n,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,n),this.gt(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.gt(n)):W()}ft(e,n){this.At(n,25),this.Dt(e,n)}Dt(e,n){n.Vt(e)}St(e,n){const r=e.fields||{};this.At(n,55);for(const i of Object.keys(r))this.ft(i,n),this.Tt(r[i],n)}bt(e,n){const r=e.values||[];this.At(n,50);for(const i of r)this.Tt(i,n)}wt(e,n){this.At(n,37),U.fromName(e).path.forEach(r=>{this.At(n,60),this.Dt(r,n)})}At(e,n){e.Rt(n)}gt(e){e.Rt(2)}}$u.Ct=new $u;class tSe{constructor(){this.an=new wM}addToCollectionParentIndex(e,n){return this.an.add(n),I.resolve()}getCollectionParents(e,n){return I.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return I.resolve()}deleteFieldIndex(e,n){return I.resolve()}deleteAllFieldIndexes(e){return I.resolve()}createTargetIndexes(e,n){return I.resolve()}getDocumentsMatchingTarget(e,n){return I.resolve(null)}getIndexType(e,n){return I.resolve(0)}getFieldIndexes(e,n){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,n){return I.resolve(ui.min())}getMinOffsetFromCollectionGroup(e,n){return I.resolve(ui.min())}updateCollectionGroup(e,n,r){return I.resolve()}updateIndexEntries(e,n){return I.resolve()}}class wM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new at(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Ne.comparator)).toArray()}}new Uint8Array(0);class or{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new or(e,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}or.DEFAULT_COLLECTION_PERCENTILE=10,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,or.DEFAULT=new or(41943040,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),or.DISABLED=new or(-1,0,0);class qu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new qu(0)}static Ln(){return new qu(-1)}}class aSe{constructor(){this.changes=new po(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?I.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lSe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class L8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&rg(r.mutation,i,Gr.empty(),vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=Es();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=eg();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Es();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=qr();const o=tg(),a=tg();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof go)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),rg(l.mutation,c,l.mutation.getFieldMask(),vt.now())):o.set(c.key,Gr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new lSe(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=tg();let i=new ot((o,a)=>o-a),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Gr.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||we()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=RH();l.forEach(h=>{if(!s.has(h)){const f=UH(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return I.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return U.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):rM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i);var o}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):I.resolve(Es());let a=-1,u=s;return o.next(c=>I.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?I.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,we())).next(l=>({batchId:a,changes:xH(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(r=>{let i=eg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=eg();return this.indexManager.getCollectionParents(e,s).next(a=>I.forEach(a,u=>{const c=(d=n,h=u.child(s),new fo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const l=c.getKey();null===o.get(l)&&(o=o.insert(l,dt.newInvalidDocument(l)))});let a=eg();return o.forEach((u,c)=>{const l=s.get(u);void 0!==l&&rg(l.mutation,c,Gr.empty(),vt.now()),Zp(n,c)&&(a=a.insert(u,c))}),a})}}class dSe{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return I.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,{id:(i=n).id,version:i.version,createTime:zt(i.createTime)}),I.resolve();var i}getNamedQuery(e,n){return I.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,{name:(i=n).name,query:mM(i.bundledQuery),readTime:zt(i.readTime)}),I.resolve();var i}}class hSe{constructor(){this.overlays=new ot(U.comparator),this.Pr=new Map}getOverlay(e,n){return I.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Es();return I.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),I.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Pr.delete(r)),I.resolve()}getOverlaysForCollection(e,n,r){const i=Es(),s=n.length+1,o=new U(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return I.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ot((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Es(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Es(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return I.resolve(a)}It(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cM(n,r));let s=this.Pr.get(n);void 0===s&&(s=we(),this.Pr.set(n,s)),this.Pr.set(n,s.add(r.key))}}class TM{constructor(){this.Ir=new at(En.dr),this.Tr=new at(En.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new En(e,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Rr(new En(e,n))}Vr(e,n){e.forEach(r=>this.removeReference(r,n))}mr(e){const n=new U(new Ne([])),r=new En(n,e),i=new En(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Rr(o),s.push(o.key)}),s}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const n=new U(new Ne([])),r=new En(n,e),i=new En(n,e+1);let s=we();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new En(e,0),r=this.Ir.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class En{constructor(e,n){this.key=e,this.yr=n}static dr(e,n){return U.comparator(e.key,n.key)||he(e.yr,n.yr)}static Er(e,n){return he(e.yr,n.yr)||U.comparator(e.key,n.key)}}class fSe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new at(En.dr)}checkEmpty(e){return I.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.wr;this.wr++;const o=new aM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Sr=this.Sr.add(new En(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(e,n){return I.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Dr(n+1),s=i<0?0:i;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(0===this.mutationQueue.length?-1:this.wr-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new En(n,0),i=new En(n,Number.POSITIVE_INFINITY),s=[];return this.Sr.forEachInRange([r,i],o=>{const a=this.br(o.yr);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(he);return n.forEach(i=>{const s=new En(i,0),o=new En(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([s,o],a=>{r=r.add(a.yr)})}),I.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;U.isDocumentKey(s)||(s=s.child(""));const o=new En(new U(s),0);let a=new at(he);return this.Sr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.yr)),!0)},o),I.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.br(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){Z(0===this.vr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Sr;return I.forEach(n.mutations,i=>{const s=new En(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,n){const r=new En(n,0),i=this.Sr.firstAfterOrEqual(r);return I.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return I.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class pSe{constructor(e){this.Fr=e,this.docs=new ot(U.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return I.resolve(r?r.document.mutableCopy():dt.newInvalidDocument(n))}getEntries(e,n){let r=qr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():dt.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=qr();const o=n.path,a=new U(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||HP(q6(l),r)<=0||(i.has(l.key)||Zp(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return I.resolve(s)}getAllFromCollectionGroup(e,n,r,i){W()}Mr(e,n){return I.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gSe(this)}getSize(e){return I.resolve(this.size)}}class gSe extends aSe{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)}),I.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}class mSe{constructor(e){this.persistence=e,this.Or=new po(n=>Fu(n),Xp),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Nr=0,this.Br=new TM,this.targetCount=0,this.Lr=qu.Bn()}forEachTarget(e,n){return this.Or.forEach((r,i)=>n(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),I.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new qu(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,I.resolve()}updateTargetData(e,n){return this.Qn(n),I.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Or.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Or.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return I.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Ar(n,r),I.resolve()}removeMatchingKeys(e,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.mr(n),I.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.pr(n);return I.resolve(r)}containsKey(e,n){return I.resolve(this.Br.containsKey(n))}}class bM{constructor(e,n){this.kr={},this.overlays={},this.qr=new ci(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new mSe(this),this.indexManager=new tSe,this.remoteDocumentCache=new pSe(r=>this.referenceDelegate.$r(r)),this.serializer=new d8(n),this.Ur=new dSe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hSe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new fSe(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,n,r){P("MemoryPersistence","Starting transaction:",e);const i=new _Se(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(s=>this.referenceDelegate.Gr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zr(e,n){return I.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,n)))}}class _Se extends UAe{constructor(e){super(),this.currentSequenceNumber=e}}class fI{constructor(e){this.persistence=e,this.jr=new TM,this.Hr=null}static Jr(e){return new fI(e)}get Yr(){if(this.Hr)return this.Hr;throw W()}addReference(e,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),I.resolve()}removeReference(e,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,n){return this.Yr.add(n.toString()),I.resolve()}removeTarget(e,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Yr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Wr(){this.Hr=new Set}Gr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Yr,r=>{const i=U.fromPath(r);return this.Zr(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Hr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zr(e,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(e){return 0}Zr(e,n){return I.or([()=>I.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zr(e,n)])}}class SM{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(e,n){let r=we(),i=we();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new SM(e,n.fromCache,r,i)}}class vSe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class B8{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,n){this.ji=e,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Hi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new vSe;return this.Yi(e,n,o).next(a=>{if(s.result=a,this.Wi)return this.Zi(e,n,o,a.size)})}).next(()=>s.result)}Zi(e,n,r,i){return r.documentReadCount<this.Gi?(Jl()<=Ce.DEBUG&&P("QueryEngine","SDK will not create cache indexes for query:",ud(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),I.resolve()):(Jl()<=Ce.DEBUG&&P("QueryEngine","Query:",ud(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(Jl()<=Ce.DEBUG&&P("QueryEngine","The SDK decides to create cache indexes for query:",ud(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(n))):I.resolve())}Hi(e,n){if(TH(n))return I.resolve(null);let r=xr(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=eI(n,null,"F"),r=xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=we(...s);return this.ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Xi(n,a);return this.es(n,c,o,u.readTime)?this.Hi(e,eI(n,null,"F")):this.ts(e,c,n,u)}))})))}Ji(e,n,r,i){return TH(n)||i.isEqual(te.min())?I.resolve(null):this.ji.getDocuments(e,r).next(s=>{const o=this.Xi(n,s);return this.es(n,o,r,i)?I.resolve(null):(Jl()<=Ce.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ud(n)),this.ts(e,o,n,function G6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(1e9===r?new vt(n+1,0):new vt(n,r));return new ui(i,U.empty(),e)}(i,-1)).next(a=>a))})}Xi(e,n){let r=new at(DH(e));return n.forEach((i,s)=>{Zp(e,s)&&(r=r.add(s))}),r}es(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Yi(e,n,r){return Jl()<=Ce.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",ud(n)),this.ji.getDocumentsMatchingQuery(e,n,ui.min(),r)}ts(e,n,r,i){return this.ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class ESe{constructor(e,n,r,i){this.persistence=e,this.ns=n,this.serializer=i,this.rs=new ot(he),this.ss=new po(s=>Fu(s),Xp),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L8(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.rs))}}function $8(t,e){return xM.apply(this,arguments)}function xM(){return xM=_(function*(t,e){const n=L(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.us(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=we();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({cs:c,removedBatchIds:o,addedBatchIds:a}))})})}),xM.apply(this,arguments)}function G8(t){const e=L(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Kr.getLastRemoteSnapshotVersion(n))}function TSe(t,e){const n=L(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ed(t,e,n){return RM.apply(this,arguments)}function RM(){return RM=_(function*(t,e,n){const r=L(t),i=r.rs.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!aa(o))throw o;P("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.rs=r.rs.remove(e),r.ss.delete(i.target)}),RM.apply(this,arguments)}function mI(t,e,n){const r=L(t);let i=te.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,l){const d=L(u),h=d.ss.get(l);return void 0!==h?I.resolve(d.rs.get(h)):d.Kr.getTargetData(c,l)}(r,o,xr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ns.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:we())).next(a=>(function W8(t,e,n){let r=t.os.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.os.set(e,r)}(r,function AH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Ps:s})))}class OM{constructor(){this.activeTargetIds=function sM(){return bDe}()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y8{constructor(){this.ro=new OM,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,n,r){this.io[e]=n}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new OM,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ASe{so(e){}shutdown(){}}class X8{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vI=null;function VM(){return null===vI?vI=268435456+Math.round(2147483648*Math.random()):vI++,"0x"+vI.toString(16)}const DSe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SSe{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}const ar="WebChannelConnection";class xSe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${s}`,this.wo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get So(){return!1}bo(n,r,i,s,o){const a=VM(),u=this.Do(n,r);P("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(c,s,o),this.vo(n,u,c,i).then(l=>(P("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw ai("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}Fo(n,r,i,s,o,a){return this.bo(n,r,i,s,o)}Co(n,r,i){n["X-Goog-Api-Client"]="gl-js/ fire/"+Xl,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Do(n,r){return`${this.po}/v1/${r}:${DSe[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=VM();return new Promise((o,a)=>{const u=new DAe;u.setWithCredentials(!0),u.listenOnce(CAe.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case GP.NO_ERROR:const l=u.getResponseJson();P(ar,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case GP.TIMEOUT:P(ar,`RPC '${e}' ${s} timed out`),a(new x(T.DEADLINE_EXCEEDED,"Request time out"));break;case GP.HTTP_ERROR:const d=u.getStatus();if(P(ar,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const v=m.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(v)>=0?v:T.UNKNOWN}(f.status);a(new x(p,f.message))}else a(new x(T.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new x(T.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{P(ar,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);P(ar,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Mo(e,n,r){const i=VM(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=TAe(),a=bAe(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Co(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");P(ar,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new SSe({ho:m=>{f?P(ar,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(P(ar,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),P(ar,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},Po:()=>d.close()}),g=(m,v,y)=>{m.listen(v,E=>{try{y(E)}catch(A){setTimeout(()=>{throw A},0)}})};return g(d,$E.EventType.OPEN,()=>{f||P(ar,`RPC '${e}' stream ${i} transport opened.`)}),g(d,$E.EventType.CLOSE,()=>{f||(f=!0,P(ar,`RPC '${e}' stream ${i} transport closed`),p.mo())}),g(d,$E.EventType.ERROR,m=>{f||(f=!0,ai(ar,`RPC '${e}' stream ${i} transport errored:`,m),p.mo(new x(T.UNAVAILABLE,"The operation could not be completed")))}),g(d,$E.EventType.MESSAGE,m=>{var v;if(!f){const y=m.data[0];Z(!!y);const A=y.error||(null===(v=y[0])||void 0===v?void 0:v.error);if(A){P(ar,`RPC '${e}' stream ${i} received error:`,A);const N=A.status;let F=function(Lt){const pr=tn[Lt];if(void 0!==pr)return zH(pr)}(N),X=A.message;void 0===F&&(F=T.INTERNAL,X="Unknown error status: "+N+" with message "+A.message),f=!0,p.mo(new x(F,X)),d.close()}else P(ar,`RPC '${e}' stream ${i} received:`,y),p.fo(y)}}),g(a,AAe.STAT_EVENT,m=>{m.stat===V6.PROXY?P(ar,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===V6.NOPROXY&&P(ar,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Vo()},0),p}}function EI(){return typeof document<"u"?document:null}function _g(t){return new LDe(t,!0)}class LM{constructor(e,n,r=1e3,i=1.5,s=6e4){this._i=e,this.timerId=n,this.xo=r,this.Oo=i,this.No=s,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&P("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}class Z8{constructor(e,n,r,i,s,o,a,u){this._i=e,this.Uo=r,this.Wo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new LM(e,n)}Jo(){return 1===this.state||5===this.state||this.Yo()}Yo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Zo()}stop(){var e=this;return _(function*(){e.Jo()&&(yield e.close(0))})()}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}t_(){var e=this;return _(function*(){if(e.Yo())return e.close(0)})()}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}close(e,n){var r=this;return _(function*(){r.r_(),r.i_(),r.Ho.cancel(),r.Go++,4!==e?r.Ho.reset():n&&n.code===T.RESOURCE_EXHAUSTED?(qt(n.toString()),qt("Using maximum backoff delay to prevent overloading the backend."),r.Ho.qo()):n&&n.code===T.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.s_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Eo(n)})()}s_(){}auth(){this.state=1;const e=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{e(()=>{const i=new x(T.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(e,n){const r=this.o_(this.Go);this.stream=this.u_(e,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){var e=this;this.state=5,this.Ho.Qo(_(function*(){e.state=0,e.start()}))}a_(e){return P("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return n=>{this._i.enqueueAndForget(()=>this.Go===e?n():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RSe extends Z8{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}u_(e,n){return this.connection.Mo("Listen",e,n)}onMessage(e){this.Ho.reset();const n=function jDe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:W(),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(Z(void 0===l||"string"==typeof l),ln.fromBase64String(l||"")):(Z(void 0===l||l instanceof Uint8Array),ln.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=void 0===c.code?T.UNKNOWN:zH(c.code);return new x(l,c.message||"")}(o);n=new YH(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Is(t,r.document.name),s=zt(r.document.updateTime),o=r.document.createTime?zt(r.document.createTime):te.min(),a=new $n({mapValue:{fields:r.document.fields}}),u=dt.newFoundDocument(i,s,o,a);n=new sI(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Is(t,r.document),s=r.readTime?zt(r.readTime):te.min(),o=dt.newNoDocument(i,s);n=new sI([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Is(t,r.document);n=new sI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return W();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new MDe(i,s);n=new QH(r.targetId,o)}}var c;return n}(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?zt(o.readTime):te.min()}(e);return this.listener.c_(n,r)}l_(e){const n={};n.database=ug(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=XE(u)?{documents:o8(s,u)}:{query:gM(s,u)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=e8(s,o.resumeToken);const c=dM(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=fd(s,o.snapshotVersion.toTimestamp());const c=dM(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function GDe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.n_(n)}h_(e){const n={};n.database=ug(this.serializer),n.removeTarget=e,this.n_(n)}}class PSe extends Z8{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(e,n){return this.connection.Mo("Write",e,n)}onMessage(e){if(Z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.P_){this.Ho.reset();const n=function $De(t,e){return t&&t.length>0?(Z(void 0!==e),t.map(n=>function(i,s){let o=zt(i.updateTime?i.updateTime:s);return o.isEqual(te.min())&&(o=zt(s)),new SDe(o,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=zt(e.commitTime);return this.listener.T_(r,n)}return Z(!e.writeResults||0===e.writeResults.length),this.P_=!0,this.listener.E_()}A_(){const e={};e.database=ug(this.serializer),this.n_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function cg(t,e){let n;if(e instanceof dd)n={update:i8(t,e.key,e.value)};else if(e instanceof hd)n={delete:ag(t,e.key)};else if(e instanceof go)n={update:i8(t,e.key,e.data),updateMask:WDe(e.fieldMask)};else{if(!(e instanceof oM))return W();n={verify:ag(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof cd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Lu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ld)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw W()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:UDe(t,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:W()),n;var s}(this.serializer,r))};this.n_(n)}}class MSe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new x(T.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.bo(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new x(T.UNKNOWN,i.toString())})}Fo(e,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Fo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new x(T.UNKNOWN,s.toString())})}terminate(){this.R_=!0}}class kSe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(qt(n),this.p_=!1):P("OnlineStateTracker",n)}D_(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}class OSe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=s,this.x_.so(a=>{r.enqueueAndForget(_(function*(){var u;ya(o)&&(P("RemoteStore","Restarting streams for network reachability change."),yield(u=_(function*(l){const d=L(l);d.F_.add(4),yield Id(d),d.O_.set("Unknown"),d.F_.delete(4),yield yg(d)}),function c(l){return u.apply(this,arguments)})(o))}))}),this.O_=new kSe(r,i)}}function yg(t){return BM.apply(this,arguments)}function BM(){return BM=_(function*(t){if(ya(t))for(const e of t.M_)yield e(!0)}),BM.apply(this,arguments)}function Id(t){return jM.apply(this,arguments)}function jM(){return jM=_(function*(t){for(const e of t.M_)yield e(!1)}),jM.apply(this,arguments)}function II(t,e){const n=L(t);n.v_.has(e.targetId)||(n.v_.set(e.targetId,e),qM(n)?GM(n):Td(n).Yo()&&$M(n,e))}function vg(t,e){const n=L(t),r=Td(n);n.v_.delete(e),r.Yo()&&eW(n,e),0===n.v_.size&&(r.Yo()?r.e_():ya(n)&&n.O_.set("Unknown"))}function $M(t,e){if(t.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Td(t).l_(e)}function eW(t,e){t.N_.Le(e),Td(t).h_(e)}function GM(t){t.N_=new kDe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.v_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),Td(t).start(),t.O_.y_()}function qM(t){return ya(t)&&!Td(t).Jo()&&t.v_.size>0}function ya(t){return 0===L(t).F_.size}function tW(t){t.N_=void 0}function FSe(t){return zM.apply(this,arguments)}function zM(){return zM=_(function*(t){t.v_.forEach((e,n)=>{$M(t,e)})}),zM.apply(this,arguments)}function VSe(t,e){return HM.apply(this,arguments)}function HM(){return HM=_(function*(t,e){tW(t),qM(t)?(t.O_.b_(e),GM(t)):t.O_.set("Unknown")}),HM.apply(this,arguments)}function LSe(t,e,n){return WM.apply(this,arguments)}function WM(){return WM=_(function*(t,e,n){if(t.O_.set("Online"),e instanceof YH&&2===e.state&&e.cause)try{yield(r=_(function*(s,o){const a=o.cause;for(const u of o.targetIds)s.v_.has(u)&&(yield s.remoteSyncer.rejectListen(u,a),s.v_.delete(u),s.N_.removeTarget(u))}),function i(s,o){return r.apply(this,arguments)})(t,e)}catch(r){P("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wI(t,r)}else if(e instanceof sI?t.N_.Ge(e):e instanceof QH?t.N_.Xe(e):t.N_.He(e),!n.isEqual(te.min()))try{const r=yield G8(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){const a=s.N_._t(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const l=s.v_.get(c);l&&s.v_.set(c,l.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const l=s.v_.get(u);if(!l)return;s.v_.set(u,l.withResumeToken(ln.EMPTY_BYTE_STRING,l.snapshotVersion)),eW(s,u);const d=new mo(l.target,u,c,l.sequenceNumber);$M(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){P("RemoteStore","Failed to raise snapshot:",r),yield wI(t,r)}var r}),WM.apply(this,arguments)}function wI(t,e,n){return KM.apply(this,arguments)}function KM(){return KM=_(function*(t,e,n){if(!aa(e))throw e;t.F_.add(1),yield Id(t),t.O_.set("Offline"),n||(n=()=>G8(t.localStore)),t.asyncQueue.enqueueRetryable(_(function*(){P("RemoteStore","Retrying IndexedDB access"),yield n(),t.F_.delete(1),yield yg(t)}))}),KM.apply(this,arguments)}function nW(t,e){return e().catch(n=>wI(t,n,e))}function wd(t){return QM.apply(this,arguments)}function QM(){return QM=_(function*(t){const e=L(t),n=va(e);let r=e.C_.length>0?e.C_[e.C_.length-1].batchId:-1;for(;USe(e);)try{const i=yield TSe(e.localStore,r);if(null===i){0===e.C_.length&&n.e_();break}r=i.batchId,BSe(e,i)}catch(i){yield wI(e,i)}rW(e)&&iW(e)}),QM.apply(this,arguments)}function USe(t){return ya(t)&&t.C_.length<10}function BSe(t,e){t.C_.push(e);const n=va(t);n.Yo()&&n.I_&&n.d_(e.mutations)}function rW(t){return ya(t)&&!va(t).Jo()&&t.C_.length>0}function iW(t){va(t).start()}function jSe(t){return YM.apply(this,arguments)}function YM(){return YM=_(function*(t){va(t).A_()}),YM.apply(this,arguments)}function $Se(t){return XM.apply(this,arguments)}function XM(){return XM=_(function*(t){const e=va(t);for(const n of t.C_)e.d_(n.mutations)}),XM.apply(this,arguments)}function GSe(t,e,n){return JM.apply(this,arguments)}function JM(){return JM=_(function*(t,e,n){const r=t.C_.shift(),i=uM.from(r,e,n);yield nW(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield wd(t)}),JM.apply(this,arguments)}function qSe(t,e){return ZM.apply(this,arguments)}function ZM(){return ZM=_(function*(t,e){var n;e&&va(t).I_&&(yield(n=_(function*(i,s){if(function qH(t){switch(t){default:return W();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}(a=s.code)&&a!==T.ABORTED){const o=i.C_.shift();va(i).Xo(),yield nW(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield wd(i)}var a}),function r(i,s){return n.apply(this,arguments)})(t,e)),rW(t)&&iW(t)}),ZM.apply(this,arguments)}function sW(t,e){return eN.apply(this,arguments)}function eN(){return eN=_(function*(t,e){const n=L(t);n.asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials");const r=ya(n);n.F_.add(3),yield Id(n),r&&n.O_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.F_.delete(3),yield yg(n)}),eN.apply(this,arguments)}function nN(){return nN=_(function*(t,e){const n=L(t);e?(n.F_.delete(2),yield yg(n)):e||(n.F_.add(2),yield Id(n),n.O_.set("Unknown"))}),nN.apply(this,arguments)}function Td(t){return t.B_||(t.B_=function(n,r,i){const s=L(n);return s.V_(),new RSe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:FSe.bind(null,t),Eo:VSe.bind(null,t),c_:LSe.bind(null,t)}),t.M_.push(function(){var e=_(function*(n){n?(t.B_.Xo(),qM(t)?GM(t):t.O_.set("Unknown")):(yield t.B_.stop(),tW(t))});return function(n){return e.apply(this,arguments)}}())),t.B_}function va(t){return t.L_||(t.L_=function(n,r,i){const s=L(n);return s.V_(),new PSe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Io:jSe.bind(null,t),Eo:qSe.bind(null,t),E_:$Se.bind(null,t),T_:GSe.bind(null,t)}),t.M_.push(function(){var e=_(function*(n){n?(t.L_.Xo(),yield wd(t)):(yield t.L_.stop(),t.C_.length>0&&(P("RemoteStore",`Stopping write stream with ${t.C_.length} pending writes`),t.C_=[]))});return function(n){return e.apply(this,arguments)}}())),t.L_}class rN{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new rN(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new x(T.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bd(t,e){if(qt("AsyncQueue",`${e}: ${t}`),aa(t))return new x(T.UNAVAILABLE,`${e}: ${t}`);throw t}class Cd{constructor(e){this.comparator=e?(n,r)=>e(n,r)||U.comparator(n.key,r.key):(n,r)=>U.comparator(n.key,r.key),this.keyedMap=eg(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new Cd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Cd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class oW{constructor(){this.k_=new ot(U.comparator)}track(e){const n=e.doc.key,r=this.k_.get(n);r?0!==e.type&&3===r.type?this.k_=this.k_.insert(n,e):3===e.type&&1!==r.type?this.k_=this.k_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.k_=this.k_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.k_=this.k_.remove(n):1===e.type&&2===r.type?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.k_=this.k_.insert(n,{type:2,doc:e.doc}):W():this.k_=this.k_.insert(n,e)}q_(){const e=[];return this.k_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ad{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ad(e,n,Cd.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class zSe{constructor(){this.Q_=void 0,this.listeners=[]}}class HSe{constructor(){this.queries=new po(e=>CH(e),Jp),this.onlineState="Unknown",this.K_=new Set}}function iN(t,e){return sN.apply(this,arguments)}function sN(){return sN=_(function*(t,e){const n=L(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new zSe),i)try{s.Q_=yield n.onListen(r)}catch(o){const a=bd(o,`Initialization of query '${ud(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.U_(n.onlineState),s.Q_&&e.W_(s.Q_)&&uN(n)}),sN.apply(this,arguments)}function oN(t,e){return aN.apply(this,arguments)}function aN(){return aN=_(function*(t,e){const n=L(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),aN.apply(this,arguments)}function WSe(t,e){const n=L(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.W_(i)&&(r=!0);o.Q_=i}}r&&uN(n)}function KSe(t,e,n){const r=L(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function uN(t){t.K_.forEach(e=>{e.next()})}class cN{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ad(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){return!e.fromCache||(!this.options.Z_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=Ad.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class cW{constructor(e){this.key=e}}class lW{constructor(e){this.key=e}}class dW{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=we(),this.mutatedKeys=we(),this.ua=DH(e),this.ca=new Cd(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new oW,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Zp(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.ua(f,u)>0||c&&this.ua(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,es:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.q_();s.sort((c,l)=>function(h,f){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return p(h)-p(f)}(c.type,l.type)||this.ua(c.doc,l.doc)),this.da(r);const o=n?this.Ta():[],a=0===this.aa.size&&this.current?1:0,u=a!==this._a;return this._a=a,0!==s.length||u?{snapshot:new Ad(this.query,e.ca,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:o}:{Ea:o}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new oW,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=we(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new lW(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new cW(r))}),n}Ra(e){this.oa=e.Ps,this.aa=we();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Ad.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class XSe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JSe{constructor(e){this.key=e,this.ma=!1}}class ZSe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new po(a=>CH(a),Jp),this.pa=new Map,this.ya=new Set,this.wa=new ot(U.comparator),this.Sa=new Map,this.ba=new TM,this.Da={},this.Ca=new Map,this.va=qu.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function e1e(t,e){return lN.apply(this,arguments)}function lN(){return lN=_(function*(t,e){const n=function NN(t){const e=L(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hW.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c1e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r1e.bind(null,e),e.fa.c_=WSe.bind(null,e.eventManager),e.fa.xa=KSe.bind(null,e.eventManager),e}(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=yield function vd(t,e){const n=L(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,e).next(s=>s?(i=s,I.resolve(i)):n.Kr.allocateTargetId(r).next(o=>(i=new mo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(e,r.targetId)),r})}(n.localStore,xr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function dN(t,e,n,r,i){return hN.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&II(n.remoteStore,o)}return i}),lN.apply(this,arguments)}function hN(){return hN=_(function*(t,e,n,r,i){t.Ma=(d,h,f)=>{return(p=_(function*(m,v,y,E){let A=v.view.ha(y);A.es&&(A=yield mI(m.localStore,v.query,!1).then(({documents:X})=>v.view.ha(X,A)));const N=E&&E.targetChanges.get(v.targetId),F=v.view.applyChanges(A,m.isPrimaryClient,N);return wN(m,v.targetId,F.Ea),F.snapshot}),function g(m,v,y,E){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield mI(t.localStore,e,!0),o=new dW(e,s.Ps),a=o.ha(s.documents),u=og.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);wN(t,n,c.Ea);const l=new XSe(e,n,o);return t.ga.set(e,l),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),c.snapshot}),hN.apply(this,arguments)}function t1e(t,e){return fN.apply(this,arguments)}function fN(){return fN=_(function*(t,e){const n=L(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Jp(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ed(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),vg(n.remoteStore,r.targetId),Dd(n,r.targetId)}).catch(oa))):(Dd(n,r.targetId),yield Ed(n.localStore,r.targetId,!0))}),fN.apply(this,arguments)}function pN(){return pN=_(function*(t,e,n){const r=function kN(t){const e=L(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i1e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s1e.bind(null,e),e}(t);try{const i=yield function(o,a){const u=L(o),c=vt.now(),l=a.reduce((f,p)=>f.add(p.key),we());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=qr(),g=we();return u._s.getEntries(f,l).next(m=>{p=m,p.forEach((v,y)=>{y.isValidDocument()||(g=g.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,p)).next(m=>{d=m;const v=[];for(const y of a){const E=RDe(y,d.get(y.key).overlayedDocument);null!=E&&v.push(new go(y.key,E,lH(E.value.mapValue),Et.exists(!0)))}return u.mutationQueue.addMutationBatch(f,c,v,a)}).next(m=>{h=m;const v=m.applyToLocalDocumentSet(d,g);return u.documentOverlayCache.saveOverlays(f,m.batchId,v)})}).then(()=>({batchId:h.batchId,changes:xH(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Da[o.currentUser.toKey()];c||(c=new ot(he)),c=c.insert(a,u),o.Da[o.currentUser.toKey()]=c}(r,i.batchId,n),yield _o(r,i.changes),yield wd(r.remoteStore)}catch(i){const s=bd(i,"Failed to persist write");n.reject(s)}}),pN.apply(this,arguments)}function hW(t,e){return gN.apply(this,arguments)}function gN(){return gN=_(function*(t,e){const n=L(t);try{const r=yield function wSe(t,e){const n=L(t),r=e.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Kr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Kr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var g,m,v;null!==e.targetMismatches.get(d)?f=f.withResumeToken(ln.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,v=l,(0===(g=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(n.Kr.updateTargetData(s,f))});let u=qr(),c=we();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function q8(t,e,n){let r=we(),i=we();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=qr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):P("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{ls:o,hs:i}})}(s,o,e.documentUpdates).next(l=>{u=l.ls,c=l.hs})),!r.isEqual(te.min())){const l=n.Kr.getLastRemoteSnapshotVersion(s).next(d=>n.Kr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return I.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.rs=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(Z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?Z(o.ma):i.removedDocuments.size>0&&(Z(o.ma),o.ma=!1))}),yield _o(n,r,e)}catch(r){yield oa(r)}}),gN.apply(this,arguments)}function fW(t,e,n){const r=L(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=L(o);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(const h of d.listeners)h.U_(a)&&(c=!0)}),c&&uN(u)}(r.eventManager,e),i.length&&r.fa.c_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function r1e(t,e,n){return mN.apply(this,arguments)}function mN(){return mN=_(function*(t,e,n){const r=L(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new ot(U.comparator);o=o.insert(s,dt.newNoDocument(s,te.min()));const a=we().add(s),u=new sg(te.min(),new Map,new ot(he),o,a);yield hW(r,u),r.wa=r.wa.remove(s),r.Sa.delete(e),TN(r)}else yield Ed(r.localStore,e,!1).then(()=>Dd(r,e,n)).catch(oa)}),mN.apply(this,arguments)}function i1e(t,e){return _N.apply(this,arguments)}function _N(){return _N=_(function*(t,e){const n=L(t),r=e.batch.batchId;try{const i=yield function ISe(t,e){const n=L(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n._s.newChangeBuffer({trackRemovals:!0});return function(a,u,c,l){const d=c.batch,h=d.keys();let f=I.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(u,p)).next(g=>{const m=c.docVersions.get(p);Z(null!==m),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),l.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=we();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);IN(n,r,null),EN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield _o(n,i)}catch(i){yield oa(i)}}),_N.apply(this,arguments)}function s1e(t,e,n){return yN.apply(this,arguments)}function yN(){return yN=_(function*(t,e,n){const r=L(t);try{const i=yield function(o,a){const u=L(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(Z(null!==d),l=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>u.localDocuments.getDocuments(c,l))})}(r.localStore,e);IN(r,e,n),EN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield _o(r,i)}catch(i){yield oa(i)}}),yN.apply(this,arguments)}function EN(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function IN(t,e,n){const r=L(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Dd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.mr(e).forEach(r=>{t.ba.containsKey(r)||pW(t,r)})}function pW(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);null!==n&&(vg(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),TN(t))}function wN(t,e,n){for(const r of n)r instanceof cW?(t.ba.addReference(r.key,e),a1e(t,r)):r instanceof lW?(P("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||pW(t,r.key)):W()}function a1e(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(P("SyncEngine","New document in limbo: "+n),t.ya.add(r),TN(t))}function TN(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new U(Ne.fromString(e)),r=t.va.next();t.Sa.set(r,new JSe(n)),t.wa=t.wa.insert(n,r),II(t.remoteStore,new mo(xr(od(n.path)),r,"TargetPurposeLimboResolution",ci.ae))}}function _o(t,e,n){return bN.apply(this,arguments)}function bN(){return bN=_(function*(t,e,n){const r=L(t),i=[],s=[],o=[];var a;r.ga.isEmpty()||(r.ga.forEach((a,u)=>{o.push(r.Ma(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=SM.$i(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.fa.c_(i),yield(a=_(function*(c,l){const d=L(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>I.forEach(l,f=>I.forEach(f.Qi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>I.forEach(f.Ki,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!aa(h))throw h;P("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=d.rs.get(f),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.rs=d.rs.insert(f,m)}}}),function u(c,l){return a.apply(this,arguments)})(r.localStore,s))}),bN.apply(this,arguments)}function u1e(t,e){return CN.apply(this,arguments)}function CN(){return CN=_(function*(t,e){const n=L(t);if(!n.currentUser.isEqual(e)){P("SyncEngine","User change. New user:",e.toKey());const r=yield $8(n.localStore,e);n.currentUser=e,(s=n).Ca.forEach(a=>{a.forEach(u=>{u.reject(new x(T.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ca.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _o(n,r.cs)}var s}),CN.apply(this,arguments)}function c1e(t,e){const n=L(t),r=n.Sa.get(e);if(r&&r.ma)return we().add(r.key);{let i=we();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}class TI{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return _(function*(){n.serializer=_g(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function j8(t,e,n,r){return new ESe(t,e,n,r)}(this.persistence,new B8,e.initialUser,this.serializer)}createPersistence(e){return new bM(fI.Jr,this.serializer)}createSharedClientState(e){return new Y8}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Sd{initialize(e,n){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>fW(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=u1e.bind(null,r.syncEngine),yield function tN(t,e){return nN.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new HSe}createDatastore(e){const n=_g(e.databaseInfo.databaseId),r=new xSe(e.databaseInfo);return new MSe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=n=>fW(this.syncEngine,n,0),a=X8.C()?new X8:new ASe,new OSe(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,n){return function(i,s,o,a,u,c,l){const d=new ZSe(i,s,o,a,u,c);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=_(function*(r){const i=L(r);P("RemoteStore","RemoteStore shutting down."),i.F_.add(5),yield Id(i),i.x_.shutdown(),i.O_.set("Unknown")}),function n(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class bI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):qt("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class w1e{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=yn.UNAUTHENTICATED,this.clientId=j6.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){P("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(P("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=bd(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function CI(t,e){return ON.apply(this,arguments)}function ON(){return ON=_(function*(t,e){t.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=_(function*(s){r.isEqual(s)||(yield $8(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),ON.apply(this,arguments)}function FN(t,e){return VN.apply(this,arguments)}function VN(){return VN=_(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function LN(t){return UN.apply(this,arguments)}(t);P("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>sW(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>sW(e.remoteStore,s)),t._onlineComponents=e}),VN.apply(this,arguments)}function UN(){return UN=_(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){P("FirestoreClient","Using user provided OfflineComponentProvider");try{yield CI(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function EW(t){return"FirebaseError"===t.name?t.code===T.FAILED_PRECONDITION||t.code===T.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;ai("Error using user provided cache. Falling back to memory cache: "+n),yield CI(t,new TI)}}else P("FirestoreClient","Using default OfflineComponentProvider"),yield CI(t,new TI);return t._offlineComponents}),UN.apply(this,arguments)}function AI(t){return BN.apply(this,arguments)}function BN(){return BN=_(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(P("FirestoreClient","Using user provided OnlineComponentProvider"),yield FN(t,t._uninitializedComponentsProvider._online)):(P("FirestoreClient","Using default OnlineComponentProvider"),yield FN(t,new Sd))),t._onlineComponents}),BN.apply(this,arguments)}function Rd(t){return $N.apply(this,arguments)}function $N(){return $N=_(function*(t){const e=yield AI(t),n=e.eventManager;return n.onListen=e1e.bind(null,e.syncEngine),n.onUnlisten=t1e.bind(null,e.syncEngine),n}),$N.apply(this,arguments)}function AW(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const DW=new Map;function GN(t,e,n){if(!n)throw new x(T.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SW(t){if(!U.isDocumentKey(t))throw new x(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xW(t){if(U.isDocumentKey(t))throw new x(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function DI(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":W()}function xe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new x(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=DI(t);throw new x(T.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class PW{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new x(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new x(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function N1e(t,e,n,r){if(!0===e&&!0===r)throw new x(T.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=AW(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new x(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new x(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new x(T.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PW({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new x(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new x(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PW(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new xAe;switch(r.type){case"firstParty":return new NAe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new x(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=DW.get(n);r&&(P("ComponentProvider","Removing Datastore"),DW.delete(n),r.terminate())}(this),Promise.resolve()}}class Gn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gn(this.firestore,e,this._query)}}class Ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}}class ws extends Gn{constructor(e,n,r){super(e,n,od(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new U(e))}withConverter(e){return new ws(this.firestore,e,this._path)}}function MW(t,e,...n){if(t=Gt(t),GN("collection","path",e),t instanceof Eg){const r=Ne.fromString(e,...n);return xW(r),new ws(t,null,r)}{if(!(t instanceof Ht||t instanceof ws))throw new x(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return xW(r),new ws(t.firestore,null,r)}}function qN(t,e,...n){if(t=Gt(t),1===arguments.length&&(e=j6.V()),GN("doc","path",e),t instanceof Eg){const r=Ne.fromString(e,...n);return SW(r),new Ht(t,null,new U(r))}{if(!(t instanceof Ht||t instanceof ws))throw new x(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return SW(r),new Ht(t.firestore,t instanceof ws?t.converter:null,new U(r))}}class O1e{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new LM(this,"async_queue_retry"),this.ou=()=>{const n=EI();n&&P("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const e=EI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const n=EI();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const n=new cn;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}uu(){var e=this;return _(function*(){if(0!==e.Xa.length){try{yield e.Xa[0](),e.Xa.shift(),e.Ho.reset()}catch(n){if(!aa(n))throw n;P("AsyncQueue","Operation failed with retryable error: "+n)}e.Xa.length>0&&e.Ho.Qo(()=>e.uu())}})()}au(e){const n=this.Za.then(()=>(this.ru=!0,e().catch(r=>{throw this.nu=r,this.ru=!1,qt("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(e,n,r){this._u(),this.su.indexOf(e)>-1&&(n=0);const i=rN.createAndSchedule(this,e,n,r,s=>this.cu(s));return this.tu.push(i),i}_u(){this.nu&&W()}verifyOperationInProgress(){}lu(){var e=this;return _(function*(){let n;do{n=e.Za,yield n}while(n!==e.Za)})()}hu(e){for(const n of this.tu)if(n.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const n=this.tu.indexOf(e);this.tu.splice(n,1)}}function zN(t){return function(n,r){if("object"!=typeof n||null===n)return!1;const i=n;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(t)}class ut extends Eg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new O1e,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||kW(this),this._firestoreClient.terminate()}}function Wt(t){return t._firestoreClient||kW(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function kW(t){var e,n,r;const i=t._freezeSettings(),s=(u=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new cDe(t._databaseId,u,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,AW(l.experimentalLongPollingOptions),l.useFetchStreams));var u,l;t._firestoreClient=new w1e(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Hu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hu(ln.fromBase64String(e))}catch(n){throw new x(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hu(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pd{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new x(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class HN{constructor(e){this._methodName=e}}class WN{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new x(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new x(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}const L1e=/^__.*__$/;class U1e{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new go(e,this.data,this.fieldMask,n,this.fieldTransforms):new dd(e,this.data,n,this.fieldTransforms)}}class VW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new go(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LW(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}class SI{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.du(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new SI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.Vu(e),i}mu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(e){return this.Eu({path:void 0,Ru:!0})}gu(e){return RI(e,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}du(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vu(this.path.get(e))}Vu(e){if(0===e.length)throw this.gu("Document fields must not be empty");if(LW(this.Tu)&&L1e.test(e))throw this.gu('Document fields cannot begin and end with "__"')}}class B1e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_g(e)}wu(e,n,r,i=!1){return new SI({Tu:e,methodName:n,yu:r,path:kt.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Md(t){const e=t._freezeSettings(),n=_g(t._databaseId);return new B1e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KN(t,e,n,r,i,s={}){const o=t.wu(s.merge||s.mergeFields?2:0,e,n,i);YN("Data must be an object, but it was:",o,r);const a=GW(r,o);let u,c;if(s.merge)u=new Gr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Tg(e,d,n);if(!o.contains(h))throw new x(T.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);zW(l,h)||l.push(h)}u=new Gr(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new U1e(new $n(a),u,c)}class wg extends HN{_toFieldTransform(e){if(2!==e.Tu)throw e.gu(1===e.Tu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wg}}function Wu(t,e){if(qW(t=Gt(t)))return YN("Unsupported field value:",e,t),GW(t,e);if(t instanceof HN)return function(r,i){if(!LW(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ru&&4!==e.Tu)throw e.gu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Wu(a,i.fu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if(null===(r=Gt(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return NH(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=vt.fromDate(r);return{timestampValue:fd(i.serializer,s)}}if(r instanceof vt){const s=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fd(i.serializer,s)}}if(r instanceof WN)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hu)return{bytesValue:e8(i.serializer,r._byteString)};if(r instanceof Ht){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.gu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hM(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${DI(r)}`)}(t,e)}function GW(t,e){const n={};return tH(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(t,(r,i)=>{const s=Wu(i,e.Au(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function qW(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof WN||t instanceof Hu||t instanceof Ht||t instanceof HN)}function YN(t,e,n){if(!qW(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=DI(n);throw e.gu("an object"===r?t+" a custom object":t+" "+r)}var i}function Tg(t,e,n){if((e=Gt(e))instanceof Pd)return e._internalPath;if("string"==typeof e)return xI(t,e);throw RI("Field path arguments must be of type string or ",t,!1,void 0,n)}const q1e=new RegExp("[~\\*/\\[\\]]");function xI(t,e,n){if(e.search(q1e)>=0)throw RI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pd(...e.split("."))._internalPath}catch{throw RI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function RI(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new x(T.INVALID_ARGUMENT,a+t+u)}function zW(t,e){return t.some(n=>n.isEqual(e))}class XN{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new z1e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(PI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class z1e extends XN{data(){return super.data()}}function PI(t,e){return"string"==typeof e?xI(t,e):e instanceof Pd?e._internalPath:e._delegate._internalPath}class JN{}class H1e extends JN{}class bg extends H1e{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new bg(e,n,r)}_apply(e){const n=this._parse(e);return YW(e._query,n),new Gn(e.firestore,e.converter,iM(e._query,n))}_parse(e){const n=Md(e.firestore);return function(s,o,a,u,c,l,d){let h;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new x(T.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){QW(d,l);const f=[];for(const p of d)f.push(KW(u,s,p));h={arrayValue:{values:f}}}else h=KW(u,s,d)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||QW(d,l),h=function $W(t,e,n,r=!1){return Wu(n,t.wu(r?4:3,e))}(a,"where",d,"in"===l||"not-in"===l);return Se.create(c,l,h)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Nd extends JN{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Nd(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:Qe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)YW(o,u),o=iM(o,u)}(e._query,n),new Gn(e.firestore,e.converter,iM(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function KW(t,e,n){if("string"==typeof(n=Gt(n))){if(""===n)throw new x(T.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rM(e)&&-1!==n.indexOf("/"))throw new x(T.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ne.fromString(n));if(!U.isDocumentKey(r))throw new x(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ou(t,new U(r))}if(n instanceof Ht)return Ou(t,n._key);throw new x(T.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${DI(n)}.`)}function QW(t,e){if(!Array.isArray(t)||0===t.length)throw new x(T.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YW(t,e){if(e.isInequality()){const r=ZE(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new x(T.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=nM(t);null!==s&&function XW(t,e,n){if(!n.isEqual(e))throw new x(T.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new x(T.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Q1e{convertValue(e,n="none"){switch(da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw W()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ua(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new WN(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=WE(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wp(e));default:return null}}convertTimestamp(e){const n=ca(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);Z(l8(r));const i=new ku(r.get(1),r.get(3)),s=new U(r.popFirst(5));return i.isEqual(n)||qt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Ku{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kd extends XN{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new OI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(PI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class OI extends kd{data(e={}){return super.data(e)}}class Od{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ku(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new OI(this._firestore,this._userDataWriter,r.key,r,new Ku(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new x(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new OI(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ku(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const u=new OI(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ku(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:X1e(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function X1e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}class Ea extends Q1e{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function Cg(t,e){return function(r,i){const s=new cn;return r.asyncQueue.enqueueAndForget(_(function*(){return function n1e(t,e,n){return pN.apply(this,arguments)}(yield function jN(t){return AI(t).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(Wt(t),e)}function tk(t,e,n){const r=n.docs.get(e._key),i=new Ea(t);return new kd(t,i,e._key,r,new Ku(n.hasPendingWrites,n.fromCache),e.converter)}!function(e,n=!0){Xl=Wo,er(new Fn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ut(new PAe(r.getProvider("auth-internal")),new kAe(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new x(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ku(c.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),yt(L6,"4.2.0",e),yt(L6,"4.2.0","esm2017")}();var LI=function(){return LI=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},LI.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var gxe={includeMetadataChanges:!1};function ik(t,e){return void 0===e&&(e=gxe),new wt(function(n){var r=function nxe(t,...e){var n,r,i;t=Gt(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||zN(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(zN(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Ht)c=xe(t.firestore,ut),l=od(t._key.path),u={next:d=>{e[o]&&e[o](tk(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=xe(t,Gn);c=xe(d.firestore,ut),l=d._query;const h=new Ea(c);u={next:f=>{e[o]&&e[o](new Od(c,h,d,f))},error:e[o+1],complete:e[o+2]},function HW(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new x(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(h,f,p,g){const m=new bI(g),v=new cN(f,m,p);return h.asyncQueue.enqueueAndForget(_(function*(){return iN(yield Rd(h),v)})),()=>{m.La(),h.asyncQueue.enqueueAndForget(_(function*(){return oN(yield Rd(h),v)}))}}(Wt(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function wxe(t,e){return void 0===e&&(e={}),function Ixe(t){return ik(t,{includeMetadataChanges:!0}).pipe($e(function(e){return e.docs}))}(t).pipe($e(function(n){return n.map(function(r){return function nK(t,e){var n;void 0===e&&(e={});var r=t.data(e);return t.exists()&&"object"==typeof r&&null!==r&&e.idField?LI(LI({},r),((n={})[e.idField]=t.id,n)):r}(r,e)})}))}var G,bxe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zi={},ak=ak||{},_e=bxe||self;function UI(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ag(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var uk="closure_uid_"+(1e9*Math.random()>>>0),Axe=0;function Dxe(t,e,n){return t.call.apply(t.bind,arguments)}function Sxe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ur(t,e,n){return(ur=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Dxe:Sxe).apply(null,arguments)}function BI(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function In(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ia(){this.s=this.s,this.o=this.o}Ia.prototype.s=!1,Ia.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Cxe(t){Object.prototype.hasOwnProperty.call(t,uk)&&t[uk]||(t[uk]=++Axe)}(this)},Ia.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oK=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ck(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function aK(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(UI(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function cr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}cr.prototype.h=function(){this.defaultPrevented=!0};var Rxe=function(){if(!_e.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{_e.addEventListener("test",()=>{},e),_e.removeEventListener("test",()=>{},e)}catch{}return t}();function Dg(t){return/^[\s\xa0]*$/.test(t)}function jI(){var t=_e.navigator;return t&&(t=t.userAgent)?t:""}function Ts(t){return-1!=jI().indexOf(t)}function lk(t){return lk[" "](t),t}lk[" "]=function(){};var hk,Mxe=Ts("Opera"),Fd=Ts("Trident")||Ts("MSIE"),uK=Ts("Edge"),dk=uK||Fd,cK=Ts("Gecko")&&!(-1!=jI().toLowerCase().indexOf("webkit")&&!Ts("Edge"))&&!(Ts("Trident")||Ts("MSIE"))&&!Ts("Edge"),Nxe=-1!=jI().toLowerCase().indexOf("webkit")&&!Ts("Edge");function lK(){var t=_e.document;return t?t.documentMode:void 0}e:{var fk="",pk=function(){var t=jI();return cK?/rv:([^\);]+)(\)|;)/.exec(t):uK?/Edge\/([\d\.]+)/.exec(t):Fd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Nxe?/WebKit\/(\S+)/.exec(t):Mxe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(pk&&(fk=pk?pk[1]:""),Fd){var gk=lK();if(null!=gk&&gk>parseFloat(fk)){hk=String(gk);break e}}hk=fk}var kxe=_e.document&&Fd&&(lK()||parseInt(hk,10))||void 0;function Sg(t,e){if(cr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(cK){e:{try{lk(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Oxe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Sg.$.h.call(this)}}In(Sg,cr);var Oxe={2:"touch",3:"pen",4:"mouse"};Sg.prototype.h=function(){Sg.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var xg="closure_listenable_"+(1e6*Math.random()|0),Fxe=0;function Vxe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Fxe,this.fa=this.ia=!1}function $I(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function _k(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function hK(t){const e={};for(const n in t)e[n]=t[n];return e}const fK="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pK(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<fK.length;s++)n=fK[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function GI(t){this.src=t,this.g={},this.h=0}function yk(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=oK(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&($I(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function vk(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}GI.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=vk(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Vxe(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var Ek="closure_lm_"+(1e6*Math.random()|0),Ik={};function gK(t,e,n,r,i){if(r&&r.once)return _K(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)gK(t,e[s],n,r,i);return null}return n=Ck(n),t&&t[xg]?t.O(e,n,Ag(r)?!!r.capture:!!r,i):mK(t,e,n,!1,r,i)}function mK(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ag(i)?!!i.capture:!!i,a=Tk(t);if(a||(t[Ek]=a=new GI(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Uxe(){const e=Bxe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Rxe||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vK(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function _K(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)_K(t,e[s],n,r,i);return null}return n=Ck(n),t&&t[xg]?t.P(e,n,Ag(r)?!!r.capture:!!r,i):mK(t,e,n,!0,r,i)}function yK(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)yK(t,e[s],n,r,i);else r=Ag(r)?!!r.capture:!!r,n=Ck(n),t&&t[xg]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=vk(s=t.g[e],n,r,i))&&($I(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Tk(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vk(e,n,r,i)),(n=-1<t?e[t]:null)&&wk(n))}function wk(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[xg])yk(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vK(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Tk(e))?(yk(n,t),0==n.h&&(n.src=null,e[Ek]=null)):$I(t)}}}function vK(t){return t in Ik?Ik[t]:Ik[t]="on"+t}function Bxe(t,e){if(t.fa)t=!0;else{e=new Sg(e,this);var n=t.listener,r=t.la||t.src;t.ia&&wk(t),t=n.call(r,e)}return t}function Tk(t){return(t=t[Ek])instanceof GI?t:null}var bk="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ck(t){return"function"==typeof t?t:(t[bk]||(t[bk]=function(e){return t.handleEvent(e)}),t[bk])}function wn(){Ia.call(this),this.i=new GI(this),this.S=this,this.J=null}function qn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new cr(e,t);else if(e instanceof cr)e.target=e.target||t;else{var i=e;pK(e=new cr(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=qI(o,r,!0,e)&&i}if(i=qI(o=e.g=t,r,!0,e)&&i,i=qI(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=qI(o=e.g=n[s],r,!1,e)&&i}function qI(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&yk(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}In(wn,Ia),wn.prototype[xg]=!0,wn.prototype.removeEventListener=function(t,e,n,r){yK(this,t,e,n,r)},wn.prototype.N=function(){if(wn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$I(n[r]);delete t.g[e],t.h--}}this.J=null},wn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},wn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ak=_e.JSON.stringify;function $xe(){var t=Dk;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var EK=new class jxe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new qxe,t=>t.reset());class qxe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function zxe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Hxe(t){_e.setTimeout(()=>{throw t},0)}let Rg,Pg=!1,Dk=new class Gxe{constructor(){this.h=this.g=null}add(e,n){const r=EK.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},IK=()=>{const t=_e.Promise.resolve(void 0);Rg=()=>{t.then(Wxe)}};var Wxe=()=>{for(var t;t=$xe();){try{t.h.call(t.g)}catch(n){Hxe(n)}var e=EK;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Pg=!1};function zI(t,e){wn.call(this),this.h=t||1,this.g=e||_e,this.j=ur(this.qb,this),this.l=Date.now()}function Sk(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function xk(t,e,n){if("function"==typeof t)n&&(t=ur(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ur(t.handleEvent,t)}return 2147483647<Number(e)?-1:_e.setTimeout(t,e||0)}function wK(t){t.g=xk(()=>{t.g=null,t.i&&(t.i=!1,wK(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}In(zI,wn),(G=zI.prototype).ga=!1,G.T=null,G.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qn(this,"tick"),this.ga&&(Sk(this),this.start()))}},G.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},G.N=function(){zI.$.N.call(this),Sk(this),delete this.g};class Kxe extends Ia{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wK(this)}N(){super.N(),this.g&&(_e.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mg(t){Ia.call(this),this.h=t,this.g={}}In(Mg,Ia);var TK=[];function bK(t,e,n,r){Array.isArray(n)||(n&&(TK[0]=n.toString()),n=TK);for(var i=0;i<n.length;i++){var s=gK(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function CK(t){_k(t.g,function(e,n){this.g.hasOwnProperty(n)&&wk(e)},t),t.g={}}function HI(){this.g=!0}function Vd(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Jxe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ak(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Mg.prototype.N=function(){Mg.$.N.call(this),CK(this)},Mg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},HI.prototype.Ea=function(){this.g=!1},HI.prototype.info=function(){};var Qu={},AK=null;function WI(){return AK=AK||new wn}function DK(t){cr.call(this,Qu.Ta,t)}function Ng(t){const e=WI();qn(e,new DK(e))}function SK(t,e){cr.call(this,Qu.STAT_EVENT,t),this.stat=e}function Rr(t){const e=WI();qn(e,new SK(e,t))}function xK(t,e){cr.call(this,Qu.Ua,t),this.size=e}function kg(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return _e.setTimeout(function(){t()},e)}Qu.Ta="serverreachability",In(DK,cr),Qu.STAT_EVENT="statevent",In(SK,cr),Qu.Ua="timingevent",In(xK,cr);var KI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},RK={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Rk(){}function MK(){}Rk.prototype.h=null;var Nk,Og={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Pk(){cr.call(this,"d")}function Mk(){cr.call(this,"c")}function QI(){}function Fg(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Mg(this),this.P=Zxe,this.V=new zI(t=dk?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new NK}function NK(){this.i=null,this.g="",this.h=!1}In(Pk,cr),In(Mk,cr),In(QI,Rk),QI.prototype.g=function(){return new XMLHttpRequest},QI.prototype.i=function(){return{}},Nk=new QI;var Zxe=45e3,kk={},YI={};function Ok(t,e,n){t.L=1,t.v=ew(yo(e)),t.s=n,t.S=!0,kK(t,null)}function kK(t,e){t.G=Date.now(),Vg(t),t.A=yo(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),qK(n.i,"t",r),t.C=0,n=t.l.J,t.h=new NK,t.g=pQ(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Kxe(ur(t.Pa,t,t.g),t.O)),bK(t.U,t.g,"readystatechange",t.nb),e=t.I?hK(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ng(),function Qxe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function OK(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function FK(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=eRe(t,n),i==YI){4==e&&(t.o=4,Rr(14),r=!1),Vd(t.j,t.m,null,"[Incomplete Response]");break}if(i==kk){t.o=4,Rr(15),Vd(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Vd(t.j,t.m,i,null),Fk(t,i)}OK(t)&&i!=YI&&i!=kk&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Rr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gk(e),e.M=!0,Rr(11))):(Vd(t.j,t.m,n,"[Invalid Chunked Response]"),Yu(t),Lg(t))}function eRe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?YI:(n=Number(e.substring(n,r)),isNaN(n)?kk:(r+=1)+n>e.length?YI:(e=e.slice(r,r+n),t.C=r+n,e))}function Vg(t){t.Y=Date.now()+t.P,VK(t,t.P)}function VK(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=kg(ur(t.lb,t),e)}function XI(t){t.B&&(_e.clearTimeout(t.B),t.B=null)}function Lg(t){0==t.l.H||t.J||lQ(t.l,t)}function Yu(t){XI(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,Sk(t.V),CK(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Fk(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||Vk(n.i,t)))if(!t.K&&Vk(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;ow(n),iw(n)}$k(n),Rr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=kg(ur(n.ib,n),6e3));if(1>=WK(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ju(n,11)}else if((t.K||n.g==t)&&ow(n),!Dg(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Lk(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ht(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=fQ(r,r.J?r.pa:null,r.Y),o.K){KK(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(XI(a),Vg(a)),r.g=o}else uQ(r);0<n.j.length&&sw(n)}else"stop"!=c[0]&&"close"!=c[0]||Ju(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ju(n,7):jk(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Ng()}catch{}}function LK(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(UI(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function nRe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(UI(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function tRe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(UI(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(G=Fg.prototype).setTimeout=function(t){this.P=t},G.nb=function(t){t=t.target;const e=this.M;e&&3==bs(t)?e.l():this.Pa(t)},G.Pa=function(t){try{if(t==this.g)e:{const l=bs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||dk||this.g&&(this.h.h||this.g.ja()||nQ(this.g)))){this.J||4!=l||7==e||Ng(),XI(this);var n=this.g.da();this.ca=n;t:if(OK(this)){var r=nQ(this.g);t="";var i=r.length,s=4==bs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Yu(this),Lg(this);var o="";break t}this.h.i=new _e.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Yxe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dg(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Rr(12),Yu(this),Lg(this);break e}Vd(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fk(this,n)}this.S?(FK(this,l,o),dk&&this.i&&3==l&&(bK(this.U,this.V,"tick",this.mb),this.V.start())):(Vd(this.j,this.m,o,null),Fk(this,o)),4==l&&Yu(this),this.i&&!this.J&&(4==l?lQ(this.l,this):(this.i=!1,Vg(this)))}else(function ERe(t){const e={};t=(t.g&&2<=bs(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Dg(t[r]))continue;var n=zxe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Lxe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Rr(12)):(this.o=0,Rr(13)),Yu(this),Lg(this)}}}catch{}},G.mb=function(){if(this.g){var t=bs(this.g),e=this.g.ja();this.C<e.length&&(XI(this),FK(this,t,e),this.i&&4!=t&&Vg(this))}},G.cancel=function(){this.J=!0,Yu(this)},G.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function Xxe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ng(),Rr(17)),Yu(this),this.o=2,Lg(this)):VK(this,this.Y-t)};var UK=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xu(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xu){this.h=t.h,JI(this,t.j),this.s=t.s,this.g=t.g,ZI(this,t.m),this.l=t.l;var e=t.i,n=new jg;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),BK(this,n),this.o=t.o}else t&&(e=String(t).match(UK))?(this.h=!1,JI(this,e[1]||"",!0),this.s=Ug(e[2]||""),this.g=Ug(e[3]||"",!0),ZI(this,e[4]),this.l=Ug(e[5]||"",!0),BK(this,e[6]||"",!0),this.o=Ug(e[7]||"")):(this.h=!1,this.i=new jg(null,this.h))}function yo(t){return new Xu(t)}function JI(t,e,n){t.j=n?Ug(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ZI(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function BK(t,e,n){e instanceof jg?(t.i=e,function cRe(t,e){e&&!t.j&&(wa(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($K(this,r),qK(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Bg(e,aRe)),t.i=new jg(e,t.h))}function ht(t,e,n){t.i.set(e,n)}function ew(t){return ht(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ug(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bg(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,iRe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function iRe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Xu.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Bg(e,jK,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Bg(e,jK,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bg(n,"/"==n.charAt(0)?oRe:sRe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Bg(n,uRe)),t.join("")};var jK=/[#\/\?@]/g,sRe=/[#\?:]/g,oRe=/[#\?]/g,aRe=/[#\?@]/g,uRe=/#/g;function jg(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function wa(t){t.g||(t.g=new Map,t.h=0,t.i&&function rRe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function $K(t,e){wa(t),e=Ld(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function GK(t,e){return wa(t),e=Ld(t,e),t.g.has(e)}function qK(t,e,n){$K(t,e),0<n.length&&(t.i=null,t.g.set(Ld(t,e),ck(n)),t.h+=n.length)}function Ld(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function zK(t){this.l=t||dRe,t=_e.PerformanceNavigationTiming?0<(t=_e.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(_e.g&&_e.g.Ka&&_e.g.Ka()&&_e.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(G=jg.prototype).add=function(t,e){wa(this),this.i=null,t=Ld(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},G.forEach=function(t,e){wa(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},G.ta=function(){wa(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},G.Z=function(t){wa(this);let e=[];if("string"==typeof t)GK(this,t)&&(e=e.concat(this.g.get(Ld(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},G.set=function(t,e){return wa(this),this.i=null,GK(this,t=Ld(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},G.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},G.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var dRe=10;function HK(t){return!!t.h||!!t.g&&t.g.size>=t.j}function WK(t){return t.h?1:t.g?t.g.size:0}function Vk(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Lk(t,e){t.g?t.g.add(e):t.h=e}function KK(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function QK(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return ck(t.i)}zK.prototype.cancel=function(){if(this.i=QK(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var hRe=class{stringify(t){return _e.JSON.stringify(t,void 0)}parse(t){return _e.JSON.parse(t,void 0)}};function fRe(){this.g=new hRe}function pRe(t,e,n){const r=n||"";try{LK(t,function(i,s){let o=i;Ag(i)&&(o=Ak(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function tw(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function $g(t){this.l=t.fc||null,this.j=t.ob||!1}function nw(t,e){wn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Uk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}In($g,Rk),$g.prototype.g=function(){return new nw(this.l,this.j)},$g.prototype.i=function(t){return function(){return t}}({}),In(nw,wn);var Uk=0;function YK(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Gg(t){t.readyState=4,t.l=null,t.j=null,t.A=null,qg(t)}function qg(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(G=nw.prototype).open=function(t,e){if(this.readyState!=Uk)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,qg(this)},G.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||_e).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},G.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gg(this)),this.readyState=Uk},G.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,qg(this)),this.g&&(this.readyState=3,qg(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof _e.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;YK(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},G.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Gg(this):qg(this),3==this.readyState&&YK(this)}},G.Za=function(t){this.g&&(this.response=this.responseText=t,Gg(this))},G.Ya=function(t){this.g&&(this.response=t,Gg(this))},G.ka=function(){this.g&&Gg(this)},G.setRequestHeader=function(t,e){this.v.append(t,e)},G.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},G.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(nw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var mRe=_e.JSON.parse;function Ft(t){wn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=XK,this.L=this.M=!1}In(Ft,wn);var XK="",_Re=/^https?$/i,yRe=["POST","PUT"];function JK(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ZK(t),rw(t)}function ZK(t){t.F||(t.F=!0,qn(t,"complete"),qn(t,"error"))}function eQ(t){if(t.h&&typeof ak<"u"&&(!t.C[1]||4!=bs(t)||2!=t.da()))if(t.v&&4==bs(t))xk(t.La,0,t);else if(qn(t,"readystatechange"),4==bs(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(UK)[1]||null;!i&&_e.self&&_e.self.location&&(i=_e.self.location.protocol.slice(0,-1)),r=!_Re.test(i?i.toLowerCase():"")}n=r}if(n)qn(t,"complete"),qn(t,"success");else{t.m=6;try{var s=2<bs(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",ZK(t)}}finally{rw(t)}}}function rw(t,e){if(t.g){tQ(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||qn(t,"ready");try{n.onreadystatechange=r}catch{}}}function tQ(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(_e.clearTimeout(t.A),t.A=null)}function bs(t){return t.g?t.g.readyState:0}function nQ(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case XK:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function rQ(t){let e="";return _k(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function Bk(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=rQ(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ht(t,e,n))}function zg(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function iQ(t){this.Ga=0,this.j=[],this.l=new HI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zg("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zg("baseRetryDelayMs",5e3,t),this.hb=zg("retryDelaySeedMs",1e4,t),this.eb=zg("forwardChannelMaxRetries",2,t),this.xa=zg("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new zK(t&&t.concurrentRequestLimit),this.Ja=new fRe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function jk(t){if(sQ(t),3==t.H){var e=t.W++,n=yo(t.I);if(ht(n,"SID",t.K),ht(n,"RID",e),ht(n,"TYPE","terminate"),Hg(t,n),(e=new Fg(t,t.l,e)).L=2,e.v=ew(yo(n)),n=!1,_e.navigator&&_e.navigator.sendBeacon)try{n=_e.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&_e.Image&&((new Image).src=e.v,n=!0),n||(e.g=pQ(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Vg(e)}hQ(t)}function iw(t){t.g&&(Gk(t),t.g.cancel(),t.g=null)}function sQ(t){iw(t),t.u&&(_e.clearTimeout(t.u),t.u=null),ow(t),t.i.cancel(),t.m&&("number"==typeof t.m&&_e.clearTimeout(t.m),t.m=null)}function sw(t){if(!HK(t.i)&&!t.m){t.m=!0;var e=t.Na;Rg||IK(),Pg||(Rg(),Pg=!0),Dk.add(e,t),t.C=0}}function oQ(t,e){var n;n=e?e.m:t.W++;const r=yo(t.I);ht(r,"SID",t.K),ht(r,"RID",n),ht(r,"AID",t.V),Hg(t,r),t.o&&t.s&&Bk(r,t.o,t.s),n=new Fg(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=aQ(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Lk(t.i,n),Ok(n,r,e)}function Hg(t,e){t.na&&_k(t.na,function(n,r){ht(e,r,n)}),t.h&&LK({},function(n,r){ht(e,r,n)})}function aQ(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ur(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{pRe(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function uQ(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Rg||IK(),Pg||(Rg(),Pg=!0),Dk.add(e,t),t.A=0}}function $k(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=kg(ur(t.Ma,t),dQ(t,t.A)),t.A++,0))}function Gk(t){null!=t.B&&(_e.clearTimeout(t.B),t.B=null)}function cQ(t){t.g=new Fg(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=yo(t.wa);ht(e,"RID","rpc"),ht(e,"SID",t.K),ht(e,"AID",t.V),ht(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ht(e,"TO",t.qa),ht(e,"TYPE","xmlhttp"),Hg(t,e),t.o&&t.s&&Bk(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=ew(yo(e)),n.s=null,n.S=!0,kK(n,t)}function ow(t){null!=t.v&&(_e.clearTimeout(t.v),t.v=null)}function lQ(t,e){var n=null;if(t.g==e){ow(t),Gk(t),t.g=null;var r=2}else{if(!Vk(t.i,e))return;n=e.F,KK(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;qn(r=WI(),new xK(r,n)),sw(t)}else uQ(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function IRe(t,e){return!(WK(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=kg(ur(t.Na,t,e),dQ(t,t.C)),t.C++,0)))}(t,e)||2==r&&$k(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ju(t,5);break;case 4:Ju(t,10);break;case 3:Ju(t,6);break;default:Ju(t,2)}}function dQ(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ju(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=ur(t.pb,t);n||(n=new Xu("//www.google.com/images/cleardot.gif"),_e.location&&"http"==_e.location.protocol||JI(n,"https"),ew(n)),function gRe(t,e){const n=new HI;if(_e.Image){const r=new Image;r.onload=BI(tw,n,r,"TestLoadImage: loaded",!0,e),r.onerror=BI(tw,n,r,"TestLoadImage: error",!1,e),r.onabort=BI(tw,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=BI(tw,n,r,"TestLoadImage: timeout",!1,e),_e.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Rr(2);t.H=0,t.h&&t.h.za(e),hQ(t),sQ(t)}function hQ(t){if(t.H=0,t.ma=[],t.h){const e=QK(t.i);(0!=e.length||0!=t.j.length)&&(aK(t.ma,e),aK(t.ma,t.j),t.i.i.length=0,ck(t.j),t.j.length=0),t.h.ya()}}function fQ(t,e,n){var r=n instanceof Xu?yo(n):new Xu(n);if(""!=r.g)e&&(r.g=e+"."+r.g),ZI(r,r.m);else{var i=_e.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Xu(null);r&&JI(s,r),e&&(s.g=e),i&&ZI(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&ht(r,n,e),ht(r,"VER",t.ra),Hg(t,r),r}function pQ(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ft(n&&t.Ha&&!t.va?new $g({ob:!0}):t.va)).Oa(t.J),e}function gQ(){}function aw(){if(Fd&&!(10<=Number(kxe)))throw Error("Environmental error: no available transport.")}function li(t,e){wn.call(this),this.g=new iQ(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Dg(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Dg(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ud(this)}function mQ(t){Pk.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function _Q(){Mk.call(this),this.status=1}function Ud(t){this.g=t}function Hi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function qk(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ye(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(G=Ft.prototype).Oa=function(t){this.M=t},G.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Nk.g(),this.C=function PK(t){return t.h||(t.h=t.i())}(this.u?this.u:Nk),this.g.onreadystatechange=ur(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void JK(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=_e.FormData&&t instanceof _e.FormData,!(0<=oK(yRe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tQ(this),0<this.B&&((this.L=function vRe(t){return Fd&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ur(this.ua,this)):this.A=xk(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){JK(this,s)}},G.ua=function(){typeof ak<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qn(this,"timeout"),this.abort(8))},G.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,qn(this,"complete"),qn(this,"abort"),rw(this))},G.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rw(this,!0)),Ft.$.N.call(this)},G.La=function(){this.s||(this.G||this.v||this.l?eQ(this):this.kb())},G.kb=function(){eQ(this)},G.isActive=function(){return!!this.g},G.da=function(){try{return 2<bs(this)?this.g.status:-1}catch{return-1}},G.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},G.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),mRe(e)}},G.Ia=function(){return this.m},G.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(G=iQ.prototype).ra=8,G.H=1,G.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Fg(this,this.l,t);let s=this.s;if(this.U&&(s?(s=hK(s),pK(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=aQ(this,i,e),ht(n=yo(this.I),"RID",t),ht(n,"CVER",22),this.F&&ht(n,"X-HTTP-Session-Id",this.F),Hg(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(rQ(s)))+"&"+e:this.o&&Bk(n,this.o,s)),Lk(this.i,i),this.bb&&ht(n,"TYPE","init"),this.P?(ht(n,"$req",e),ht(n,"SID","null"),i.aa=!0,Ok(i,n,null)):Ok(i,n,e),this.H=2}}else 3==this.H&&(t?oQ(this,t):0==this.j.length||HK(this.i)||oQ(this))},G.Ma=function(){if(this.u=null,cQ(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=kg(ur(this.jb,this),t)}},G.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Rr(10),iw(this),cQ(this))},G.ib=function(){null!=this.v&&(this.v=null,iw(this),$k(this),Rr(19))},G.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Rr(2)):(this.l.info("Failed to ping google.com"),Rr(1))},G.isActive=function(){return!!this.h&&this.h.isActive(this)},(G=gQ.prototype).Ba=function(){},G.Aa=function(){},G.za=function(){},G.ya=function(){},G.isActive=function(){return!0},G.Va=function(){},aw.prototype.g=function(t,e){return new li(t,e)},In(li,wn),li.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Rr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=fQ(t,null,t.Y),sw(t)},li.prototype.close=function(){jk(this.g)},li.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=Ak(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&sw(e)},li.prototype.N=function(){this.g.h=null,delete this.j,jk(this.g),delete this.g,li.$.N.call(this)},In(mQ,Pk),In(_Q,Mk),In(Ud,gQ),Ud.prototype.Ba=function(){qn(this.g,"a")},Ud.prototype.Aa=function(t){qn(this.g,new mQ(t))},Ud.prototype.za=function(t){qn(this.g,new _Q)},Ud.prototype.ya=function(){qn(this.g,"b")},In(Hi,function wRe(){this.blockSize=-1}),Hi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Hi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)qk(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){qk(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){qk(this,r),i=0;break}}this.h=i,this.i+=e},Hi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var TRe={};function zk(t){return-128<=t&&128>t?function Pxe(t,e){var n=TRe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ye([0|e],0>e?-1:0)}):new Ye([0|t],0>t?-1:0)}function Cs(t){if(isNaN(t)||!isFinite(t))return Bd;if(0>t)return zn(Cs(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Hk;return new Ye(e,0)}var Hk=4294967296,Bd=zk(0),Wk=zk(1),vQ=zk(16777216);function vo(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Ai(t){return-1==t.h}function zn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ye(n,~t.h).add(Wk)}function uw(t,e){return t.add(zn(e))}function cw(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Wg(t,e){this.g=t,this.h=e}function lw(t,e){if(vo(e))throw Error("division by zero");if(vo(t))return new Wg(Bd,Bd);if(Ai(t))return e=lw(zn(t),e),new Wg(zn(e.g),zn(e.h));if(Ai(e))return e=lw(t,zn(e)),new Wg(zn(e.g),e.h);if(30<t.g.length){if(Ai(t)||Ai(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Wk,r=e;0>=r.X(t);)n=EQ(n),r=EQ(r);var i=jd(n,1),s=jd(r,1);for(r=jd(r,2),n=jd(n,2);!vo(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=jd(r,1),n=jd(n,1)}return e=uw(t,i.R(e)),new Wg(i,e)}for(i=Bd;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Cs(n)).R(e);Ai(o)||0<o.X(t);)o=(s=Cs(n-=r)).R(e);vo(s)&&(s=Wk),i=i.add(s),t=uw(t,o)}return new Wg(i,t)}function EQ(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ye(n,t.h)}function jd(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ye(i,t.h)}(G=Ye.prototype).ea=function(){if(Ai(this))return-zn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Hk+r)*e,e*=Hk}return t},G.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(vo(this))return"0";if(Ai(this))return"-"+zn(this).toString(t);for(var e=Cs(Math.pow(t,6)),n=this,r="";;){var i=lw(n,e).g,s=((0<(n=uw(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(vo(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},G.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},G.X=function(t){return Ai(t=uw(this,t))?-1:vo(t)?0:1},G.abs=function(){return Ai(this)?zn(this):this},G.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ye(n,-2147483648&n[n.length-1]?-1:0)},G.R=function(t){if(vo(this)||vo(t))return Bd;if(Ai(this))return Ai(t)?zn(this).R(zn(t)):zn(zn(this).R(t));if(Ai(t))return zn(this.R(zn(t)));if(0>this.X(vQ)&&0>t.X(vQ))return Cs(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,cw(n,2*r+2*i),n[2*r+2*i+1]+=s*u,cw(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,cw(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,cw(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ye(n,0)},G.gb=function(t){return lw(this,t).h},G.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ye(n,this.h&t.h)},G.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ye(n,this.h|t.h)},G.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ye(n,this.h^t.h)},aw.prototype.createWebChannel=aw.prototype.g,li.prototype.send=li.prototype.u,li.prototype.open=li.prototype.m,li.prototype.close=li.prototype.close,KI.NO_ERROR=0,KI.TIMEOUT=8,KI.HTTP_ERROR=6,RK.COMPLETE="complete",MK.EventType=Og,Og.OPEN="a",Og.CLOSE="b",Og.ERROR="c",Og.MESSAGE="d",wn.prototype.listen=wn.prototype.O,Ft.prototype.listenOnce=Ft.prototype.P,Ft.prototype.getLastError=Ft.prototype.Sa,Ft.prototype.getLastErrorCode=Ft.prototype.Ia,Ft.prototype.getStatus=Ft.prototype.da,Ft.prototype.getResponseJson=Ft.prototype.Wa,Ft.prototype.getResponseText=Ft.prototype.ja,Ft.prototype.send=Ft.prototype.ha,Ft.prototype.setWithCredentials=Ft.prototype.Oa,Hi.prototype.digest=Hi.prototype.l,Hi.prototype.reset=Hi.prototype.reset,Hi.prototype.update=Hi.prototype.j,Ye.prototype.add=Ye.prototype.add,Ye.prototype.multiply=Ye.prototype.R,Ye.prototype.modulo=Ye.prototype.gb,Ye.prototype.compare=Ye.prototype.X,Ye.prototype.toNumber=Ye.prototype.ea,Ye.prototype.toString=Ye.prototype.toString,Ye.prototype.getBits=Ye.prototype.D,Ye.fromNumber=Cs,Ye.fromString=function yQ(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return zn(yQ(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Cs(Math.pow(e,8)),r=Bd,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Cs(Math.pow(e,s)),r=r.R(s).add(Cs(o))):r=(r=r.R(n)).add(Cs(o))}return r},zi.createWebChannelTransport=function(){return new aw},zi.getStatEventTarget=function(){return WI()},zi.ErrorCode=KI,zi.EventType=RK,zi.Event=Qu,zi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zi.FetchXmlHttpFactory=$g,zi.WebChannel=MK,zi.XhrIo=Ft,zi.Md5=Hi;var bRe=zi.Integer=Ye;const IQ="@firebase/firestore";class Tn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");let Kg="9.23.0";const Ta=new du("@firebase/firestore");function M(t,...e){if(Ta.logLevel<=Ce.DEBUG){const n=e.map(Qk);Ta.debug(`Firestore (${Kg}): ${t}`,...n)}}function Kt(t,...e){if(Ta.logLevel<=Ce.ERROR){const n=e.map(Qk);Ta.error(`Firestore (${Kg}): ${t}`,...n)}}function Qk(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function K(t="Unexpected state"){const e=`FIRESTORE (${Kg}) INTERNAL ASSERTION FAILED: `+t;throw Kt(e),new Error(e)}function ee(t,e){t||K()}const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class R extends si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class wQ{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CRe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tn.UNAUTHENTICATED))}shutdown(){}}class ARe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DRe{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new dn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new dn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(_(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{M("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(M("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new dn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(M("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ee("string"==typeof r.accessToken),new wQ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ee(null===e||"string"==typeof e),new Tn(e)}}class SRe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class xRe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new SRe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TQ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RRe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&M("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,M("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{M("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):M("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ee("string"==typeof n.token),this.T=n.token,new TQ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function PRe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class bQ{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=PRe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}class dw{constructor(e,n,r){void 0===n?n=0:n>e.length&&K(),void 0===r?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===dw.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dw?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Oe extends dw{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new R(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}class B{constructor(e){this.path=e}static fromPath(e){return new B(Oe.fromString(e))}static fromName(e){return new B(Oe.fromString(e).popFirst(5))}static empty(){return new B(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Oe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new B(new Oe(e.slice()))}}function Ca(t){return"IndexedDbTransactionError"===t.name}class ct{constructor(e,n){this.comparator=e,this.root=n||Hn.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mw(this.root,e,this.comparator,!1)}getReverseIterator(){return new mw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mw(this.root,e,this.comparator,!0)}}class mw{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Hn.RED,this.left=i??Hn.EMPTY,this.right=s??Hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Hn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Hn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}}Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1,Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Hn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ft{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new UQ(this.data.getIterator())}getIteratorFrom(e){return new UQ(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ft(this.comparator);return n.data=e,n}}class UQ{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class BQ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new BQ("Invalid base64 string: "+i):i}}(e);return new hn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function Vt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}hn.EMPTY_BYTE_STRING=new hn("");class iPe{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class tc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new tc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}var nn,Fe;new ct(B.comparator),new ct(B.comparator),new ct(B.comparator),new ft(B.comparator),new ft(fe),(Fe=nn||(nn={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS",new bRe([4294967295,4294967295],0);class lc{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Vt(e.integerValue));else if("doubleValue"in e){const r=Vt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),function Jg(t){return 0===t&&1/t==-1/0}(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(function Eo(t){return"string"==typeof t?hn.fromBase64String(t):hn.fromUint8Array(t)}(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?function qQ(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):K()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),B.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}lc.Ve=new lc,new Uint8Array(0);class dr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new dr(e,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qw(){return typeof document<"u"?document:null}dr.DEFAULT_COLLECTION_PERCENTILE=10,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dr.DEFAULT=new dr(41943040,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dr.DISABLED=new dr(-1,0,0);class qO{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&M("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class cF{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new cF(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new R(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class gNe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tn.UNAUTHENTICATED,this.clientId=bQ.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){M("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(M("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new R(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=function ah(t,e){if(Kt("AsyncQueue",`${e}: ${t}`),Ca(t))return new R(b.UNAVAILABLE,`${e}: ${t}`);throw t}(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function oJ(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const aJ=new Map;function Re(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new R(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function Jw(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":K()}(t);throw new R(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class dJ{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new R(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new R(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function bNe(t,e,n,r){if(!0===e&&!0===r)throw new R(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=oJ(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new R(b.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new R(b.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new R(b.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dJ({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new R(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new R(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dJ(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new CRe;switch(n.type){case"firstParty":return new xRe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new R(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=aJ.get(e);n&&(M("ComponentProvider","Removing Datastore"),aJ.delete(e),n.terminate())}(this),Promise.resolve()}}function CNe(t,e,n,r={}){var i;const s=(t=Re(t,Dm))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&function As(t,...e){if(Ta.logLevel<=Ce.WARN){const n=e.map(Qk);Ta.warn(`Firestore (${Kg}): ${t}`,...n)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Tn.MOCK_USER;else{a=function kme(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pv(JSON.stringify({alg:"none",type:"JWT"})),pv(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new R(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Tn(c)}t._authCredentials=new ARe(new wQ(a,u))}}class DNe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new qO(this,"async_queue_retry"),this.Xc=()=>{const n=qw();n&&M("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=qw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=qw();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new dn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return _(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Ca(n))throw n;M("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Kt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=cF.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&K()}verifyOperationInProgress(){}sa(){var e=this;return _(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class gt extends Dm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new DNe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function fJ(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new iPe(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,oJ(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new gNe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function xNe(t,e){const r="string"==typeof t?t:e||"(default)",i=Pl("object"==typeof t?t:sD(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=gq("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();s&&CNe(i,...s)}return i}!function(t,e=!0){Kg=Wo,er(new Fn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new gt(new DRe(n.getProvider("auth-internal")),new RRe(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new R(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),yt(IQ,"3.13.0",t),yt(IQ,"3.13.0","esm2017")}();class uT{constructor(e){return e}}const kJ="firestore",iV=new Y("angularfire2.firestore-instances");function nke(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new uT(r)}}const rke={provide:class eke{constructor(){return a1(kJ)}},deps:[[new wr,iV]]},ike={provide:uT,useFactory:function tke(t,e){const n=o1(kJ,t,e);return n&&new uT(n)},deps:[[new wr,iV],Ol]};let ske=(()=>{class t{constructor(){yt("angularfire",Rv.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=mr({type:t}),t.\u0275inj=Kn({providers:[ike,rke]}),t})();function oke(t,...e){return{ngModule:ske,providers:[{provide:iV,useFactory:nke(t),multi:!0,deps:[Ue,Xn,u1,c1,[new wr,g7],[new wr,P1],...e]}]}}const ake=Qo(wxe,!0),uke=Qo(xNe,!0);let cke=(()=>{var t;class e{constructor(r){var i=this;this.firestore=r,this.createTicket=function(){var s=_(function*(o,a){try{const u=MW(i.firestore,"tickets"),l={licensePlate:o.licensePlate,location:o.location,hours:o.hours,price:void 0!==o.price?o.price:0,dateAndTime:vt.fromDate(new Date),status:o.status,userId:a};return(yield function txe(t,e){const n=xe(t.firestore,ut),r=qN(t),i=function ek(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Cg(n,[KN(Md(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Et.exists(!1))]).then(()=>r)}(u,l)).id}catch(u){throw console.error("Error creating ticket:",u),u}});return function(o,a){return s.apply(this,arguments)}}(),this.payTicket=s=>{if(!s)return console.log(`Id ${s} not found.`),Promise.reject(`Id ${s} not found.`);const o=qN(this.firestore,`tickets/${s}`);return function J1e(t){t=xe(t,Ht);const e=xe(t.firestore,ut);return function bW(t,e,n={}){const r=new cn;return t.asyncQueue.enqueueAndForget(_(function*(){return function(s,o,a,u,c){const l=new bI({next:h=>{o.enqueueAndForget(()=>oN(s,d));const f=h.docs.has(a);!f&&h.fromCache?c.reject(new x(T.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&u&&"server"===u.source?c.reject(new x(T.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new cN(od(a.path),l,{includeMetadataChanges:!0,Z_:!0});return iN(s,d)}(yield Rd(t),t.asyncQueue,e,n,r)})),r.promise}(Wt(e),t._key).then(n=>tk(e,t,n))}(o).then(a=>a.exists()?!0===a.data()?.status?(console.log(`Ticket with ID ${s} is already paid.`),Promise.resolve()):function Z1e(t,e,n,...r){t=xe(t,Ht);const i=xe(t.firestore,ut),s=Md(i);let o;return o="string"==typeof(e=Gt(e))||e instanceof Pd?function jW(t,e,n,r,i,s){const o=t.wu(1,e,n),a=[Tg(e,r,n)],u=[i];if(s.length%2!=0)throw new x(T.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Tg(e,s[h])),u.push(s[h+1]);const c=[],l=$n.empty();for(let h=a.length-1;h>=0;--h)if(!zW(c,a[h])){const f=a[h];let p=u[h];p=Gt(p);const g=o.mu(f);if(p instanceof wg)c.push(f);else{const m=Wu(p,g);null!=m&&(c.push(f),l.set(f,m))}}const d=new Gr(c);return new VW(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function BW(t,e,n,r){const i=t.wu(1,e,n);YN("Data must be an object, but it was:",i,r);const s=[],o=$n.empty();ua(r,(u,c)=>{const l=xI(e,u,n);c=Gt(c);const d=i.mu(l);if(c instanceof wg)s.push(l);else{const h=Wu(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new Gr(s);return new VW(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),Cg(i,[o.toMutation(t._key,Et.exists(!0))])}(o,{status:!0}):(console.log(`Ticket with ID ${s} not found.`),Promise.reject(`Ticket with ID ${s} not found.`))).catch(a=>(console.error("Error updating ticket:",a),Promise.reject("Error updating ticket")))},this.deleteTicket=s=>Dt(function exe(t){return Cg(xe(t.firestore,ut),[new hd(t._key,Et.none())])}(qN(this.firestore,`tickets/${s}`)))}getPostsByUserId(r){const s=function W1e(t,e,...n){let r=[];e instanceof JN&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof Nd).length,a=s.filter(u=>u instanceof bg).length;if(o>1||o>0&&a>0)throw new x(T.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}(MW(this.firestore,"tickets"),function K1e(t,e,n){const r=e,i=PI("where",t);return bg._create(i,r,n)}("userId","==",r));return ake(s,{idField:"id"})}}return(t=e).\u0275fac=function(r){return new(r||t)(Q(uT))},t.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function lke(t,e){1&t&&(O(0,"div",23),n0(),O(1,"svg",24),Nn(2,"path",25)(3,"path",26),k(),r0(),O(4,"span",27),z(5,"Loading..."),k()())}function dke(t,e){if(1&t){const n=iy();O(0,"button",37),jt("click",function(){o_(n);const i=ti().$implicit;return a_(ti().onClickPay(i.id))}),z(1," Pay now! "),k()}}function hke(t,e){if(1&t){const n=iy();O(0,"button",38),jt("click",function(){o_(n);const i=ti().$implicit;return a_(ti().onClickDelete(i.id))}),z(1," Delete "),k()}}function fke(t,e){if(1&t&&(O(0,"div",28)(1,"div",29)(2,"div",30)(3,"h2",31),z(4),k(),O(5,"p",32),z(6),k(),O(7,"p",32),z(8),qb(9,"currency"),k(),O(10,"p",32),z(11),qb(12,"date"),k(),O(13,"p",32),z(14),k(),O(15,"div",33)(16,"div",34),qe(17,dke,2,0,"button",35),qe(18,hke,2,0,"button",36),k()()()()()),2&t){const n=e.$implicit;ve("@slideUp","ticket-"+e.index),se(4),ss(" ",n.licensePlate," "),se(2),ss("Location: ",n.location,""),se(2),ss("Price: ",h$(9,8,n.price),""),se(3),ss(" Date and Time: ",f$(12,10,n.dateAndTime.toDate(),"short")," "),se(3),ss(" Status: ",n.status?"Paid":"Unpaid"," "),se(3),ve("ngIf",!n.status),se(1),ve("ngIf",n.status)}}function pke(t,e){1&t&&(O(0,"div",39),z(1," License Plate is required. "),k())}function gke(t,e){1&t&&(O(0,"div",39),z(1," License Plate is too short (minimum 3 characters). "),k())}function mke(t,e){1&t&&(O(0,"div",39),z(1," License Plate is too long (maximum 15 characters). "),k())}function _ke(t,e){if(1&t&&(O(0,"option",40),z(1),k()),2&t){const n=e.$implicit,r=ti();ve("value",n),se(1),Nb(" ",n," - $",r.locationPrices[n]," (per hour) ")}}function yke(t,e){1&t&&(O(0,"div",39),z(1," Location is required. "),k())}const vke=[{path:"",component:fbe},{path:"register",component:yCe},{path:"login",component:ICe},{path:"about",component:wCe},{path:"my-tickets",component:(()=>{var t;class e{constructor(r,i,s){this.fb=r,this.ticketsService=i,this.authService=s,this.isModalOpen=!1,this.locations=Object.values(Au),this.payNowModal=!1,this.locationPrices={[Au.ParkingLocation1]:5,[Au.ParkingLocation2]:6,[Au.ParkingLocation3]:4,[Au.ParkingLocation4]:7,[Au.ParkingLocation5]:8},this.onClickPay=o=>{try{this.ticketsService.payTicket(o)}catch(a){console.log(a)}},this.onClickDelete=o=>{try{this.ticketsService.deleteTicket(o)}catch(a){console.log(a)}}}ngOnInit(){this.ticketForm=this.fb.group({licensePlate:["",[nr.required,nr.maxLength(15),nr.minLength(3)]],hours:[1,[nr.required,nr.min(1)]],location:["",[nr.required]]}),console.log(this.ticketForm),this.authService.loggedUser$.subscribe(r=>{this.currentUser=r?.uid}),void 0!==this.currentUser&&this.ticketsService.getPostsByUserId(this.currentUser).subscribe(r=>{console.log(r),this.userTickets=r})}addTicket(){if(this.ticketForm.valid&&void 0!==this.currentUser){const r=this.ticketForm.value.location,i=this.ticketForm.value.hours;console.log(this.ticketForm);const o=this.locationPrices[r]*i,a={id:"",...this.ticketForm.value,dateAndTime:new Date,status:!1,price:o};this.ticketsService.createTicket(a,this.currentUser).then(u=>{this.ticketForm.reset(),this.closeModal()}).catch(u=>{console.log("Error Adding ticket",u)})}}openModal(){this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}payNowModalOpen(){this.payNowModal=!0}payNowModalClose(){this.payNowModal=!1}}return(t=e).\u0275fac=function(r){return new(r||t)(S(tP),S(cke),S(Bl))},t.\u0275cmp=Pi({type:t,selectors:[["app-my-tickets"]],decls:40,vars:14,consts:[[1,"bg-blue-500","p-4"],[1,"container","mx-auto","flex","justify-between","items-center"],[1,"text-3xl","font-semibold","text-white"],["id","addTicketButton",1,"bg-white","text-blue-500","hover:bg-blue-700","font-bold","py-2","px-4","rounded-full",3,"click"],["role","status","class","fixed inset-0 flex items-center justify-center z-50 bg-black opacity-80",4,"ngIf"],[1,"container","mx-auto","py-8"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","xl:grid-cols-5","gap-6"],["class","bg-white shadow-md rounded-lg overflow-hidden",3,"fade-in",4,"ngFor","ngForOf"],[1,"fixed","inset-0","flex","items-center","justify-center","z-50","bg-black","opacity-80"],[1,"bg-white","w-full","max-w-md","p-6","rounded-lg","shadow-lg"],[1,"text-2xl","font-semibold","mb-4"],[3,"formGroup"],[1,"mb-4"],["for","ticketName",1,"block","text-gray-700","font-bold","mb-2"],["type","text","id","ticketName","name","ticketName","required","","placeholder","SR-0000-AD","formControlName","licensePlate",1,"w-full","px-3","py-2","border","rounded-lg"],["class","text-red-500",4,"ngIf"],["type","number","id","ticketHours","name","ticketHours","required","","placeholder","1","formControlName","hours",1,"w-full","px-3","py-2","border","rounded-lg"],["for","location",1,"block","text-gray-700","font-bold","mb-2"],["id","location","name","location","required","","formControlName","location",1,"w-full","px-3","py-2","border","rounded-lg"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"bg-blue-500","text-white","font-bold","py-2","px-4","rounded-full","hover:bg-blue-700",3,"click"],["type","button",1,"text-gray-500","ml-4","hover:text-gray-700",3,"click"],["role","status",1,"fixed","inset-0","flex","items-center","justify-center","z-50","bg-black","opacity-80"],["aria-hidden","true","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"w-8","h-8","mr-2","text-gray-200","animate-spin","dark:text-gray-600","fill-blue-600"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","currentColor"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentFill"],[1,"sr-only"],[1,"bg-white","shadow-md","rounded-lg","overflow-hidden",3,"fade-in"],[1,"relative"],[1,"p-4"],[1,"text-xl","font-semibold","mb-2"],[1,"text-gray-600"],[1,"flex","justify-between"],[1,"mt-4"],["class","bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-full transition duration-300 ease-in-out",3,"click",4,"ngIf"],["class","bg-red-500 hover:bg-red-600 text-white font-semibold py-2 px-4 rounded-full transition duration-300 ease-in-out",3,"click",4,"ngIf"],[1,"bg-blue-500","hover:bg-blue-600","text-white","font-semibold","py-2","px-4","rounded-full","transition","duration-300","ease-in-out",3,"click"],[1,"bg-red-500","hover:bg-red-600","text-white","font-semibold","py-2","px-4","rounded-full","transition","duration-300","ease-in-out",3,"click"],[1,"text-red-500"],[3,"value"]],template:function(r,i){if(1&r&&(O(0,"nav",0)(1,"div",1)(2,"h1",2),z(3,"My Tickets"),k(),O(4,"button",3),jt("click",function(){return i.openModal()}),z(5," Create Ticket "),k()()(),qe(6,lke,6,0,"div",4),O(7,"div",5)(8,"div",5)(9,"div",6),qe(10,fke,19,13,"div",7),k()(),O(11,"div",8)(12,"div",9)(13,"h2",10),z(14,"Add Ticket"),k(),O(15,"form",11)(16,"div",12)(17,"label",13),z(18,"License Plate"),k(),Nn(19,"input",14),qe(20,pke,2,0,"div",15),qe(21,gke,2,0,"div",15),qe(22,mke,2,0,"div",15),k(),O(23,"div",12)(24,"label",13),z(25,"Hours"),k(),Nn(26,"input",16),k(),O(27,"div",12)(28,"label",17),z(29,"Location"),k(),O(30,"select",18)(31,"option",19),z(32,"Select a location"),k(),qe(33,_ke,2,3,"option",20),k(),qe(34,yke,2,0,"div",15),k(),O(35,"div",12)(36,"button",21),jt("click",function(){return i.addTicket()}),z(37," Submit "),k(),O(38,"button",22),jt("click",function(){return i.closeModal()}),z(39," Cancel "),k()()()()()()),2&r){let s,o,a,u;se(6),ve("ngIf",!i.userTickets),se(4),ve("ngForOf",i.userTickets),se(1),ll("fade-out",!i.isModalOpen)("fade-in",i.isModalOpen)("hidden",!i.isModalOpen),se(4),ve("formGroup",i.ticketForm),se(5),ve("ngIf",(null==(s=i.ticketForm.get("licensePlate"))?null:s.hasError("required"))&&(null==(s=i.ticketForm.get("licensePlate"))?null:s.touched)),se(1),ve("ngIf",(null==(o=i.ticketForm.get("licensePlate"))?null:o.hasError("minlength"))&&(null==(o=i.ticketForm.get("licensePlate"))?null:o.touched)),se(1),ve("ngIf",(null==(a=i.ticketForm.get("licensePlate"))?null:a.hasError("maxlength"))&&(null==(a=i.ticketForm.get("licensePlate"))?null:a.touched)),se(11),ve("ngForOf",i.locations),se(1),ve("ngIf",(null==(u=i.ticketForm.get("location"))?null:u.hasError("required"))&&(null==(u=i.ticketForm.get("location"))?null:u.touched))}},dependencies:[q4,_l,fE,o5,u5,jl,YR,pE,rE,iE,gE,Gl,Ep,Y4,K4],styles:[".fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.fade-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeOut .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:.8}}@keyframes _ngcontent-%COMP%_fadeOut{0%{opacity:.8}to{opacity:0}}"],data:{animation:[yl("slideUp",[Xs(":enter",[kn({opacity:0,transform:"translateY(100%)"}),Ys("300ms ease-in",kn({opacity:1,transform:"translateY(0)"}))])])]}}),e})(),canActivate:[(t,e)=>{const n=H(Bl),r=H(Zn);return n.loggedUser$.pipe($e(i=>!!i||(r.navigate(["/"]),!1)))}]},{path:"**",component:(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pi({type:t,selectors:[["app-not-found"]],decls:7,vars:0,consts:[[1,"flex","flex-col","items-center","justify-center","h-screen"],[1,"text-4xl","font-bold","text-red-600","mb-4"],[1,"text-gray-600"],["routerLink","/",1,"text-blue-500","mt-4","hover:underline"]],template:function(r,i){1&r&&(O(0,"div",0)(1,"h1",1),z(2,"404 Not Found"),k(),O(3,"p",2),z(4,"The page you are looking for does not exist."),k(),O(5,"a",3),z(6,"Go back to home"),k()())},dependencies:[Rl]}),e})()}];let Eke=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mr({type:t}),t.\u0275inj=Kn({imports:[lq.forRoot(vke),lq]}),e})();const sV=function(){return{exact:!0}};function Ike(t,e){1&t&&(O(0,"li")(1,"a",13),z(2,"My Tickets"),k()()),2&t&&(se(1),ve("routerLinkActiveOptions",dy(1,sV)))}function wke(t,e){1&t&&(O(0,"li")(1,"a",14),z(2,"Log In"),k()())}function Tke(t,e){if(1&t){const n=iy();O(0,"li")(1,"a",15),jt("click",function(){return o_(n),a_(ti().onClickLogout())}),z(2,"Logout"),k()()}}let bke=(()=>{var t;class e{constructor(r){this.authService=r,this.isMenuOpen=!1,this.currentUser=!1}ngOnInit(){this.authService.loggedUser$.subscribe(r=>{this.currentUser=!!r})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}onClickLogout(){this.authService.logout()}}return(t=e).\u0275fac=function(r){return new(r||t)(S(Bl))},t.\u0275cmp=Pi({type:t,selectors:[["app-navigation"]],decls:20,vars:11,consts:[[1,"bg-white","border-gray-200","dark:bg-gray-900"],[1,"max-w-screen-xl","flex","flex-wrap","items-center","justify-between","mx-auto","p-4"],["routerLink","/",1,"flex","items-center"],["src","/assets/images/logo.png","alt","Logo","width","70",1,"mr-3"],[1,"self-center","text-2xl","font-semibold","whitespace-nowrap","dark:text-white"],["data-collapse-toggle","navbar-default","type","button","aria-controls","navbar-default",1,"inline-flex","items-center","p-2","w-10","h-10","justify-center","text-sm","text-gray-500","rounded-lg","md:hidden","hover:bg-gray-100","focus:outline-none","focus:ring-2","focus:ring-gray-200","dark:text-gray-400","dark:hover:bg-gray-700","dark:focus:ring-gray-600",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 17 14",1,"w-5","h-5"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M1 1h15M1 7h15M1 13h15"],["id","navbar-default",1,"w-full","md:block","md:w-auto"],[1,"font-medium","flex","flex-col","p-4","md:p-0","mt-4","border","border-gray-100","rounded-lg","bg-gray-50","md:flex-row","md:space-x-8","md:mt-0","md:border-0","md:bg-white","dark:bg-gray-800","md:dark:bg-gray-900","dark:border-gray-700"],["routerLink","/","aria-current","page","routerLinkActive","md:text-blue-700 dark:text-white md:dark:text-blue-500",1,"block","py-2","pl-3","pr-4","text-white","rounded","md:bg-transparent","md:p-0","hover:bg-sky-700",3,"routerLinkActiveOptions"],[4,"ngIf"],["routerLink","about","routerLinkActive","md:text-blue-700 dark:text-white md:dark:text-blue-500",1,"block","py-2","pl-3","pr-4","text-white","rounded","md:bg-transparent","md:p-0","hover:bg-sky-700",3,"routerLinkActiveOptions"],["routerLink","my-tickets","routerLinkActive","md:text-blue-700 dark:text-white md:dark:text-blue-500",1,"block","py-2","pl-3","pr-4","text-white","rounded","md:bg-transparent","md:p-0","hover:bg-sky-700",3,"routerLinkActiveOptions"],["routerLink","login",1,"bg-white","text-blue-500","hover:bg-blue-400","py-2","px-6","rounded-full","text-lg","font-semibold","transition","duration-300"],["routerLink","login",1,"bg-white","text-blue-500","hover:bg-blue-400","py-2","px-6","rounded-full","text-lg","font-semibold","transition","duration-300",3,"click"]],template:function(r,i){1&r&&(O(0,"nav",0)(1,"div",1)(2,"a",2),Nn(3,"img",3),O(4,"span",4),z(5,"Parking Tickets"),k()(),O(6,"button",5),jt("click",function(){return i.toggleMenu()}),n0(),O(7,"svg",6),Nn(8,"path",7),k()(),r0(),O(9,"div",8)(10,"ul",9)(11,"li")(12,"a",10),z(13,"Home"),k()(),qe(14,Ike,3,2,"li",11),O(15,"li")(16,"a",12),z(17,"About"),k()(),qe(18,wke,3,0,"li",11),qe(19,Tke,3,0,"li",11),k()()()()),2&r&&(ve("@fadeInOut",void 0),se(6),ki("aria-expanded",i.isMenuOpen?"true":"false"),se(3),ll("hidden",!i.isMenuOpen),se(3),ve("routerLinkActiveOptions",dy(9,sV)),se(2),ve("ngIf",i.currentUser),se(2),ve("routerLinkActiveOptions",dy(10,sV)),se(2),ve("ngIf",!i.currentUser),se(1),ve("ngIf",i.currentUser))},dependencies:[_l,Rl,nq],data:{animation:[yl("fadeInOut",[WC("in",kn({opacity:1})),Xs("void => *",[kn({opacity:0}),Ys(300)]),Xs("* => void",[Ys(300,kn({opacity:0}))])])]}}),e})(),Cke=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pi({type:t,selectors:[["app-footer"]],decls:6,vars:0,consts:[[1,"bg-gray-900","text-white","py-6"],[1,"container","mx-auto","text-center"],[1,"text-lg","font-semibold"],[1,"text-sm","text-gray-400","mt-2"]],template:function(r,i){1&r&&(O(0,"footer",0)(1,"div",1)(2,"p",2),z(3," \xa9 2023 Parking Ticket App - All Rights Reserved "),k(),O(4,"p",3),z(5,"Developed by Aleksandar Dimov"),k()()())}}),e})(),Ake=(()=>{var t;class e{constructor(){this.title="parking-ticket"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Pi({type:t,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"flex","flex-col","min-h-screen"],[1,"flex-grow"]],template:function(r,i){1&r&&(O(0,"div",0),Nn(1,"app-navigation")(2,"router-outlet")(3,"div",1),O(4,"footer")(5,"div"),Nn(6,"app-footer"),k()()())},dependencies:[OA,bke,Cke]}),e})();const Dke={apiKey:"AIzaSyD6z0ylEWl3yC14vLSvXuCZAp1EemXESZo",authDomain:"parking-tickets-39a56.firebaseapp.com",projectId:"parking-tickets-39a56",storageBucket:"parking-tickets-39a56.appspot.com",messagingSenderId:"452653628939",appId:"1:452653628939:web:dea8b60ae499e7020d110e"};let Ske=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=mr({type:t,bootstrap:[Ake]}),t.\u0275inj=Kn({imports:[gG,I5,Hfe,Eke,sCe,I5,vIe(()=>EIe(Dke)),oke(()=>uke()),rbe(()=>sbe())]}),e})();Gde().bootstrapModule(Ske).catch(t=>console.error(t))}},Ze=>{Ze(Ze.s=545)}]);